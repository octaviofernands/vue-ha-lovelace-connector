export const id=6990;export const ids=[6990,96394];export const modules={57198:(e,a,t)=>{function o(e){return"strategy"in e}t.d(a,{R:()=>o})},57216:(e,a,t)=>{t.d(a,{A_:()=>n,SJ:()=>o,mQ:()=>s,n6:()=>i});const o=e=>e.callWS({type:"lovelace/dashboards/list"}),i=(e,a)=>e.callWS({type:"lovelace/dashboards/create",...a}),s=(e,a,t)=>e.callWS({type:"lovelace/dashboards/update",dashboard_id:a,...t}),n=(e,a)=>e.callWS({type:"lovelace/dashboards/delete",dashboard_id:a})},96394:(e,a,t)=>{t.r(a);var o=t(36312),i=t(50289),s=t(29818),n=(t(32885),t(45346),t(11804),t(55321));(0,o.A)([(0,s.EM)("hass-loading-screen")],(function(e,a){return{F:class extends a{constructor(...a){super(...a),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,attribute:"no-toolbar"})],key:"noToolbar",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"rootnav",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)()],key:"message",value:void 0},{kind:"method",key:"render",value:function(){return i.qy` ${this.noToolbar?"":i.qy`<div class="toolbar"> ${this.rootnav||history.state?.root?i.qy` <ha-menu-button .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:i.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._handleBack}"></ha-icon-button-arrow-prev> `} </div>`} <div class="content"> <ha-circular-progress indeterminate></ha-circular-progress> ${this.message?i.qy`<div id="loading-text">${this.message}</div>`:i.s6} </div> `}},{kind:"method",key:"_handleBack",value:function(){history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[n.RF,i.AH`:host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto}.content{height:calc(100% - var(--header-height));display:flex;flex-direction:column;align-items:center;justify-content:center}#loading-text{max-width:350px;margin-top:16px}`]}}]}}),i.WF)},6990:(e,a,t)=>{t.r(a),t.d(a,{HaConfigLovelaceDashboards:()=>$});var o=t(36312),i=t(68689),s=(t(89655),t(253),t(2075),t(94438),t(16891),t(4525),t(7986),t(50289)),n=t(29818),r=t(10977),l=t(94100),d=t(33922),h=t(16312),c=t(2682),u=(t(26207),t(52427),t(33381),t(4169),t(88400),t(50118)),g=t(57216),b=t(6121),v=(t(96394),t(71158),t(71797)),m=t(34897);const p=()=>t.e(11493).then(t.bind(t,11493));var y=t(26416);const f=()=>Promise.all([t.e(89053),t.e(70612),t.e(14836)]).then(t.bind(t,15898));var k=t(16567),_=t(96979);const w="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z";let $=(0,o.A)([(0,n.EM)("ha-config-lovelace-dashboards")],(function(e,a){class t extends a{constructor(...a){super(...a),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_dashboards",value:()=>[]},{kind:"field",decorators:[(0,_.I)({storage:"sessionStorage",key:"lovelace-dashboards-table-search",state:!0,subscribe:!1})],key:"_filter",value:()=>""},{kind:"field",decorators:[(0,_.I)({key:"lovelace-dashboards-table-sort",state:!1,subscribe:!1})],key:"_activeSorting",value:void 0},{kind:"field",decorators:[(0,_.I)({key:"lovelace-dashboards-table-column-order",state:!1,subscribe:!1})],key:"_activeColumnOrder",value:void 0},{kind:"field",decorators:[(0,_.I)({key:"lovelace-dashboards-table-hidden-columns",state:!1,subscribe:!1})],key:"_activeHiddenColumns",value:void 0},{kind:"method",key:"willUpdate",value:function(){this.hasUpdated||this.hass.loadFragmentTranslation("lovelace")}},{kind:"field",key:"_columns",value(){return(0,l.A)(((e,a,t,o)=>{const i={icon:{title:"",moveable:!1,showNarrow:!0,label:o("ui.panel.config.lovelace.dashboards.picker.headers.icon"),type:"icon",template:e=>e.icon?s.qy` <ha-icon slot="item-icon" .icon="${e.icon}" style="${(0,r.J)(e.iconColor?`color: ${e.iconColor}`:void 0)}"></ha-icon> `:s.s6},title:{title:o("ui.panel.config.lovelace.dashboards.picker.headers.title"),main:!0,sortable:!0,filterable:!0,flex:2,template:e?void 0:e=>s.qy` ${e.title} ${e.default?s.qy` <ha-svg-icon style="padding-left:10px;padding-inline-start:10px;direction:var(--direction)" .path="${"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20M16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z"}"></ha-svg-icon> <simple-tooltip animation-delay="0"> ${this.hass.localize("ui.panel.config.lovelace.dashboards.default_dashboard")} </simple-tooltip> `:""} `}};return i.mode={title:o("ui.panel.config.lovelace.dashboards.picker.headers.conf_mode"),sortable:!0,filterable:!0,template:e=>s.qy` ${this.hass.localize(`ui.panel.config.lovelace.dashboards.conf_mode.${e.mode}`)||e.mode} `},t.some((e=>e.filename))&&(i.filename={title:o("ui.panel.config.lovelace.dashboards.picker.headers.filename"),sortable:!0,filterable:!0}),i.require_admin={title:o("ui.panel.config.lovelace.dashboards.picker.headers.require_admin"),sortable:!0,type:"icon",hidden:e,template:e=>e.require_admin?s.qy`<ha-svg-icon .path="${w}"></ha-svg-icon>`:s.qy`—`},i.show_in_sidebar={title:o("ui.panel.config.lovelace.dashboards.picker.headers.sidebar"),type:"icon",hidden:e,template:e=>e.show_in_sidebar?s.qy`<ha-svg-icon .path="${w}"></ha-svg-icon>`:s.qy`—`},i.url_path={title:"",label:o("ui.panel.config.lovelace.dashboards.picker.headers.url"),filterable:!0,showNarrow:!0,template:a=>e?s.qy` <ha-icon-button .path="${"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"}" .urlPath="${a.url_path}" @click="${this._navigate}" .label="${this.hass.localize("ui.panel.config.lovelace.dashboards.picker.open")}"></ha-icon-button> `:s.qy` <mwc-button .urlPath="${a.url_path}" @click="${this._navigate}">${this.hass.localize("ui.panel.config.lovelace.dashboards.picker.open")}</mwc-button> `},i}))}},{kind:"field",key:"_getItems",value(){return(0,l.A)((e=>{const a=(this.hass.panels?.lovelace?.config).mode,t=this.hass.defaultPanel,o="lovelace"===t,i=[{icon:"hass:view-dashboard",title:this.hass.localize("panel.states"),default:o,show_in_sidebar:o,require_admin:!1,url_path:"lovelace",mode:a,filename:"yaml"===a?"ui-lovelace.yaml":"",iconColor:"var(--primary-color)"}];return(0,d.x)(this.hass,"energy")&&i.push({icon:"hass:lightning-bolt",title:this.hass.localize("ui.panel.config.dashboard.energy.main"),show_in_sidebar:!0,mode:"storage",url_path:"energy",filename:"",iconColor:"var(--label-badge-yellow)",default:!1,require_admin:!1}),i.push(...e.sort(((e,a)=>(0,c.x)(e.title,a.title,this.hass.locale.language))).map((e=>({filename:"",...e,default:t===e.url_path})))),i}))}},{kind:"method",key:"render",value:function(){return this.hass&&void 0!==this._dashboards?s.qy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" back-path="/config" .route="${this.route}" .tabs="${y.lovelaceTabs}" .columns="${this._columns(this.narrow,this.hass.language,this._dashboards,this.hass.localize)}" .data="${this._getItems(this._dashboards)}" .initialSorting="${this._activeSorting}" .columnOrder="${this._activeColumnOrder}" .hiddenColumns="${this._activeHiddenColumns}" @columns-changed="${this._handleColumnsChanged}" @sorting-changed="${this._handleSortingChanged}" .filter="${this._filter}" @search-changed="${this._handleSearchChange}" @row-click="${this._editDashboard}" id="url_path" hasFab clickable> ${this.hass.userData?.showAdvanced?s.qy` <ha-button-menu slot="toolbar-icon" activatable> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"}"></ha-icon-button> <ha-clickable-list-item href="/config/lovelace/resources"> ${this.hass.localize("ui.panel.config.lovelace.resources.caption")} </ha-clickable-list-item> </ha-button-menu> `:""} <ha-fab slot="fab" .label="${this.hass.localize("ui.panel.config.lovelace.dashboards.picker.add_dashboard")}" extended @click="${this._addDashboard}"> <ha-svg-icon slot="icon" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </ha-fab> </hass-tabs-subpage-data-table> `:s.qy` <hass-loading-screen></hass-loading-screen> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,i.A)(t,"firstUpdated",this,3)([e]),this._getDashboards()}},{kind:"method",key:"_getDashboards",value:async function(){this._dashboards=await(0,g.SJ)(this.hass)}},{kind:"method",key:"_navigate",value:function(e){e.stopPropagation(),(0,h.o)(`/${e.target.urlPath}`)}},{kind:"method",key:"_editDashboard",value:function(e){const a=e.detail.id;if("energy"===a)return void(0,h.o)("/config/energy");const t=this._dashboards.find((e=>e.url_path===a));this._openDetailDialog(t,a)}},{kind:"method",key:"_addDashboard",value:async function(){var e,a;e=this,a={selectConfig:async e=>{if(e&&(0,u.Wu)(e)){const o=e.strategy.type;if((await(0,v.Nu)("dashboard",o)).configRequired)return a=this,t={config:e,saveConfig:async e=>{this._openDetailDialog(void 0,void 0,e)}},void(0,m.r)(a,"show-dialog",{dialogTag:"dialog-lovelace-dashboard-configure-strategy",dialogImport:f,dialogParams:t})}var a,t;this._openDetailDialog(void 0,void 0,e)}},(0,m.r)(e,"show-dialog",{dialogTag:"ha-dialog-new-dashboard",dialogImport:p,dialogParams:a})}},{kind:"method",key:"_openDetailDialog",value:async function(e,a,t){(0,k.B)(this,{dashboard:e,urlPath:a,createDashboard:async e=>{const a=await(0,g.n6)(this.hass,e);this._dashboards=this._dashboards.concat(a).sort(((e,a)=>(0,c.x)(e.url_path,a.url_path,this.hass.locale.language))),t&&await(0,u.ql)(this.hass,a.url_path,t)},updateDashboard:async a=>{const t=await(0,g.mQ)(this.hass,e.id,a);this._dashboards=this._dashboards.map((a=>a===e?t:a))},removeDashboard:async()=>{if(!await(0,b.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.lovelace.dashboards.confirm_delete_title",{dashboard_title:e.title}),text:this.hass.localize("ui.panel.config.lovelace.dashboards.confirm_delete_text"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0}))return!1;try{return await(0,g.A_)(this.hass,e.id),this._dashboards=this._dashboards.filter((a=>a!==e)),!0}catch(e){return!1}}})}},{kind:"method",key:"_handleSortingChanged",value:function(e){this._activeSorting=e.detail}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value}},{kind:"method",key:"_handleColumnsChanged",value:function(e){this._activeColumnOrder=e.detail.columnOrder,this._activeHiddenColumns=e.detail.hiddenColumns}}]}}),s.WF)},16567:(e,a,t)=>{t.d(a,{B:()=>s});var o=t(34897);const i=()=>t.e(97741).then(t.bind(t,97741)),s=(e,a)=>{(0,o.r)(e,"show-dialog",{dialogTag:"dialog-lovelace-dashboard-detail",dialogImport:i,dialogParams:a})}},71797:(e,a,t)=>{t.d(a,{Nu:()=>l,Xd:()=>c,d4:()=>g,uN:()=>h,xC:()=>u});t(16891);var o=t(50118),i=t(57198),s=t(84028);const n="custom:",r={dashboard:{"original-states":()=>t.e(5527).then(t.bind(t,5527)),map:()=>t.e(29387).then(t.bind(t,29387)),iframe:()=>t.e(76985).then(t.bind(t,76985))},view:{"original-states":()=>t.e(99264).then(t.bind(t,99264)),energy:()=>t.e(14604).then(t.bind(t,14604)),map:()=>t.e(65276).then(t.bind(t,65276)),iframe:()=>t.e(6182).then(t.bind(t,6182))},section:{}},l=async(e,a)=>{if(a in r[e]){await r[e][a]();const t=`${a}-${e}-strategy`;return customElements.get(t)}if(!a.startsWith(n))throw new Error("Unknown strategy");const t=`ll-strategy-${a.slice(7)}`,o=`ll-strategy-${e}-${a.slice(7)}`;if(!0===await Promise.race([customElements.whenDefined(t),customElements.whenDefined(o),new Promise((e=>{setTimeout((()=>e(!0)),5e3)}))]))throw new Error(`Timeout waiting for strategy element ${o} to be registered`);return customElements.get(o)??customElements.get(t)},d=async(e,a,t,o)=>{const i=t.type;if(!i)return a("No strategy type found");try{const a=await l(e,i);if((0,s.Xo)(a)){if("dashboard"===e&&"generateDashboard"in a)return await a.generateDashboard({config:{strategy:t,views:[]},hass:o});if("view"===e&&"generateView"in a)return await a.generateView({config:{views:[]},view:{strategy:t},hass:o})}const n=(0,s._V)(t);return await a.generate(n,o)}catch(e){return"timeout"!==e.message&&console.error(e),a(e)}},h=async(e,a)=>d("dashboard",(e=>({views:[{title:"Error",cards:[{type:"markdown",content:`Error loading the dashboard strategy:\n> ${e}`}]}]})),e,a),c=async(e,a)=>d("view",(e=>({cards:[{type:"markdown",content:`Error loading the view strategy:\n> ${e}`}]})),e,a),u=async(e,a)=>d("section",(e=>({cards:[{type:"markdown",content:`Error loading the section strategy:\n> ${e}`}]})),e,a),g=async(e,a)=>{const t=(0,o.Wu)(e)?await h(e.strategy,a):{...e};return t.views=await Promise.all(t.views.map((async e=>{const t=(0,i.R)(e)?await c(e.strategy,a):{...e};return t.sections&&(t.sections=await Promise.all(t.sections.map((async e=>(0,i.R)(e)?await u(e.strategy,a):{...e})))),t}))),t}},84028:(e,a,t)=>{t.d(a,{B2:()=>i,Xo:()=>o,_V:()=>s});const o=e=>!("generate"in e),i=e=>2===Object.keys(e).length&&"options"in e&&"object"==typeof e.options,s=e=>{if(!i(e))return e;const a={...e,...e.options};return delete a.options,a}}};
//# sourceMappingURL=6990.hFH1MiedPcQ.js.map