export const id=85855;export const ids=[85855];export const modules={85855:(e,t,i)=>{i.r(t),i.d(t,{HaTargetSelector:()=>h});var s=i(36312),r=i(68689),o=(i(253),i(4525),i(50289)),a=i(29818),n=i(94100),l=i(21863),c=i(10725),d=i(74229),u=i(29829);i(57200);let h=(0,s.A)([(0,a.EM)("ha-selector-target")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Object})],key:"value",value:void 0},{kind:"field",decorators:[(0,a.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,a.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,a.wk)()],key:"_entitySources",value:void 0},{kind:"field",decorators:[(0,a.wk)()],key:"_createDomains",value:void 0},{kind:"field",key:"_deviceIntegrationLookup",value:()=>(0,n.A)(c.fk)},{kind:"method",key:"_hasIntegration",value:function(e){return e.target?.entity&&(0,l.e)(e.target.entity).some((e=>e.integration))||e.target?.device&&(0,l.e)(e.target.device).some((e=>e.integration))}},{kind:"method",key:"updated",value:function(e){(0,r.A)(i,"updated",this,3)([e]),e.has("selector")&&this._hasIntegration(this.selector)&&!this._entitySources&&(0,d.c)(this.hass).then((e=>{this._entitySources=e})),e.has("selector")&&(this._createDomains=(0,u.Lo)(this.selector))}},{kind:"method",key:"render",value:function(){return this._hasIntegration(this.selector)&&!this._entitySources?o.s6:o.qy` ${this.label?o.qy`<label>${this.label}</label>`:o.s6} <ha-target-picker .hass="${this.hass}" .value="${this.value}" .helper="${this.helper}" .deviceFilter="${this._filterDevices}" .entityFilter="${this._filterEntities}" .disabled="${this.disabled}" .createDomains="${this._createDomains}"></ha-target-picker>`}},{kind:"field",key:"_filterEntities",value(){return e=>!this.selector.target?.entity||(0,l.e)(this.selector.target.entity).some((t=>(0,u.Ru)(t,e,this._entitySources)))}},{kind:"field",key:"_filterDevices",value(){return e=>{if(!this.selector.target?.device)return!0;const t=this._entitySources?this._deviceIntegrationLookup(this._entitySources,Object.values(this.hass.entities)):void 0;return(0,l.e)(this.selector.target.device).some((i=>(0,u.vX)(i,e,t)))}}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`ha-target-picker{display:block}`}}]}}),o.WF)},74229:(e,t,i)=>{i.d(t,{c:()=>o});const s=async(e,t,i,r,o,...a)=>{const n=o,l=n[e],c=l=>r&&r(o,l.result)!==l.cacheKey?(n[e]=void 0,s(e,t,i,r,o,...a)):l.result;if(l)return l instanceof Promise?l.then(c):c(l);const d=i(o,...a);return n[e]=d,d.then((i=>{n[e]={result:i,cacheKey:r?.(o,i)},setTimeout((()=>{n[e]=void 0}),t)}),(()=>{n[e]=void 0})),d},r=e=>e.callWS({type:"entity/source"}),o=e=>s("_entitySources",3e4,r,(e=>Object.keys(e.states).length),e)}};
//# sourceMappingURL=85855.KaUOS0-zG-8.js.map