export const id=73015;export const ids=[73015];export const modules={73015:(e,t,i)=>{i.r(t),i.d(t,{HaAreaSelector:()=>v});var s=i(36312),r=(i(253),i(4525),i(50289)),a=i(29818),l=i(94100),o=i(21863),n=i(10725),d=i(34897),h=i(74229),c=i(31265),u=i(29829);i(25756),i(16311);let v=(0,s.A)([(0,a.EM)("ha-selector-area")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,a.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,a.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,a.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"required",value:()=>!0},{kind:"field",decorators:[(0,a.wk)()],key:"_entitySources",value:void 0},{kind:"field",decorators:[(0,a.wk)()],key:"_configEntries",value:void 0},{kind:"field",key:"_deviceIntegrationLookup",value:()=>(0,l.A)(n.fk)},{kind:"method",key:"_hasIntegration",value:function(e){return e.area?.entity&&(0,o.e)(e.area.entity).some((e=>e.integration))||e.area?.device&&(0,o.e)(e.area.device).some((e=>e.integration))}},{kind:"method",key:"willUpdate",value:function(e){e.has("selector")&&void 0!==this.value&&(this.selector.area?.multiple&&!Array.isArray(this.value)?(this.value=[this.value],(0,d.r)(this,"value-changed",{value:this.value})):!this.selector.area?.multiple&&Array.isArray(this.value)&&(this.value=this.value[0],(0,d.r)(this,"value-changed",{value:this.value})))}},{kind:"method",key:"updated",value:function(e){e.has("selector")&&this._hasIntegration(this.selector)&&!this._entitySources&&(0,h.c)(this.hass).then((e=>{this._entitySources=e})),!this._configEntries&&this._hasIntegration(this.selector)&&(this._configEntries=[],(0,c.VN)(this.hass).then((e=>{this._configEntries=e})))}},{kind:"method",key:"render",value:function(){return this._hasIntegration(this.selector)&&!this._entitySources?r.s6:this.selector.area?.multiple?r.qy` <ha-areas-picker .hass="${this.hass}" .value="${this.value}" .helper="${this.helper}" .pickAreaLabel="${this.label}" no-add .deviceFilter="${this.selector.area?.device?this._filterDevices:void 0}" .entityFilter="${this.selector.area?.entity?this._filterEntities:void 0}" .disabled="${this.disabled}" .required="${this.required}"></ha-areas-picker> `:r.qy` <ha-area-picker .hass="${this.hass}" .value="${this.value}" .label="${this.label}" .helper="${this.helper}" no-add .deviceFilter="${this.selector.area?.device?this._filterDevices:void 0}" .entityFilter="${this.selector.area?.entity?this._filterEntities:void 0}" .disabled="${this.disabled}" .required="${this.required}"></ha-area-picker> `}},{kind:"field",key:"_filterEntities",value(){return e=>!this.selector.area?.entity||(0,o.e)(this.selector.area.entity).some((t=>(0,u.Ru)(t,e,this._entitySources)))}},{kind:"field",key:"_filterDevices",value(){return e=>{if(!this.selector.area?.device)return!0;const t=this._entitySources?this._deviceIntegrationLookup(this._entitySources,Object.values(this.hass.entities),Object.values(this.hass.devices),this._configEntries):void 0;return(0,o.e)(this.selector.area.device).some((i=>(0,u.vX)(i,e,t)))}}}]}}),r.WF)},74229:(e,t,i)=>{i.d(t,{c:()=>a});const s=async(e,t,i,r,a,...l)=>{const o=a,n=o[e],d=n=>r&&r(a,n.result)!==n.cacheKey?(o[e]=void 0,s(e,t,i,r,a,...l)):n.result;if(n)return n instanceof Promise?n.then(d):d(n);const h=i(a,...l);return o[e]=h,h.then((i=>{o[e]={result:i,cacheKey:r?.(a,i)},setTimeout((()=>{o[e]=void 0}),t)}),(()=>{o[e]=void 0})),h},r=e=>e.callWS({type:"entity/source"}),a=e=>s("_entitySources",3e4,r,(e=>Object.keys(e.states).length),e)}};
//# sourceMappingURL=73015.67a4wPAhHpM.js.map