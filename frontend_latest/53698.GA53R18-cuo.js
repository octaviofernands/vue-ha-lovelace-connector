export const id=53698;export const ids=[53698];export const modules={79682:(e,t,i)=>{i.d(t,{f:()=>o});i(253),i(4525);var a=i(21863),s=i(33922);const o=(e,t)=>(l(t)||n(e,t))&&!d(e,t)&&r(e,t),n=(e,t)=>!t.component||(0,a.e)(t.component).some((t=>(0,s.x)(e,t))),r=(e,t)=>!t.not_component||!(0,a.e)(t.not_component).some((t=>(0,s.x)(e,t))),l=e=>e.core,d=(e,t)=>(e=>e.advancedOnly)(t)&&!(e=>e.userData?.showAdvanced)(e)},66083:(e,t,i)=>{i.d(t,{A:()=>a});i(253),i(2075);const a=(e,t)=>e&&Object.keys(e.services).filter((i=>t in e.services[i]))},53698:(e,t,i)=>{i.r(t),i.d(t,{QuickBar:()=>w});var a=i(36312),s=(i(89655),i(253),i(2075),i(16891),i(63893),i(50289)),o=i(29818),n=i(10977),r=i(55165),l=i(94100),d=i(79682),c=i(66083),h=i(33922),m=i(34897),u=i(19244),g=i(16312),p=i(2682),y=i(55792),_=i(18409),f=(i(32885),i(4169),i(27120),i(13830),i(90431),i(1940)),k=i(46092),v=i(46884),x=i(25473),I=i(55321),$=i(28884),b=i(6121);const C="M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z";let w=(0,a.A)([(0,o.EM)("ha-quick-bar")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_commandItems",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_entityItems",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_filter",value:()=>""},{kind:"field",decorators:[(0,o.wk)()],key:"_search",value:()=>""},{kind:"field",decorators:[(0,o.wk)()],key:"_open",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_commandMode",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_opened",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_narrow",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_hint",value:void 0},{kind:"field",decorators:[(0,o.P)("ha-textfield",!1)],key:"_filterInputField",value:void 0},{kind:"field",key:"_focusSet",value:()=>!1},{kind:"field",key:"_focusListElement",value:void 0},{kind:"method",key:"showDialog",value:async function(e){this._commandMode=e.commandMode||this._toggleIfAlreadyOpened(),this._hint=e.hint,this._narrow=matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches,this._initializeItemsIfNeeded(),this._open=!0}},{kind:"method",key:"closeDialog",value:function(){this._open=!1,this._opened=!1,this._focusSet=!1,this._filter="",this._search="",this._entityItems=void 0,this._commandItems=void 0,(0,m.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"willUpdate",value:function(){this.hasUpdated||(0,$.i)()}},{kind:"field",key:"_getItems",value(){return(0,l.A)(((e,t,i,a)=>{const s=e?t:i;return s&&a&&" "!==a?this._filterItems(s,a):s}))}},{kind:"method",key:"render",value:function(){if(!this._open)return s.s6;const e=this._getItems(this._commandMode,this._commandItems,this._entityItems,this._filter);return s.qy` <ha-dialog .heading="${this.hass.localize("ui.dialogs.quick-bar.title")}" open @opened="${this._handleOpened}" @closed="${this.closeDialog}" hideActions> <div slot="heading" class="heading"> <ha-textfield dialogInitialFocus .placeholder="${this.hass.localize("ui.dialogs.quick-bar.filter_placeholder")}" aria-label="${this.hass.localize("ui.dialogs.quick-bar.filter_placeholder")}" .value="${this._commandMode?`>${this._search}`:this._search}" icon .iconTrailing="${void 0!==this._search||this._narrow}" @input="${this._handleSearchChange}" @keydown="${this._handleInputKeyDown}" @focus="${this._setFocusFirstListItem}"> ${this._commandMode?s.qy` <ha-svg-icon slot="leadingIcon" class="prefix" .path="${"M13,19V16H21V19H13M8.5,13L2.47,7H6.71L11.67,11.95C12.25,12.54 12.25,13.5 11.67,14.07L6.74,19H2.5L8.5,13Z"}"></ha-svg-icon> `:s.qy` <ha-svg-icon slot="leadingIcon" class="prefix" .path="${"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}"></ha-svg-icon> `} ${this._search||this._narrow?s.qy` <div slot="trailingIcon"> ${this._search&&s.qy`<ha-icon-button @click="${this._clearSearch}" .label="${this.hass.localize("ui.common.clear")}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`} ${this._narrow?s.qy` <mwc-button .label="${this.hass.localize("ui.common.close")}" @click="${this.closeDialog}"></mwc-button> `:""} </div> `:""} </ha-textfield> </div> ${e?0===e.length?s.qy` <div class="nothing-found"> ${this.hass.localize("ui.dialogs.quick-bar.nothing_found")} </div> `:s.qy` <mwc-list> ${this._opened?s.qy`<lit-virtualizer scroller @keydown="${this._handleListItemKeyDown}" @rangechange="${this._handleRangeChanged}" @click="${this._handleItemClick}" class="ha-scrollbar" style="${(0,r.W)({height:this._narrow?"calc(100vh - 56px)":`${Math.min(e.length*(this._commandMode?56:72)+26,500)}px`})}" .items="${e}" .renderItem="${this._renderItem}"> </lit-virtualizer>`:""} </mwc-list> `:s.qy`<ha-circular-progress size="small" indeterminate></ha-circular-progress>`} ${this._hint?s.qy`<ha-tip .hass="${this.hass}">${this._hint}</ha-tip>`:""} </ha-dialog> `}},{kind:"method",key:"_initializeItemsIfNeeded",value:async function(){this._commandMode?this._commandItems=this._commandItems||await this._generateCommandItems():this._entityItems=this._entityItems||this._generateEntityItems()}},{kind:"method",key:"_handleOpened",value:function(){this._opened=!0}},{kind:"method",key:"_handleRangeChanged",value:async function(e){this._focusSet||e.firstVisible>-1&&(this._focusSet=!0,await this.updateComplete,this._setFocusFirstListItem())}},{kind:"field",key:"_renderItem",value(){return(e,t)=>e?(e=>void 0!==e.categoryKey)(e)?this._renderCommandItem(e,t):this._renderEntityItem(e,t):s.s6}},{kind:"method",key:"_renderEntityItem",value:function(e,t){return s.qy` <ha-list-item .twoline="${Boolean(e.altText)}" .item="${e}" index="${(0,n.J)(t)}" graphic="icon"> ${e.iconPath?s.qy` <ha-svg-icon .path="${e.iconPath}" class="entity" slot="graphic"></ha-svg-icon> `:s.qy`<span slot="graphic">${e.icon}</span>`} <span>${e.primaryText}</span> ${e.altText?s.qy` <span slot="secondary" class="item-text secondary">${e.altText}</span> `:s.s6} </ha-list-item> `}},{kind:"method",key:"_renderCommandItem",value:function(e,t){return s.qy` <ha-list-item .item="${e}" index="${(0,n.J)(t)}" class="command-item" hasMeta> <span> <ha-label .label="${e.categoryText}" class="command-category ${e.categoryKey}"> ${e.iconPath?s.qy` <ha-svg-icon .path="${e.iconPath}" slot="icon"></ha-svg-icon> `:s.s6} ${e.categoryText} </ha-label> </span> <span class="command-text">${e.primaryText}</span> </ha-list-item> `}},{kind:"method",key:"processItemAndCloseDialog",value:async function(e,t){this._addSpinnerToCommandItem(t),await e.action(),this.closeDialog()}},{kind:"method",key:"_handleInputKeyDown",value:function(e){if("Enter"===e.code){const e=this._getItemAtIndex(0);if(!e||"none"===e.style.display)return;this.processItemAndCloseDialog(e.item,0)}else"ArrowDown"===e.code&&(e.preventDefault(),this._getItemAtIndex(0)?.focus(),this._focusSet=!0,this._focusListElement=this._getItemAtIndex(0))}},{kind:"method",key:"_getItemAtIndex",value:function(e){return this.renderRoot.querySelector(`ha-list-item[index="${e}"]`)}},{kind:"method",key:"_addSpinnerToCommandItem",value:function(e){const t=document.createElement("ha-circular-progress");t.size="small",t.slot="meta",t.indeterminate=!0,this._getItemAtIndex(e)?.appendChild(t)}},{kind:"method",key:"_handleSearchChange",value:function(e){const t=e.currentTarget.value,i=this._commandMode,a=this._search;let s,o;t.startsWith(">")?(s=!0,o=t.substring(1)):(s=!1,o=t),i===s&&a===o||(this._commandMode=s,this._search=o,this._hint&&(this._hint=void 0),i!==this._commandMode?(this._focusSet=!1,this._initializeItemsIfNeeded(),this._filter=this._search):(this._focusSet&&this._focusListElement&&(this._focusSet=!1,this._focusListElement.rippleHandlers.endFocus()),this._debouncedSetFilter(this._search)))}},{kind:"method",key:"_clearSearch",value:function(){this._search="",this._filter=""}},{kind:"field",key:"_debouncedSetFilter",value(){return(0,_.s)((e=>{this._filter=e}),100)}},{kind:"method",key:"_setFocusFirstListItem",value:function(){this._getItemAtIndex(0)?.rippleHandlers.startFocus(),this._focusListElement=this._getItemAtIndex(0)}},{kind:"method",key:"_handleListItemKeyDown",value:function(e){const t=1===e.key.length,i=e.target.getAttribute("index"),a="0"===i;this._focusListElement=e.target,"ArrowDown"===e.key&&this._getItemAtIndex(Number(i)+1)?.focus(),"ArrowUp"===e.key&&(a?this._filterInputField?.focus():this._getItemAtIndex(Number(i)-1)?.focus()),"Enter"!==e.key&&" "!==e.key||this.processItemAndCloseDialog(e.target.item,Number(e.target.getAttribute("index"))),("Backspace"===e.key||t)&&(e.currentTarget.scrollTop=0,this._filterInputField?.focus())}},{kind:"method",key:"_handleItemClick",value:function(e){const t=e.target.closest("ha-list-item");this.processItemAndCloseDialog(t.item,Number(t.getAttribute("index")))}},{kind:"method",key:"_generateEntityItems",value:function(){return Object.keys(this.hass.states).map((e=>{const t=this.hass.states[e],i={primaryText:(0,u.u)(t),altText:e,icon:s.qy` <ha-state-icon .hass="${this.hass}" .stateObj="${t}"></ha-state-icon> `,action:()=>(0,m.r)(this,"hass-more-info",{entityId:e})};return{...i,strings:[i.primaryText,i.altText]}})).sort(((e,t)=>(0,p.S)(e.primaryText,t.primaryText,this.hass.locale.language)))}},{kind:"method",key:"_generateCommandItems",value:async function(){return[...await this._generateReloadCommands(),...this._generateServerControlCommands(),...await this._generateNavigationCommands()].sort(((e,t)=>(0,p.S)(e.strings.join(" "),t.strings.join(" "),this.hass.locale.language)))}},{kind:"method",key:"_generateReloadCommands",value:async function(){const e=(0,c.A)(this.hass,"reload"),t=await this.hass.loadBackendTranslation("title",e),i=e.map((e=>({primaryText:this.hass.localize(`ui.dialogs.quick-bar.commands.reload.${e}`)||this.hass.localize("ui.dialogs.quick-bar.commands.reload.reload",{domain:(0,k.p$)(t,e)}),action:()=>this.hass.callService(e,"reload"),iconPath:C,categoryText:this.hass.localize("ui.dialogs.quick-bar.commands.types.reload")})));return i.push({primaryText:this.hass.localize("ui.dialogs.quick-bar.commands.reload.themes"),action:()=>this.hass.callService("frontend","reload_themes"),iconPath:C,categoryText:this.hass.localize("ui.dialogs.quick-bar.commands.types.reload")}),i.push({primaryText:this.hass.localize("ui.dialogs.quick-bar.commands.reload.core"),action:()=>this.hass.callService("homeassistant","reload_core_config"),iconPath:C,categoryText:this.hass.localize("ui.dialogs.quick-bar.commands.types.reload")}),i.push({primaryText:this.hass.localize("ui.dialogs.quick-bar.commands.reload.all"),action:()=>this.hass.callService("homeassistant","reload_all"),iconPath:C,categoryText:this.hass.localize("ui.dialogs.quick-bar.commands.types.reload")}),i.map((e=>({...e,categoryKey:"reload",strings:[`${e.categoryText} ${e.primaryText}`]})))}},{kind:"method",key:"_generateServerControlCommands",value:function(){return["restart","stop"].map((e=>{const t="server_control",i={primaryText:this.hass.localize("ui.dialogs.quick-bar.commands.server_control.perform_action",{action:this.hass.localize(`ui.dialogs.quick-bar.commands.server_control.${e}`)}),iconPath:"M13,19H14A1,1 0 0,1 15,20H22V22H15A1,1 0 0,1 14,23H10A1,1 0 0,1 9,22H2V20H9A1,1 0 0,1 10,19H11V17H4A1,1 0 0,1 3,16V12A1,1 0 0,1 4,11H20A1,1 0 0,1 21,12V16A1,1 0 0,1 20,17H13V19M4,3H20A1,1 0 0,1 21,4V8A1,1 0 0,1 20,9H4A1,1 0 0,1 3,8V4A1,1 0 0,1 4,3M9,7H10V5H9V7M9,15H10V13H9V15M5,5V7H7V5H5M5,13V15H7V13H5Z",categoryText:this.hass.localize(`ui.dialogs.quick-bar.commands.types.${t}`),categoryKey:t,action:async()=>{await(0,b.showConfirmationDialog)(this,{title:this.hass.localize(`ui.dialogs.restart.${e}.confirm_title`),text:this.hass.localize(`ui.dialogs.restart.${e}.confirm_description`),confirmText:this.hass.localize(`ui.dialogs.restart.${e}.confirm_action`),destructive:!0})&&this.hass.callService("homeassistant",e)}};return{...i,strings:[`${i.categoryText} ${i.primaryText}`]}}))}},{kind:"method",key:"_generateNavigationCommands",value:async function(){const e=this._generateNavigationPanelCommands(),t=this._generateNavigationConfigSectionCommands(),i=[];if((0,h.x)(this.hass,"hassio")){const e=await(0,f.b3)(this.hass);i.push({path:"/hassio/store",primaryText:this.hass.localize("ui.dialogs.quick-bar.commands.navigation.addon_store")}),i.push({path:"/hassio/dashboard",primaryText:this.hass.localize("ui.dialogs.quick-bar.commands.navigation.addon_dashboard")});for(const t of e.addons.filter((e=>e.version)))i.push({path:`/hassio/addon/${t.slug}`,primaryText:this.hass.localize("ui.dialogs.quick-bar.commands.navigation.addon_info",{addon:t.name})})}return this._finalizeNavigationCommands([...e,...t,...i])}},{kind:"method",key:"_generateNavigationPanelCommands",value:function(){return Object.keys(this.hass.panels).filter((e=>"_my_redirect"!==e)).map((e=>{const t=this.hass.panels[e],i=(0,v.Wp)(t);return{primaryText:this.hass.localize(i)||t.title||t.url_path,path:`/${t.url_path}`}}))}},{kind:"method",key:"_generateNavigationConfigSectionCommands",value:function(){const e=[];for(const t of Object.keys(x.configSections))for(const i of x.configSections[t]){if(!(0,d.f)(this.hass,i))continue;const t=this._getNavigationInfoFromConfig(i);t&&(e.some((e=>e.path===t.path))||e.push(t))}return e}},{kind:"method",key:"_getNavigationInfoFromConfig",value:function(e){const t=e.path.substring(1);let i=t.substring(t.indexOf("/")+1);i=i.indexOf("/")>-1?i.substring(0,i.indexOf("/")):i;const a=i&&this.hass.localize(`ui.dialogs.quick-bar.commands.navigation.${i}`)||e.translationKey&&this.hass.localize(e.translationKey);if(a)return{...e,primaryText:a}}},{kind:"method",key:"_finalizeNavigationCommands",value:function(e){return e.map((e=>{const t="navigation",i={...e,iconPath:"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",categoryText:this.hass.localize(`ui.dialogs.quick-bar.commands.types.${t}`),action:()=>(0,g.o)(e.path)};return{...i,strings:[`${i.categoryText} ${i.primaryText}`],categoryKey:t}}))}},{kind:"method",key:"_toggleIfAlreadyOpened",value:function(){return!!this._opened&&!this._commandMode}},{kind:"field",key:"_filterItems",value:()=>(0,l.A)(((e,t)=>(0,y.H)(t.trimLeft(),e)))},{kind:"get",static:!0,key:"styles",value:function(){return[I.dp,I.nA,s.AH`mwc-list{position:relative;--mdc-list-vertical-padding:0}.heading{display:flex;align-items:center;--mdc-theme-primary:var(--primary-text-color)}.heading ha-textfield{flex-grow:1}ha-dialog{--dialog-z-index:9;--dialog-content-padding:0}@media (min-width:800px){ha-dialog{--mdc-dialog-max-width:800px;--mdc-dialog-min-width:500px;--dialog-surface-position:fixed;--dialog-surface-top:40px;--mdc-dialog-max-height:calc(100% - 72px)}}@media all and (max-width:450px),all and (max-height:500px){ha-textfield{--mdc-shape-small:0}}@media all and (max-width:450px),all and (max-height:690px){.hint{display:none}}ha-svg-icon.prefix{color:var(--primary-text-color)}ha-textfield ha-icon-button{--mdc-icon-button-size:24px;color:var(--primary-text-color)}.command-category{--ha-label-icon-color:#585858;--ha-label-text-color:#212121}.command-category.reload{--ha-label-background-color:#cddc39}.command-category.navigation{--ha-label-background-color:var(--light-primary-color)}.command-category.server_control{--ha-label-background-color:var(--warning-color)}span.command-text{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}ha-list-item{width:100%;--mdc-list-item-graphic-margin:20px}ha-list-item.command-item{text-transform:capitalize}ha-tip{padding:20px}.nothing-found{padding:16px 0px;text-align:center}div[slot=trailingIcon]{display:flex;align-items:center}lit-virtualizer{contain:size layout!important}`]}}]}}),s.WF)}};
//# sourceMappingURL=53698.GA53R18-cuo.js.map