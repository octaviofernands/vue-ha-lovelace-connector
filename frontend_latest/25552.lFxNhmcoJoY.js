export const id=25552;export const ids=[25552];export const modules={37456:(t,e,i)=>{i.d(e,{a:()=>a});const o=(0,i(58034).n)((t=>{history.replaceState({scrollPosition:t},"")}),300),a=t=>e=>({kind:"method",placement:"prototype",key:e.key,descriptor:{set(t){o(t),this[`__${String(e.key)}`]=t},get(){return this[`__${String(e.key)}`]||history.state?.scrollPosition},enumerable:!0,configurable:!0},finisher(i){const o=i.prototype.connectedCallback;i.prototype.connectedCallback=function(){o.call(this);const i=this[e.key];i&&this.updateComplete.then((()=>{const e=this.renderRoot.querySelector(t);e&&setTimeout((()=>{e.scrollTop=i}),0)}))}}})},96961:(t,e,i)=>{i.d(e,{JW:()=>f,OW:()=>m,PO:()=>d,VN:()=>s,XG:()=>l,eB:()=>p,gZ:()=>u,hM:()=>c,k2:()=>n,lU:()=>h,nc:()=>v,vX:()=>b,z1:()=>r});i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(2075),i(94438),i(16891);var o=i(16312),a=i(10725);let r=function(t){return t.THREAD="thread",t.WIFI="wifi",t.ETHERNET="ethernet",t.UNKNOWN="unknown",t}({});const n=t=>t.auth.external?.config.canCommissionMatter,s=t=>t.auth.external.fireMessage({type:"matter/commission"}),c=(t,e)=>{let i;const r=(0,a.Ag)(t.connection,(t=>{if(!i)return void(i=new Set(Object.values(t).filter((t=>t.identifiers.find((t=>"matter"===t[0])))).map((t=>t.id))));const a=Object.values(t).filter((t=>t.identifiers.find((t=>"matter"===t[0]))&&!i.has(t.id)));a.length&&(r(),i=void 0,e?.(),(0,o.o)(`/config/devices/device/${a[0].id}`))}));return()=>{r(),i=void 0}},d=(t,e)=>t.callWS({type:"matter/commission",code:e}),l=(t,e)=>t.callWS({type:"matter/commission_on_network",pin:e}),h=(t,e,i)=>t.callWS({type:"matter/set_wifi_credentials",network_name:e,password:i}),u=(t,e)=>t.callWS({type:"matter/set_thread",thread_operation_dataset:e}),p=(t,e)=>t.callWS({type:"matter/node_diagnostics",device_id:e}),m=(t,e)=>t.callWS({type:"matter/ping_node",device_id:e}),v=(t,e)=>t.callWS({type:"matter/open_commissioning_window",device_id:e}),b=(t,e,i)=>t.callWS({type:"matter/remove_matter_fabric",device_id:e,fabric_index:i}),f=(t,e)=>t.callWS({type:"matter/interview_node",device_id:e})},77980:(t,e,i)=>{var o=i(36312),a=i(50289),r=i(29818),n=i(37456),s=(i(45346),i(11804),i(55321));(0,o.A)([(0,r.EM)("hass-subpage")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,n.a)(".content")],key:"_savedScrollPos",value:void 0},{kind:"method",key:"render",value:function(){return a.qy` <div class="toolbar"> ${this.mainPage||history.state?.root?a.qy` <ha-menu-button .hassio="${this.supervisor}" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?a.qy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:a.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} <div class="main-title"><slot name="header">${this.header}</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="${this._saveScrollPos}"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> `}},{kind:"method",decorators:[(0,r.Ls)({passive:!0})],key:"_saveScrollPos",value:function(t){this._savedScrollPos=t.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[s.dp,a.AH`:host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:20px;flex-grow:1}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + env(safe-area-inset-right));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + env(safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}`]}}]}}),a.WF)},25552:(t,e,i)=>{i.r(e),i.d(e,{MatterConfigDashboard:()=>h});var o=i(36312),a=i(68689),r=(i(72606),i(50289)),n=i(29818),s=i(33922),c=(i(13292),i(13082),i(96961)),d=i(6121),l=(i(77980),i(55321));let h=(0,o.A)([(0,n.EM)("matter-config-dashboard")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_error",value:void 0},{kind:"field",key:"_unsub",value:void 0},{kind:"method",key:"disconnectedCallback",value:function(){(0,a.A)(i,"disconnectedCallback",this,3)([]),this._stopRedirect()}},{kind:"method",key:"render",value:function(){return r.qy` <hass-subpage .narrow="${this.narrow}" .hass="${this.hass}" header="Matter"> ${(0,s.x)(this.hass,"otbr")?r.qy` <a href="/config/thread" slot="toolbar-icon"> <mwc-button>Visit Thread Panel</mwc-button> </a> `:""} <div class="content"> <ha-card header="Matter"> <ha-alert alert-type="warning">Matter is still in the early phase of development, it is not meant to be used in production. This panel is for development only.</ha-alert> <div class="card-content"> ${this._error?r.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} You can add Matter devices by commissing them if they are not setup yet, or share them from another controller and enter the share code. </div> <div class="card-actions"> ${(0,c.k2)(this.hass)?r.qy`<mwc-button @click="${this._startMobileCommissioning}">Commission device with mobile app</mwc-button>`:""} <mwc-button @click="${this._commission}">Commission device</mwc-button> <mwc-button @click="${this._acceptSharedDevice}">Add shared device</mwc-button> <mwc-button @click="${this._setWifi}">Set WiFi Credentials</mwc-button> <mwc-button @click="${this._setThread}">Set Thread Credentials</mwc-button> </div> </ha-card> </div> </hass-subpage> `}},{kind:"method",key:"_redirectOnNewMatterDevice",value:function(){this._unsub||(this._unsub=(0,c.hM)(this.hass,(()=>{this._unsub=void 0})))}},{kind:"method",key:"_stopRedirect",value:function(){this._unsub?.(),this._unsub=void 0}},{kind:"method",key:"_startMobileCommissioning",value:function(){this._redirectOnNewMatterDevice(),(0,c.VN)(this.hass)}},{kind:"method",key:"_setWifi",value:async function(){this._error=void 0;const t=await(0,d.showPromptDialog)(this,{title:"Network name",inputLabel:"Network name",inputType:"string",confirmText:"Continue"});if(!t)return;const e=await(0,d.showPromptDialog)(this,{title:"Passcode",inputLabel:"Code",inputType:"password",confirmText:"Set Wifi"});if(e)try{await(0,c.lU)(this.hass,t,e)}catch(t){this._error=t.message}}},{kind:"method",key:"_commission",value:async function(){const t=await(0,d.showPromptDialog)(this,{title:"Commission device",inputLabel:"Code",inputType:"string",confirmText:"Commission"});if(t){this._error=void 0,this._redirectOnNewMatterDevice();try{await(0,c.PO)(this.hass,t)}catch(t){this._error=t.message,this._stopRedirect()}}}},{kind:"method",key:"_acceptSharedDevice",value:async function(){const t=await(0,d.showPromptDialog)(this,{title:"Add shared device",inputLabel:"Pin",inputType:"number",confirmText:"Accept device"});if(t){this._error=void 0,this._redirectOnNewMatterDevice();try{await(0,c.XG)(this.hass,Number(t))}catch(t){this._error=t.message,this._stopRedirect()}}}},{kind:"method",key:"_setThread",value:async function(){const t=await(0,d.showPromptDialog)(this,{title:"Set Thread operation",inputLabel:"Dataset",inputType:"string",confirmText:"Set Thread"});if(t){this._error=void 0;try{await(0,c.gZ)(this.hass,t)}catch(t){this._error=t.message}}}},{kind:"field",static:!0,key:"styles",value:()=>[l.RF,r.AH`ha-alert[alert-type=warning]{position:relative;top:-16px}.content{padding:24px 0 32px;max-width:600px;margin:0 auto;direction:ltr}ha-card:first-child{margin-bottom:16px}a[slot=toolbar-icon]{text-decoration:none}`]}]}}),r.WF)}};
//# sourceMappingURL=25552.lFxNhmcoJoY.js.map