export const id=35824;export const ids=[35824,36185];export const modules={36185:(e,t,a)=>{var r=a(36312),o=a(68689),i=(a(253),a(54846),a(16891),a(50289)),s=a(29818),n=a(85920),l=a(34897);a(13292),a(9421);const c={boolean:()=>a.e(96292).then(a.bind(a,96292)),constant:()=>a.e(44354).then(a.bind(a,44354)),float:()=>a.e(80866).then(a.bind(a,80866)),grid:()=>a.e(21306).then(a.bind(a,21306)),expandable:()=>a.e(82178).then(a.bind(a,82178)),integer:()=>a.e(65622).then(a.bind(a,43241)),multi_select:()=>a.e(26964).then(a.bind(a,26964)),positive_time_period_dict:()=>a.e(24280).then(a.bind(a,24280)),select:()=>a.e(22038).then(a.bind(a,22038)),string:()=>a.e(38819).then(a.bind(a,38819))},d=(e,t)=>e?!t.name||t.flatten?e:e[t.name]:null;(0,r.A)([(0,s.EM)("ha-form")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"data",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"schema",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"error",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"warning",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"computeError",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"computeWarning",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"computeLabel",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"computeHelper",value:void 0},{kind:"method",key:"getFormProperties",value:function(){return{}}},{kind:"method",key:"focus",value:async function(){await this.updateComplete;const e=this.renderRoot.querySelector(".root");if(e)for(const t of e.children)if("HA-ALERT"!==t.tagName){t instanceof i.mN&&await t.updateComplete,t.focus();break}}},{kind:"method",key:"willUpdate",value:function(e){e.has("schema")&&this.schema&&this.schema.forEach((e=>{"selector"in e||c[e.type]?.()}))}},{kind:"method",key:"render",value:function(){return i.qy` <div class="root" part="root"> ${this.error&&this.error.base?i.qy` <ha-alert alert-type="error"> ${this._computeError(this.error.base,this.schema)} </ha-alert> `:""} ${this.schema.map((e=>{const t=((e,t)=>e&&t.name?e[t.name]:null)(this.error,e),a=((e,t)=>e&&t.name?e[t.name]:null)(this.warning,e);return i.qy` ${t?i.qy` <ha-alert own-margin alert-type="error"> ${this._computeError(t,e)} </ha-alert> `:a?i.qy` <ha-alert own-margin alert-type="warning"> ${this._computeWarning(a,e)} </ha-alert> `:""} ${"selector"in e?i.qy`<ha-selector .schema="${e}" .hass="${this.hass}" .name="${e.name}" .selector="${e.selector}" .value="${d(this.data,e)}" .label="${this._computeLabel(e,this.data)}" .disabled="${e.disabled||this.disabled||!1}" .placeholder="${e.required?"":e.default}" .helper="${this._computeHelper(e)}" .required="${e.required||!1}" .context="${this._generateContext(e)}"></ha-selector>`:(0,n._)(this.fieldElementName(e.type),{schema:e,data:d(this.data,e),label:this._computeLabel(e,this.data),helper:this._computeHelper(e),disabled:this.disabled||e.disabled||!1,hass:this.hass,localize:this.hass?.localize,computeLabel:this.computeLabel,computeHelper:this.computeHelper,context:this._generateContext(e),...this.getFormProperties()})} `}))} </div> `}},{kind:"method",key:"fieldElementName",value:function(e){return`ha-form-${e}`}},{kind:"method",key:"_generateContext",value:function(e){if(!e.context)return;const t={};for(const[a,r]of Object.entries(e.context))t[a]=this.data[r];return t}},{kind:"method",key:"createRenderRoot",value:function(){const e=(0,o.A)(a,"createRenderRoot",this,3)([]);return this.addValueChangedListener(e),e}},{kind:"method",key:"addValueChangedListener",value:function(e){e.addEventListener("value-changed",(e=>{e.stopPropagation();const t=e.target.schema;if(e.target===this)return;const a=!t.name||"flatten"in t&&t.flatten?e.detail.value:{[t.name]:e.detail.value};this.data={...this.data,...a},(0,l.r)(this,"value-changed",{value:this.data})}))}},{kind:"method",key:"_computeLabel",value:function(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}},{kind:"method",key:"_computeHelper",value:function(e){return this.computeHelper?this.computeHelper(e):""}},{kind:"method",key:"_computeError",value:function(e,t){return Array.isArray(e)?i.qy`<ul> ${e.map((e=>i.qy`<li> ${this.computeError?this.computeError(e,t):e} </li>`))} </ul>`:this.computeError?this.computeError(e,t):e}},{kind:"method",key:"_computeWarning",value:function(e,t){return this.computeWarning?this.computeWarning(e,t):e}},{kind:"get",static:!0,key:"styles",value:function(){return i.AH`.root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}`}}]}}),i.WF)},35824:(e,t,a)=>{a.r(t),a.d(t,{HuiWeatherForecastCardEditor:()=>m});var r=a(36312),o=a(50289),i=a(29818),s=a(94100),n=a(66419),l=a(34897),c=(a(36185),a(9883)),d=a(73682),h=a(76914),u=a(56124),f=a(42496);const p=(0,n.kp)(u.H,(0,n.Ik)({entity:(0,n.lq)((0,n.Yj)()),name:(0,n.lq)((0,n.Yj)()),theme:(0,n.lq)((0,n.Yj)()),show_current:(0,n.lq)((0,n.zM)()),show_forecast:(0,n.lq)((0,n.zM)()),forecast_type:(0,n.lq)((0,n.Yj)()),secondary_info_attribute:(0,n.lq)((0,n.Yj)()),tap_action:(0,n.lq)(h.k),hold_action:(0,n.lq)(h.k),double_tap_action:(0,n.lq)(h.k)}));let m=(0,r.A)([(0,i.EM)("hui-weather-forecast-card-editor")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,i.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,i.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){if((0,n.vA)(e,p),this._config=e,(!0===e.show_forecast&&!1===this._hasForecast||!1===e.show_current&&!1===e.show_forecast)&&(0,l.r)(this,"config-changed",{config:{...e,show_current:!0,show_forecast:!1}}),!e.forecast_type||"legacy"===e.forecast_type&&this._modernForecastSupported()||!this._forecastSupported(e.forecast_type)){let t;this._forecastSupported("daily")?t="daily":this._forecastSupported("hourly")?t="hourly":this._forecastSupported("twice_daily")?t="twice_daily":this._forecastSupported("legacy")&&(t="legacy"),(0,l.r)(this,"config-changed",{config:{...e,forecast_type:t}})}}},{kind:"get",key:"_stateObj",value:function(){if(this.hass&&this._config)return this.hass.states[this._config.entity]}},{kind:"get",key:"_hasForecast",value:function(){const e=this._stateObj;if(e&&e.state!==c.Hh)return!(!e.attributes.forecast?.length&&!e.attributes.supported_features)}},{kind:"method",key:"_forecastSupported",value:function(e){const t=this._stateObj;return"legacy"===e?!!t.attributes.forecast?.length:"daily"===e?(0,f.$)(t,d.Or.FORECAST_DAILY):"hourly"===e?(0,f.$)(t,d.Or.FORECAST_HOURLY):"twice_daily"===e&&(0,f.$)(t,d.Or.FORECAST_TWICE_DAILY)}},{kind:"method",key:"_modernForecastSupported",value:function(){return this._forecastSupported("daily")||this._forecastSupported("hourly")||this._forecastSupported("twice_daily")}},{kind:"field",key:"_schema",value:()=>(0,s.A)(((e,t,a,r,o)=>[{name:"entity",required:!0,selector:{entity:{domain:"weather"}}},{name:"name",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"secondary_info_attribute",selector:{attribute:{}},context:{filter_entity:"entity"}},{name:"theme",selector:{theme:{}}}]},...a||r||o?[{name:"forecast_type",selector:{select:{options:[...a?[{value:"daily",label:e("ui.panel.lovelace.editor.card.weather-forecast.daily")}]:[],...r?[{value:"hourly",label:e("ui.panel.lovelace.editor.card.weather-forecast.hourly")}]:[],...o?[{value:"twice_daily",label:e("ui.panel.lovelace.editor.card.weather-forecast.twice_daily")}]:[]]}}}]:[],...a||r||o||t?[{name:"forecast",selector:{select:{options:[{value:"show_both",label:e("ui.panel.lovelace.editor.card.weather-forecast.show_both")},{value:"show_current",label:e("ui.panel.lovelace.editor.card.weather-forecast.show_only_current")},{value:"show_forecast",label:e("ui.panel.lovelace.editor.card.weather-forecast.show_only_forecast")}]}}}]:[]]))},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return o.s6;const e=this._schema(this.hass.localize,this._forecastSupported("legacy"),this._forecastSupported("daily"),this._forecastSupported("hourly"),this._forecastSupported("twice_daily")),t={show_current:!0,show_forecast:this._hasForecast,...this._config};return t.forecast=t.show_current&&t.show_forecast?"show_both":t.show_current?"show_current":"show_forecast",o.qy` <ha-form .hass="${this.hass}" .data="${t}" .schema="${e}" .computeLabel="${this._computeLabelCallback}" @value-changed="${this._valueChanged}"></ha-form> `}},{kind:"method",key:"_valueChanged",value:function(e){const t=e.detail.value;"show_both"===t.forecast?(t.show_current=!0,t.show_forecast=!0):"show_current"===t.forecast?(t.show_current=!0,t.show_forecast=!1):(t.show_current=!1,t.show_forecast=!0),delete t.forecast,(0,l.r)(this,"config-changed",{config:t})}},{kind:"field",key:"_computeLabelCallback",value(){return e=>{switch(e.name){case"entity":return`${this.hass.localize("ui.panel.lovelace.editor.card.generic.entity")} (${this.hass.localize("ui.panel.lovelace.editor.card.config.required")})`;case"theme":return`${this.hass.localize("ui.panel.lovelace.editor.card.generic.theme")} (${this.hass.localize("ui.panel.lovelace.editor.card.config.optional")})`;case"forecast_type":return this.hass.localize("ui.panel.lovelace.editor.card.weather-forecast.forecast_type");case"forecast":return this.hass.localize("ui.panel.lovelace.editor.card.weather-forecast.weather_to_show");default:return this.hass.localize(`ui.panel.lovelace.editor.card.generic.${e.name}`)}}}}]}}),o.WF)},76914:(e,t,a)=>{a.d(t,{k:()=>h});var r=a(66419);const o=(0,r.Ik)({user:(0,r.Yj)()}),i=(0,r.KC)([(0,r.zM)(),(0,r.Ik)({text:(0,r.lq)((0,r.Yj)()),excemptions:(0,r.lq)((0,r.YO)(o))})]),s=(0,r.Ik)({action:(0,r.eu)("url"),url_path:(0,r.Yj)(),confirmation:(0,r.lq)(i)}),n=(0,r.Ik)({action:(0,r.vP)(["call-service","perform-action"]),service:(0,r.lq)((0,r.Yj)()),perform_action:(0,r.lq)((0,r.Yj)()),service_data:(0,r.lq)((0,r.Ik)()),data:(0,r.lq)((0,r.Ik)()),target:(0,r.lq)((0,r.Ik)({entity_id:(0,r.lq)((0,r.KC)([(0,r.Yj)(),(0,r.YO)((0,r.Yj)())])),device_id:(0,r.lq)((0,r.KC)([(0,r.Yj)(),(0,r.YO)((0,r.Yj)())])),area_id:(0,r.lq)((0,r.KC)([(0,r.Yj)(),(0,r.YO)((0,r.Yj)())])),floor_id:(0,r.lq)((0,r.KC)([(0,r.Yj)(),(0,r.YO)((0,r.Yj)())])),label_id:(0,r.lq)((0,r.KC)([(0,r.Yj)(),(0,r.YO)((0,r.Yj)())]))})),confirmation:(0,r.lq)(i)}),l=(0,r.Ik)({action:(0,r.eu)("navigate"),navigation_path:(0,r.Yj)(),navigation_replace:(0,r.lq)((0,r.zM)()),confirmation:(0,r.lq)(i)}),c=(0,r.NW)({action:(0,r.eu)("assist"),pipeline_id:(0,r.lq)((0,r.Yj)()),start_listening:(0,r.lq)((0,r.zM)())}),d=(0,r.Ik)({action:(0,r.vP)(["none","toggle","more-info","call-service","perform-action","url","navigate","assist"]),confirmation:(0,r.lq)(i)}),h=(0,r.OR)((e=>{if(e&&"object"==typeof e&&"action"in e)switch(e.action){case"call-service":case"perform-action":return n;case"navigate":return l;case"url":return s;case"assist":return c}return d}))},56124:(e,t,a)=>{a.d(t,{H:()=>o});var r=a(66419);const o=(0,r.Ik)({type:(0,r.Yj)(),view_layout:(0,r.bz)(),layout_options:(0,r.bz)(),visibility:(0,r.bz)()})}};
//# sourceMappingURL=35824.5DyUTCxV8GQ.js.map