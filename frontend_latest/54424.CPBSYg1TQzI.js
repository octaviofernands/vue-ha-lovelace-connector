export const id=54424;export const ids=[54424];export const modules={29136:(e,t,s)=>{s.d(t,{H:()=>i,R:()=>a});const a=(e,t,s)=>e.subscribeMessage((e=>t(e)),{type:"render_template",...s}),i=(e,t,s,a,i)=>e.connection.subscribeMessage(i,{type:"template/start_preview",flow_id:t,flow_type:s,user_input:a})},54424:(e,t,s)=>{s.r(t);var a=s(36312),i=s(68689),l=(s(16891),s(72606),s(50289)),r=s(29818),n=s(85323),o=s(18409),d=(s(13292),s(32885),s(31979),s(29136)),p=s(6121),h=s(55321),c=s(84976);const u='{## Imitate available variables: ##}\n{% set my_test_json = {\n  "temperature": 25,\n  "unit": "Â°C"\n} %}\n\nThe temperature is {{ my_test_json.temperature }} {{ my_test_json.unit }}.\n\n{% if is_state("sun.sun", "above_horizon") -%}\n  The sun rose {{ relative_time(states.sun.sun.last_changed) }} ago.\n{%- else -%}\n  The sun will rise at {{ as_timestamp(state_attr("sun.sun", "next_rising")) | timestamp_local }}.\n{%- endif %}\n\nFor loop example getting entity values in the weather domain:\n\n{% for state in states.weather -%}\n  {%- if loop.first %}The {% elif loop.last %} and the {% else %}, the {% endif -%}\n  {{ state.name | lower }} is {{state.state_with_unit}}\n{%- endfor %}.';(0,a.A)([(0,r.EM)("developer-tools-template")],(function(e,t){class s extends t{constructor(...t){super(...t),e(this)}}return{F:s,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_errorLevel",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_rendering",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_templateResult",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_unsubRenderTemplate",value:void 0},{kind:"field",key:"_template",value:()=>""},{kind:"field",key:"_inited",value:()=>!1},{kind:"method",key:"connectedCallback",value:function(){(0,i.A)(s,"connectedCallback",this,3)([]),this._template&&!this._unsubRenderTemplate&&this._subscribeTemplate()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,i.A)(s,"disconnectedCallback",this,3)([]),this._unsubscribeTemplate()}},{kind:"method",key:"firstUpdated",value:function(){localStorage&&localStorage["panel-dev-template-template"]?this._template=localStorage["panel-dev-template-template"]:this._template=u,this._subscribeTemplate(),this._inited=!0}},{kind:"method",key:"render",value:function(){const e=typeof this._templateResult?.result,t="object"===e?Array.isArray(this._templateResult?.result)?"list":"dict":e;return l.qy` <div class="content"> <div class="description"> <p> ${this.hass.localize("ui.panel.developer-tools.tabs.templates.description")} </p> <ul> <li> <a href="https://jinja.palletsprojects.com/en/latest/templates/" target="_blank" rel="noreferrer">${this.hass.localize("ui.panel.developer-tools.tabs.templates.jinja_documentation")} </a> </li> <li> <a href="${(0,c.o)(this.hass,"/docs/configuration/templating/")}" target="_blank" rel="noreferrer"> ${this.hass.localize("ui.panel.developer-tools.tabs.templates.template_extensions")}</a> </li> </ul> </div> </div> <div class="content ${(0,n.H)({layout:!this.narrow,horizontal:!this.narrow})}"> <ha-card class="edit-pane" header="${this.hass.localize("ui.panel.developer-tools.tabs.templates.editor")}"> <div class="card-content"> <ha-code-editor mode="jinja2" .hass="${this.hass}" .value="${this._template}" .error="${this._error}" autofocus autocomplete-entities autocomplete-icons @value-changed="${this._templateChanged}" dir="ltr"></ha-code-editor> </div> <div class="card-actions"> <mwc-button @click="${this._restoreDemo}"> ${this.hass.localize("ui.panel.developer-tools.tabs.templates.reset")} </mwc-button> <mwc-button @click="${this._clear}"> ${this.hass.localize("ui.common.clear")} </mwc-button> </div> </ha-card> <ha-card class="render-pane" header="${this.hass.localize("ui.panel.developer-tools.tabs.templates.result")}"> <div class="card-content"> ${this._rendering?l.qy`<ha-circular-progress class="render-spinner" indeterminate size="small"></ha-circular-progress>`:""} ${this._error?l.qy`<ha-alert alert-type="${this._errorLevel?.toLowerCase()||"error"}">${this._error}</ha-alert>`:l.s6} ${this._templateResult?l.qy`${this.hass.localize("ui.panel.developer-tools.tabs.templates.result_type")}: ${t} <pre class="rendered ${(0,n.H)({[t]:t})}">${"object"===e?JSON.stringify(this._templateResult.result,null,2):this._templateResult.result}</pre> ${this._templateResult.listeners.time?l.qy` <p> ${this.hass.localize("ui.panel.developer-tools.tabs.templates.time")} </p> `:""} ${this._templateResult.listeners?this._templateResult.listeners.all?l.qy` <p class="all_listeners"> ${this.hass.localize("ui.panel.developer-tools.tabs.templates.all_listeners")} </p> `:this._templateResult.listeners.domains.length||this._templateResult.listeners.entities.length?l.qy` <p> ${this.hass.localize("ui.panel.developer-tools.tabs.templates.listeners")} </p> <ul> ${this._templateResult.listeners.domains.sort().map((e=>l.qy` <li> <b>${this.hass.localize("ui.panel.developer-tools.tabs.templates.domain")}</b>: ${e} </li> `))} ${this._templateResult.listeners.entities.sort().map((e=>l.qy` <li> <b>${this.hass.localize("ui.panel.developer-tools.tabs.templates.entity")}</b>: ${e} </li> `))} </ul> `:this._templateResult.listeners.time?l.s6:l.qy`<span class="all_listeners"> ${this.hass.localize("ui.panel.developer-tools.tabs.templates.no_listeners")} </span>`:l.s6}`:l.s6} </div> </ha-card> </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return[h.RF,l.AH`:host{-ms-user-select:initial;-webkit-user-select:initial;-moz-user-select:initial}.content{gap:16px;padding:16px;padding:max(16px,env(safe-area-inset-top)) max(16px,env(safe-area-inset-right)) max(16px,env(safe-area-inset-bottom)) max(16px,env(safe-area-inset-left))}ha-card{margin-bottom:16px}.edit-pane{direction:var(--direction)}.edit-pane a{color:var(--primary-color)}.horizontal .edit-pane{max-width:50%}.render-spinner{position:absolute;top:8px;right:8px;inset-inline-end:8px;inset-inline-start:initial}ha-alert{margin-bottom:8px;display:block}.rendered{@apply --paper-font-code1;clear:both;white-space:pre-wrap;background-color:var(--secondary-background-color);padding:8px;direction:ltr}.all_listeners{color:var(--warning-color)}@media all and (max-width:870px){.render-pane{max-width:100%}}`]}},{kind:"field",key:"_debounceRender",value(){return(0,o.s)((()=>{this._subscribeTemplate(),this._storeTemplate()}),500,!1)}},{kind:"method",key:"_templateChanged",value:function(e){this._template=e.detail.value,this._error&&(this._error=void 0,this._errorLevel=void 0),this._debounceRender()}},{kind:"method",key:"_subscribeTemplate",value:async function(){this._rendering=!0,await this._unsubscribeTemplate(),this._error=void 0,this._errorLevel=void 0,this._templateResult=void 0;try{this._unsubRenderTemplate=(0,d.R)(this.hass.connection,(e=>{"error"in e?"ERROR"!==e.level&&"ERROR"===this._errorLevel||(this._error=e.error,this._errorLevel=e.level):this._templateResult=e}),{template:this._template,timeout:3,report_errors:!0}),await this._unsubRenderTemplate}catch(e){this._error="Unknown error",this._errorLevel=void 0,e.message&&(this._error=e.message,this._errorLevel=void 0,this._templateResult=void 0),this._unsubRenderTemplate=void 0}finally{this._rendering=!1}}},{kind:"method",key:"_unsubscribeTemplate",value:async function(){if(this._unsubRenderTemplate)try{(await this._unsubRenderTemplate)(),this._unsubRenderTemplate=void 0}catch(e){if("not_found"!==e.code)throw e}}},{kind:"method",key:"_storeTemplate",value:function(){this._inited&&(localStorage["panel-dev-template-template"]=this._template)}},{kind:"method",key:"_restoreDemo",value:async function(){await(0,p.showConfirmationDialog)(this,{text:this.hass.localize("ui.panel.developer-tools.tabs.templates.confirm_reset"),warning:!0})&&(this._template=u,this._subscribeTemplate(),delete localStorage["panel-dev-template-template"])}},{kind:"method",key:"_clear",value:async function(){await(0,p.showConfirmationDialog)(this,{text:this.hass.localize("ui.panel.developer-tools.tabs.templates.confirm_clear"),warning:!0})&&(this._unsubscribeTemplate(),this._template="",this._templateResult={result:"",listeners:{all:!1,entities:[],domains:[],time:!1}})}}]}}),l.WF)}};
//# sourceMappingURL=54424.CPBSYg1TQzI.js.map