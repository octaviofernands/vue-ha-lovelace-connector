export const id=25226;export const ids=[25226];export const modules={25226:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.r(t);var n=a(36312),i=(a(89655),a(253),a(2075),a(94438),a(54846),a(16891),a(51431)),o=a(50289),l=a(29818),d=a(96979),r=a(54480),u=(a(13292),a(77372),a(13082),a(31979),a(14069)),c=(a(45920),a(12103)),h=a(20712),p=a(55321),g=a(30489),v=e([r,u]);[r,u]=v.then?(await v)():v;const _="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z";(0,n.A)([(0,l.EM)("developer-tools-assist")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,l.wk)()],key:"supportedLanguages",value:void 0},{kind:"field",decorators:[(0,d.I)({key:"assist_debug_language",state:!0,subscribe:!1,storage:"localStorage"})],key:"_language",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_results",value:()=>[]},{kind:"field",decorators:[(0,l.P)("#sentences-input")],key:"_sentencesInput",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_validInput",value:()=>!1},{kind:"method",key:"_languageChanged",value:function(e){this._language=e.detail.value}},{kind:"method",key:"_handleKeyDown",value:function(e){"Enter"!==e.code||e.shiftKey||(e.preventDefault(),this._parse())}},{kind:"method",key:"_textAreaInput",value:function(e){const t=e.target.value,a=Boolean(t);a!==this._validInput&&(this._validInput=a)}},{kind:"method",key:"_parse",value:async function(){const e=this._sentencesInput.value.split("\n").filter((e=>""!==e)),{results:t}=await(0,c.RW)(this.hass,e,this._language);this._sentencesInput.value="";const a=[];e.forEach(((e,s)=>{const n=t[s];a.push({sentence:e,language:this._language,result:n})})),this._results=[...a,...this._results]}},{kind:"method",key:"_fetchLanguages",value:async function(){const{agents:e}=await(0,c.vc)(this.hass),t=e.find((e=>"conversation.home_assistant"===e.id));this.supportedLanguages="*"===t?.supported_languages?void 0:t?.supported_languages,!this._language&&this.supportedLanguages?.includes(this.hass.locale.language)?this._language=this.hass.locale.language:this._language||(this._language="en")}},{kind:"method",key:"firstUpdated",value:function(){this._fetchLanguages()}},{kind:"method",key:"render",value:function(){return o.qy` <div class="content"> <ha-card .header="${this.hass.localize("ui.panel.developer-tools.tabs.assist.title")}" class="form"> <div class="card-content"> <p class="description"> ${this.hass.localize("ui.panel.developer-tools.tabs.assist.description")} </p> ${this.supportedLanguages?o.qy` <ha-language-picker .languages="${this.supportedLanguages}" .hass="${this.hass}" .value="${this._language}" @value-changed="${this._languageChanged}"></ha-language-picker> `:o.s6} <ha-textarea autogrow .label="${this.hass.localize("ui.panel.developer-tools.tabs.assist.sentences")}" id="sentences-input" @input="${this._textAreaInput}" @keydown="${this._handleKeyDown}"></ha-textarea> </div> <div class="card-actions"> <ha-button @click="${this._parse}" .disabled="${!this._language||!this._validInput}"> ${this.hass.localize("ui.panel.developer-tools.tabs.assist.parse_sentences")} </ha-button> </div> </ha-card> ${this._results.length?o.qy` <div class="result-toolbar"> <ha-button outlined @click="${this._download}"> <ha-svg-icon slot="icon" .path="${_}"></ha-svg-icon> ${this.hass.localize("ui.panel.developer-tools.tabs.assist.download_results")} </ha-button> </div> `:""} ${this._results.map((e=>{const{sentence:t,result:a,language:s}=e,n=null!=a;return o.qy` <ha-card class="result"> <div class="card-content"> <div class="sentence"> <p>${t}</p> <p>${n?"✅":"❌"}</p> </div> <div class="info"> ${this.hass.localize("ui.panel.developer-tools.tabs.assist.language")}: ${(0,r.T)(s,this.hass.locale)} (${s}) </div> ${a?o.qy` <ha-code-editor mode="yaml" .hass="${this.hass}" .value="${(0,i.dump)(a).trimRight()}" read-only dir="ltr"></ha-code-editor> `:o.qy`<ha-alert alert-type="error"> ${this.hass.localize("ui.panel.developer-tools.tabs.assist.no_match")} </ha-alert>`} </div> </ha-card> `}))} </div> `}},{kind:"method",key:"_download",value:function(){(0,g.R)(`data:text/plain;charset=utf-8,${encodeURIComponent(JSON.stringify({results:this._results},null,2))}`,"intent_results.json")}},{kind:"get",static:!0,key:"styles",value:function(){return[p.RF,o.AH`.content{padding:28px 20px 16px;padding:max(28px,calc(12px + env(safe-area-inset-top))) max(20px,calc(4px + env(safe-area-inset-right))) max(16px,env(safe-area-inset-bottom)) max(20px,calc(4px + env(safe-area-inset-left)));max-width:1040px;margin:0 auto}.description{margin:0;margin-bottom:16px}ha-textarea{width:100%}.card-actions{text-align:right}.form{margin-bottom:16px}.result-toolbar{text-align:center;margin-bottom:16px}.result{margin-bottom:16px}.sentence{font-weight:500;margin-bottom:8px;display:flex;flex-direction:row;justify-content:space-between}.sentence p{margin:0}.info p{margin:0}ha-alert,ha-code-editor{display:block;margin-top:16px}`]}}]}}),(0,h.E)(o.WF));s()}catch(e){s(e)}}))},30489:(e,t,a)=>{a.d(t,{R:()=>s});const s=(e,t="")=>{const a=document.createElement("a");a.target="_blank",a.href=e,a.download=t,document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),document.body.removeChild(a)}}};
//# sourceMappingURL=25226.j8hVIERQdig.js.map