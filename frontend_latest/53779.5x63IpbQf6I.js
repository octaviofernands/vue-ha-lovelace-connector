/*! For license information please see 53779.5x63IpbQf6I.js.LICENSE.txt */
export const id=53779;export const ids=[53779];export const modules={57198:(e,t,i)=>{function s(e){return"strategy"in e}i.d(t,{R:()=>s})},57216:(e,t,i)=>{i.d(t,{A_:()=>o,SJ:()=>s,mQ:()=>l,n6:()=>a});const s=e=>e.callWS({type:"lovelace/dashboards/list"}),a=(e,t)=>e.callWS({type:"lovelace/dashboards/create",...t}),l=(e,t,i)=>e.callWS({type:"lovelace/dashboards/update",dashboard_id:t,...i}),o=(e,t)=>e.callWS({type:"lovelace/dashboards/delete",dashboard_id:t})},53779:(e,t,i)=>{i.r(t),i.d(t,{HuiDialogSelectView:()=>x});var s=i(36312),a=(i(16891),i(72606),i(63893),i(67056),i(79192)),l=i(29818),o=i(43385),c=i(43389),d=(i(12073),i(35351)),h=i(37749);i(68365);let r=class extends d.F{};r.styles=[h.R],r=(0,a.__decorate)([(0,l.EM)("mwc-radio")],r);var n=i(50289),_=i(85323),u=i(10977),m=i(30116);class g extends m.J{constructor(){super(...arguments),this.left=!1,this.graphic="control",this._changeFromClick=!1}render(){const e={"mdc-deprecated-list-item__graphic":this.left,"mdc-deprecated-list-item__meta":!this.left},t=this.renderText(),i=this.graphic&&"control"!==this.graphic&&!this.left?this.renderGraphic():n.qy``,s=this.hasMeta&&this.left?this.renderMeta():n.qy``,a=this.renderRipple();return n.qy` ${a} ${i} ${this.left?"":t} <mwc-radio global class="${(0,_.H)(e)}" tabindex="${this.tabindex}" name="${(0,u.J)(null===this.group?void 0:this.group)}" .checked="${this.selected}" ?disabled="${this.disabled}" @checked="${this.onChange}"> </mwc-radio> ${this.left?t:""} ${s}`}onClick(){this._changeFromClick=!0,super.onClick()}async onChange(e){const t=e.target;this.selected===t.checked||(this._skipPropRequest=!0,this.selected=t.checked,await this.updateComplete,this._skipPropRequest=!1,this._changeFromClick||this.fireRequestSelected(this.selected,"interaction")),this._changeFromClick=!1}}(0,a.__decorate)([(0,l.P)("slot")],g.prototype,"slotElement",void 0),(0,a.__decorate)([(0,l.P)("mwc-radio")],g.prototype,"radioElement",void 0),(0,a.__decorate)([(0,l.MZ)({type:Boolean})],g.prototype,"left",void 0),(0,a.__decorate)([(0,l.MZ)({type:String,reflect:!0})],g.prototype,"graphic",void 0);let p=class extends g{};p.styles=[c.R,o.R],p=(0,a.__decorate)([(0,l.EM)("mwc-radio-list-item")],p);var v=i(34897),w=i(79051),k=(i(13292),i(29180)),y=(i(33381),i(77312),i(50118)),f=i(57216),$=i(55321),b=i(57198);let x=(0,s.A)([(0,l.EM)("hui-dialog-select-view")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_dashboards",value:()=>[]},{kind:"field",decorators:[(0,l.wk)()],key:"_urlPath",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_selectedViewIdx",value:()=>0},{kind:"method",key:"showDialog",value:function(e){this._config=e.lovelaceConfig,this._urlPath=e.urlPath,this._params=e,this._params.allowDashboardChange&&this._getDashboards()}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,(0,v.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return this._params?n.qy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,k.l)(this.hass,this._params.header||this.hass.localize("ui.panel.lovelace.editor.select_view.header"))}"> ${this._params.allowDashboardChange?n.qy`<ha-select .label="${this.hass.localize("ui.panel.lovelace.editor.select_view.dashboard_label")}" .disabled="${!this._dashboards.length}" .value="${this._urlPath||this.hass.defaultPanel}" @selected="${this._dashboardChanged}" @closed="${w.d}" fixedMenuPosition naturalMenuWidth dialogInitialFocus> <mwc-list-item value="lovelace" .disabled="${"yaml"===this.hass.panels.lovelace?.config?.mode}"> Default </mwc-list-item> ${this._dashboards.map((e=>!this.hass.user.is_admin&&e.require_admin?"":n.qy` <mwc-list-item .disabled="${"storage"!==e.mode}" .value="${e.url_path}">${e.title}</mwc-list-item> `))} </ha-select>`:""} ${!this._config||(this._config.views||[]).length<1?n.qy`<ha-alert alert-type="error">${this.hass.localize(this._config?"ui.panel.lovelace.editor.select_view.no_views":"ui.panel.lovelace.editor.select_view.no_config")}</ha-alert>`:this._config.views.length>1?n.qy` <mwc-list dialogInitialFocus> ${this._config.views.map(((e,t)=>{const i=(0,b.R)(e);return n.qy` <mwc-radio-list-item .graphic="${this._config?.views.some((({icon:e})=>e))?"icon":n.s6}" @click="${this._viewChanged}" .value="${t.toString()}" .selected="${this._selectedViewIdx===t}" .disabled="${i&&!this._params?.includeStrategyViews}"> <span> ${e.title}${i?` (${this.hass.localize("ui.panel.lovelace.editor.select_view.strategy_type")})`:n.s6} </span> <ha-icon .icon="${e.icon}" slot="graphic"></ha-icon> </mwc-radio-list-item> `}))} </mwc-list> `:""} <mwc-button slot="secondaryAction" @click="${this.closeDialog}" dialogInitialFocus> ${this.hass.localize("ui.common.cancel")} </mwc-button> <mwc-button slot="primaryAction" .disabled="${!this._config||(this._config.views||[]).length<1}" @click="${this._selectView}"> ${this._params.actionLabel||this.hass.localize("ui.common.move")} </mwc-button> </ha-dialog> `:n.s6}},{kind:"method",key:"_getDashboards",value:async function(){this._dashboards=this._params.dashboards||await(0,f.SJ)(this.hass)}},{kind:"method",key:"_dashboardChanged",value:async function(e){let t=e.target.value;if(t!==this._urlPath){"lovelace"===t&&(t=null),this._urlPath=t,this._selectedViewIdx=0;try{this._config=await(0,y.Dz)(this.hass.connection,t,!1)}catch(e){this._config=void 0}}}},{kind:"method",key:"_viewChanged",value:function(e){const t=Number(e.target.value);isNaN(t)||(this._selectedViewIdx=t)}},{kind:"method",key:"_selectView",value:function(){(0,v.r)(this,"view-selected",{view:this._selectedViewIdx}),this._params.viewSelectedCallback(this._urlPath,this._config,this._selectedViewIdx),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[$.nA,n.AH`ha-select{width:100%}mwc-radio-list-item{direction:ltr}`]}}]}}),n.WF)}};
//# sourceMappingURL=53779.5x63IpbQf6I.js.map