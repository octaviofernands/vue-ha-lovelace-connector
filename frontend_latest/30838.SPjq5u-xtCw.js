export const id=30838;export const ids=[30838];export const modules={37456:(t,e,i)=>{i.d(e,{a:()=>s});const a=(0,i(58034).n)((t=>{history.replaceState({scrollPosition:t},"")}),300),s=t=>e=>({kind:"method",placement:"prototype",key:e.key,descriptor:{set(t){a(t),this[`__${String(e.key)}`]=t},get(){return this[`__${String(e.key)}`]||history.state?.scrollPosition},enumerable:!0,configurable:!0},finisher(i){const a=i.prototype.connectedCallback;i.prototype.connectedCallback=function(){a.call(this);const i=this[e.key];i&&this.updateComplete.then((()=>{const e=this.renderRoot.querySelector(t);e&&setTimeout((()=>{e.scrollTop=i}),0)}))}}})},68690:(t,e,i)=>{var a=i(36312),s=(i(72606),i(50289)),o=i(29818);i(32885),i(88400);(0,a.A)([(0,o.EM)("ha-progress-button")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"progress",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"raised",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_result",value:void 0},{kind:"method",key:"render",value:function(){const t=this._result||this.progress;return s.qy` <mwc-button ?raised="${this.raised}" .disabled="${this.disabled||this.progress}" @click="${this._buttonTapped}" class="${this._result||""}"> <slot></slot> </mwc-button> ${t?s.qy` <div class="progress"> ${"success"===this._result?s.qy`<ha-svg-icon .path="${"M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"}"></ha-svg-icon>`:"error"===this._result?s.qy`<ha-svg-icon .path="${"M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z"}"></ha-svg-icon>`:this.progress?s.qy` <ha-circular-progress size="small" indeterminate></ha-circular-progress> `:""} </div> `:s.s6} `}},{kind:"method",key:"actionSuccess",value:function(){this._setResult("success")}},{kind:"method",key:"actionError",value:function(){this._setResult("error")}},{kind:"method",key:"_setResult",value:function(t){this._result=t,setTimeout((()=>{this._result=void 0}),2e3)}},{kind:"method",key:"_buttonTapped",value:function(t){this.progress&&t.stopPropagation()}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{outline:0;display:inline-block;position:relative}mwc-button{transition:all 1s}mwc-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}mwc-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}mwc-button.error slot,mwc-button.success slot{visibility:hidden}`}}]}}),s.WF)},90701:(t,e,i)=>{i.d(e,{p:()=>p});var a=i(36312),s=i(68689),o=(i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(54846),i(16891),i(50289)),r=i(29818),n=i(85323),d=i(55165),l=i(34897),h=i(69678),c=i(18409);const p=3e5;(0,a.A)([(0,r.EM)("ha-chart-base")],(function(t,e){class a extends e{constructor(...e){super(...e),t(this)}}return{F:a,d:[{kind:"field",key:"chart",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:"chart-type",reflect:!0})],key:"chartType",value:()=>"line"},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"data",value:()=>({datasets:[]})},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"extraData",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"options",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"plugins",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Number})],key:"height",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Number})],key:"paddingYAxis",value:()=>0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"externalHidden",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_chartHeight",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_tooltip",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_hiddenDatasets",value:()=>new Set},{kind:"field",key:"_paddingUpdateCount",value:()=>0},{kind:"field",key:"_paddingUpdateLock",value:()=>!1},{kind:"field",key:"_paddingYAxisInternal",value:()=>0},{kind:"field",key:"_datasetOrder",value:()=>[]},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(a,"disconnectedCallback",this,3)([]),this._releaseCanvas()}},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(a,"connectedCallback",this,3)([]),this.hasUpdated&&(this._releaseCanvas(),this._setupChart())}},{kind:"field",key:"updateChart",value(){return t=>{this.chart?.update(t)}}},{kind:"field",key:"resize",value(){return t=>{t?.aspectRatio&&!t.height?t.height=Math.round((t.width??this.clientWidth)/t.aspectRatio):t?.aspectRatio&&!t.width&&(t.width=Math.round((t.height??this.clientHeight)*t.aspectRatio)),this.chart?.resize(t?.width??this.clientWidth,t?.height??this.clientHeight)}}},{kind:"method",key:"firstUpdated",value:function(){this._setupChart(),this.data.datasets.forEach(((t,e)=>{t.hidden&&this._hiddenDatasets.add(e)}))}},{kind:"method",key:"shouldUpdate",value:function(t){return!this._paddingUpdateLock||1!==t.size||!t.has("paddingYAxis")}},{kind:"field",key:"_debouncedClearUpdates",value(){return(0,c.s)((()=>{this._paddingUpdateCount=0}),2e3,!1)}},{kind:"method",key:"willUpdate",value:function(t){if((0,s.A)(a,"willUpdate",this,3)([t]),this._paddingUpdateLock||(this._paddingYAxisInternal=this.paddingYAxis,1===t.size&&t.has("paddingYAxis")&&(this._paddingUpdateCount++,this._paddingUpdateCount>300?(this._paddingUpdateLock=!0,console.error("Detected excessive chart padding updates, possibly an infinite loop. Disabling axis padding.")):this._debouncedClearUpdates())),t.has("data")&&(this._datasetOrder=this.data.datasets.map(((t,e)=>e)),this.data?.datasets.some((t=>t.order))&&this._datasetOrder.sort(((t,e)=>(this.data.datasets[t].order||0)-(this.data.datasets[e].order||0))),this.externalHidden&&(this._hiddenDatasets=new Set,this.data?.datasets&&this.data.datasets.forEach(((t,e)=>{t.hidden&&this._hiddenDatasets.add(e)})))),this.hasUpdated&&this.chart){if(t.has("plugins")||t.has("chartType"))return this._releaseCanvas(),void this._setupChart();t.has("data")&&(this._hiddenDatasets.size&&!this.externalHidden&&this.data.datasets.forEach(((t,e)=>{t.hidden=this._hiddenDatasets.has(e)})),this.chart.data=this.data),t.has("options")&&(this.chart.options=this._createOptions()),this.chart.update("none")}}},{kind:"method",key:"render",value:function(){return o.qy` ${!0===this.options?.plugins?.legend?.display?o.qy`<div class="chartLegend"> <ul> ${this._datasetOrder.map((t=>{const e=this.data.datasets[t];return!1===this.extraData?.[t]?.show_legend?o.s6:o.qy`<li .datasetIndex="${t}" @click="${this._legendClick}" class="${(0,n.H)({hidden:this._hiddenDatasets.has(t)})}" .title="${this.extraData?.[t]?.legend_label??e.label}"> <div class="bullet" style="${(0,d.W)({backgroundColor:e.backgroundColor,borderColor:e.borderColor})}"></div> <div class="label"> ${this.extraData?.[t]?.legend_label??e.label} </div> </li>`}))} </ul> </div>`:""} <div class="animationContainer" style="${(0,d.W)({height:`${this.height||this._chartHeight||0}px`,overflow:this._chartHeight?"initial":"hidden"})}"> <div class="chartContainer" style="${(0,d.W)({height:`${this.height??this._chartHeight??this.clientWidth/2}px`,"padding-left":`${this._paddingYAxisInternal}px`,"padding-right":0,"padding-inline-start":`${this._paddingYAxisInternal}px`,"padding-inline-end":0})}"> <canvas></canvas> ${this._tooltip?o.qy`<div class="chartTooltip ${(0,n.H)({[this._tooltip.yAlign]:!0})}" style="${(0,d.W)({top:this._tooltip.top,left:this._tooltip.left})}"> <div class="title">${this._tooltip.title}</div> ${this._tooltip.beforeBody?o.qy`<div class="beforeBody"> ${this._tooltip.beforeBody} </div>`:""} <div> <ul> ${this._tooltip.body.map(((t,e)=>o.qy`<li> <div class="bullet" style="${(0,d.W)({backgroundColor:this._tooltip.labelColors[e].backgroundColor,borderColor:this._tooltip.labelColors[e].borderColor})}"></div> ${t.lines.join("\n")} </li>`))} </ul> </div> ${this._tooltip.footer.length?o.qy`<div class="footer"> ${this._tooltip.footer.map((t=>o.qy`${t}<br>`))} </div>`:""} </div>`:""} </div> </div> `}},{kind:"field",key:"_loading",value:()=>!1},{kind:"method",key:"_setupChart",value:async function(){if(this._loading)return;const t=this.renderRoot.querySelector("canvas").getContext("2d");this._loading=!0;try{const e=(await Promise.all([i.e(20288),i.e(19112),i.e(21200)]).then(i.bind(i,21200))).Chart,a=getComputedStyle(this);e.defaults.borderColor=a.getPropertyValue("--divider-color"),e.defaults.color=a.getPropertyValue("--secondary-text-color"),e.defaults.font.family=a.getPropertyValue("--mdc-typography-body1-font-family")||a.getPropertyValue("--mdc-typography-font-family")||"Roboto, Noto, sans-serif",this.chart=new e(t,{type:this.chartType,data:this.data,options:this._createOptions(),plugins:this._createPlugins()})}finally{this._loading=!1}}},{kind:"method",key:"_createOptions",value:function(){return{maintainAspectRatio:!1,...this.options,plugins:{...this.options?.plugins,tooltip:{...this.options?.plugins?.tooltip,enabled:!1,external:t=>this._handleTooltip(t)},legend:{...this.options?.plugins?.legend,display:!1}}}}},{kind:"method",key:"_createPlugins",value:function(){return[...this.plugins||[],{id:"resizeHook",resize:t=>{const e=t.height-(this._chartHeight??0);(!this._chartHeight||e>12||e<-12)&&(this._chartHeight=t.height)},legend:{...this.options?.plugins?.legend,display:!1}}]}},{kind:"method",key:"_legendClick",value:function(t){if(!this.chart)return;const e=t.currentTarget.datasetIndex;this.chart.isDatasetVisible(e)?(this.chart.setDatasetVisibility(e,!1),this._hiddenDatasets.add(e),this.externalHidden&&(0,l.r)(this,"dataset-hidden",{index:e})):(this.chart.setDatasetVisibility(e,!0),this._hiddenDatasets.delete(e),this.externalHidden&&(0,l.r)(this,"dataset-unhidden",{index:e})),this.chart.update("none"),this.requestUpdate("_hiddenDatasets")}},{kind:"method",key:"_handleTooltip",value:function(t){0!==t.tooltip.opacity?this._tooltip={...t.tooltip,top:this.chart.canvas.offsetTop+t.tooltip.caretY+12+"px",left:this.chart.canvas.offsetLeft+(0,h.q)(t.tooltip.caretX,100,this.clientWidth-100-this._paddingYAxisInternal)-100+"px"}:this._tooltip=void 0}},{kind:"method",key:"_releaseCanvas",value:function(){this.chart&&this.chart.destroy()}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:block;position:var(--chart-base-position,relative)}.animationContainer{overflow:hidden;height:0;transition:height .3s cubic-bezier(.4, 0, .2, 1)}canvas{max-height:var(--chart-max-height,400px)}.chartLegend{text-align:center}.chartLegend li{cursor:pointer;display:inline-grid;grid-auto-flow:column;padding:0 8px;box-sizing:border-box;align-items:center;color:var(--secondary-text-color)}.chartLegend .hidden{text-decoration:line-through}.chartLegend .label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chartLegend .bullet,.chartTooltip .bullet{border-width:1px;border-style:solid;border-radius:50%;display:inline-block;height:16px;margin-right:6px;width:16px;flex-shrink:0;box-sizing:border-box;margin-inline-end:6px;margin-inline-start:initial;direction:var(--direction)}.chartTooltip .bullet{align-self:baseline}.chartTooltip{padding:8px;font-size:90%;position:absolute;background:rgba(80,80,80,.9);color:#fff;border-radius:4px;pointer-events:none;z-index:1;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;width:200px;box-sizing:border-box;direction:var(--direction)}.chartLegend ul,.chartTooltip ul{display:inline-block;padding:0 0px;margin:8px 0 0 0;width:100%}.chartTooltip ul{margin:0 4px}.chartTooltip li{display:flex;white-space:pre-line;word-break:break-word;align-items:center;line-height:16px;padding:4px 0}.chartTooltip .title{text-align:center;font-weight:500;word-break:break-word;direction:ltr}.chartTooltip .footer{font-weight:500}.chartTooltip .beforeBody{text-align:center;font-weight:300;word-break:break-all}`}}]}}),o.WF)},760:(t,e,i)=>{i.d(e,{S:()=>a});const a={"odroid-n2":"Home Assistant Blue / ODROID-N2","odroid-xu4":"ODROID-XU4","odroid-c2":"ODROID-C2","odroid-c4":"ODROID-C4",rpi:"Raspberry Pi",rpi0:"Raspberry Pi Zero","rpi0-w":"Raspberry Pi Zero W",rpi2:"Raspberry Pi 2",rpi3:"Raspberry Pi 3 (32-bit)","rpi3-64":"Raspberry Pi 3",rpi4:"Raspberry Pi 4 (32-bit)","rpi4-64":"Raspberry Pi 4",tinker:"ASUS Tinker Board","khadas-vim3":"Khadas VIM3","generic-aarch64":"Generic AArch64",ova:"Virtual Machine","generic-x86-64":"Generic x86-64","intel-nuc":"Intel NUC",yellow:"Home Assistant Yellow"}},37266:(t,e,i)=>{i.d(e,{He:()=>l,Ku:()=>o,PB:()=>r,hu:()=>d,mZ:()=>n,v9:()=>h,xY:()=>c});var a=i(95266),s=i(26025);const o=async t=>{if((0,a.v)(t.config.version,2021,2,4))return t.callWS({type:"supervisor/api",endpoint:"/host/info",method:"get"});const e=await t.callApi("GET","hassio/host/info");return(0,s.PS)(e)},r=async t=>(0,a.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:"/os/info",method:"get"}):(0,s.PS)(await t.callApi("GET","hassio/os/info")),n=async t=>(0,a.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:"/host/reboot",method:"post",timeout:null}):t.callApi("POST","hassio/host/reboot"),d=async t=>(0,a.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:"/host/shutdown",method:"post",timeout:null}):t.callApi("POST","hassio/host/shutdown"),l=async(t,e)=>(0,a.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:"/host/options",method:"post",data:e}):t.callApi("POST","hassio/host/options",e),h=async(t,e)=>(0,a.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:"/os/datadisk/move",method:"post",timeout:null,data:{device:e}}):t.callApi("POST","hassio/os/datadisk/move"),c=async t=>(0,a.v)(t.config.version,2021,2,4)?t.callWS({type:"supervisor/api",endpoint:"/os/datadisk/list",method:"get",timeout:null}):(0,s.PS)(await t.callApi("GET","/os/datadisk/list"))},98736:(t,e,i)=>{i.d(e,{$:()=>a});const a=t=>t.callWS({type:"usb/scan"})},86997:(t,e,i)=>{i.d(e,{l:()=>o});var a=i(34897);const s=()=>i.e(92313).then(i.bind(i,92313)),o=t=>{(0,a.r)(t,"show-dialog",{dialogTag:"dialog-restart",dialogImport:s,dialogParams:{}})}},77980:(t,e,i)=>{var a=i(36312),s=i(50289),o=i(29818),r=i(37456),n=(i(45346),i(11804),i(55321));(0,a.A)([(0,o.EM)("hass-subpage")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,r.a)(".content")],key:"_savedScrollPos",value:void 0},{kind:"method",key:"render",value:function(){return s.qy` <div class="toolbar"> ${this.mainPage||history.state?.root?s.qy` <ha-menu-button .hassio="${this.supervisor}" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?s.qy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:s.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} <div class="main-title"><slot name="header">${this.header}</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="${this._saveScrollPos}"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> `}},{kind:"method",decorators:[(0,o.Ls)({passive:!0})],key:"_saveScrollPos",value:function(t){this._savedScrollPos=t.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[n.dp,s.AH`:host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:20px;flex-grow:1}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + env(safe-area-inset-right));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + env(safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}`]}}]}}),s.WF)},30838:(t,e,i)=>{i.a(t,(async(t,a)=>{try{i.r(e);var s=i(36312),o=i(68689),r=(i(89655),i(253),i(2075),i(54846),i(16891),i(4525),i(63893),i(67056),i(50289)),n=i(29818),d=i(33922),l=i(57636),h=i(53249),c=i(33984),p=(i(68690),i(90701),i(13292),i(13082),i(26207),i(4169),i(46163),i(24640),i(31265)),u=i(760),y=i(37266),g=i(98736),v=i(22619),f=i(86997),b=(i(77980),i(20712)),k=i(83102),m=i(55321),_=i(51842),x=i(42276),w=t([l]);l=(w.then?(await w)():w)[0];const $="M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13",S=60,C={fill:"origin",borderColor:k.hx,backgroundColor:k.hx+"2B",pointRadius:0,lineTension:.2,borderWidth:1};(0,s.A)([(0,n.EM)("ha-config-hardware")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_OSData",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_hardwareInfo",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_chartOptions",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_systemStatusData",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_configEntries",value:void 0},{kind:"field",key:"_memoryEntries",value:()=>[]},{kind:"field",key:"_cpuEntries",value:()=>[]},{kind:"method",key:"hassSubscribe",value:function(){const t=[(0,p.TC)(this.hass,(t=>{let e=!1;const i=[];if(t.forEach((t=>{if(null===t.type||"added"===t.type)i.push(t.entry),null===t.type&&(e=!0);else if("removed"===t.type)this._configEntries&&delete this._configEntries[t.entry.entry_id];else if("updated"===t.type&&this._configEntries){const e=t.entry;this._configEntries[t.entry.entry_id]=e}})),!i.length&&!e)return;const a=[...e?[]:Object.values(this._configEntries||{}),...i],s={};for(const t of a)s[t.entry_id]=t;this._configEntries=s}),{type:["hardware"]})];return(0,d.x)(this.hass,"hardware")&&t.push(this.hass.connection.subscribeMessage((t=>{this._memoryEntries.shift(),this._cpuEntries.shift(),this._memoryEntries.push({x:new Date(t.timestamp).getTime(),y:t.memory_used_percent}),this._cpuEntries.push({x:new Date(t.timestamp).getTime(),y:t.cpu_percent}),this._systemStatusData=t}),{type:"hardware/subscribe_system_status"})),t}},{kind:"method",key:"willUpdate",value:function(){this.hasUpdated||(this._chartOptions={animation:!1,responsive:!0,scales:{y:{gridLines:{drawTicks:!1},ticks:{maxTicksLimit:7,fontSize:10,max:100,min:0,stepSize:1,callback:t=>t+(0,c.d)(this.hass.locale)+"%"}},x:{type:"time",adapters:{date:{locale:this.hass.locale,config:this.hass.config}},gridLines:{display:!0,drawTicks:!1},ticks:{maxRotation:0,sampleSize:5,autoSkipPadding:20,major:{enabled:!0},fontSize:10,autoSkip:!0,maxTicksLimit:5}}},locale:(0,l.Yf)(this.hass.locale)})}},{kind:"method",key:"firstUpdated",value:function(t){(0,o.A)(i,"firstUpdated",this,3)([t]),this._load();const e=new Date;for(let t=0;t<S;t++){const i=new Date(e);i.setSeconds(i.getSeconds()-5*(S-t)),this._memoryEntries.push({x:i.getTime(),y:null}),this._cpuEntries.push({x:i.getTime(),y:null})}}},{kind:"method",key:"render",value:function(){let t,e,i,a,s=[];const o=this._hardwareInfo?.hardware.find((t=>null!==t.board)),n=this._hardwareInfo?.hardware.filter((t=>null!==t.dongle&&(!t.config_entries.length||t.config_entries.some((t=>this._configEntries?.[t]&&!this._configEntries[t].disabled_by)))));return o?(s=o.config_entries.map((t=>this._configEntries?.[t])).filter((t=>t?.supports_options&&!t.disabled_by)),t=o.board.hassio_board_id,e=o.name,a=o.url,i=(0,_.QR)({category:"boards",manufacturer:o.board.manufacturer,model:o.board.model,darkOptimized:this.hass.themes?.darkMode})):this._OSData?.board&&(t=this._OSData.board,e=u.S[this._OSData.board]),r.qy` <hass-subpage back-path="/config/system" .hass="${this.hass}" .narrow="${this.narrow}" .header="${this.hass.localize("ui.panel.config.hardware.caption")}"> ${(0,d.x)(this.hass,"hassio")?r.qy` <ha-icon-button slot="toolbar-icon" .path="${$}" .label="${this.hass.localize("ui.panel.config.hardware.restart_homeassistant")}" @click="${this._showRestartDialog}"></ha-icon-button> `:""} ${this._error?r.qy` <ha-alert alert-type="error">${this._error.message||this._error.code}</ha-alert> `:""} <div class="content"> ${e||(0,d.x)(this.hass,"hassio")?r.qy` <ha-card outlined> <div class="card-content"> ${i?r.qy`<img alt="" src="${i}" crossorigin="anonymous" referrerpolicy="no-referrer">`:""} <div class="board-info"> <p class="primary-text"> ${e||this.hass.localize("ui.panel.config.hardware.generic_hardware")} </p> ${t?r.qy`<p class="secondary-text">${t}</p>`:""} </div> </div> ${a?r.qy` <mwc-list> <ha-clickable-list-item .href="${a}" openNewTab twoline hasMeta> <span>${this.hass.localize("ui.panel.config.hardware.documentation")}</span> <span slot="secondary">${this.hass.localize("ui.panel.config.hardware.documentation_description")}</span> <ha-icon-next slot="meta"></ha-icon-next> </ha-clickable-list-item> </mwc-list> `:""} ${s.length||(0,d.x)(this.hass,"hassio")?r.qy`<div class="card-actions"> ${s.length?r.qy` <mwc-button .entry="${s[0]}" @click="${this._openOptionsFlow}"> ${this.hass.localize("ui.panel.config.hardware.configure")} </mwc-button> `:r.s6} ${(0,d.x)(this.hass,"hassio")?r.qy` <mwc-button @click="${this._openHardware}"> ${this.hass.localize("ui.panel.config.hardware.available_hardware.title")} </mwc-button> `:r.s6} </div>`:""} </ha-card> `:""} ${n?.length?r.qy`<ha-card outlined> ${n.map((t=>{const e=t.config_entries.map((t=>this._configEntries?.[t])).filter((t=>t?.supports_options&&!t.disabled_by))[0];return r.qy`<div class="row"> ${t.name}${e?r.qy`<mwc-button .entry="${e}" @click="${this._openOptionsFlow}"> ${this.hass.localize("ui.panel.config.hardware.configure")} </mwc-button>`:""} </div>`}))} </ha-card>`:""} ${this._systemStatusData?r.qy`<ha-card outlined> <div class="header"> <div class="title"> ${this.hass.localize("ui.panel.config.hardware.processor")} </div> <div class="value"> ${this._systemStatusData.cpu_percent||"-"}${(0,c.d)(this.hass.locale)}% </div> </div> <div class="card-content"> <ha-chart-base .hass="${this.hass}" .data="${{datasets:[{...C,data:this._cpuEntries}]}}" .options="${this._chartOptions}"></ha-chart-base> </div> </ha-card> <ha-card outlined> <div class="header"> <div class="title"> ${this.hass.localize("ui.panel.config.hardware.memory")} </div> <div class="value"> ${(0,h.L)(this._systemStatusData.memory_used_mb/1024,1)} GB / ${(0,h.L)((this._systemStatusData.memory_used_mb+this._systemStatusData.memory_free_mb)/1024,0)} GB </div> </div> <div class="card-content"> <ha-chart-base .hass="${this.hass}" .data="${{datasets:[{...C,data:this._memoryEntries}]}}" .options="${this._chartOptions}"></ha-chart-base> </div> </ha-card>`:(0,d.x)(this.hass,"hardware")?r.qy`<ha-card outlined> <div class="card-content"> <div class="value"> ${this.hass.localize("ui.panel.config.hardware.loading_system_data")} </div> </div> </ha-card>`:""} </div> </hass-subpage> `}},{kind:"method",key:"_load",value:async function(){(0,d.x)(this.hass,"usb")&&await(0,g.$)(this.hass);const t=(0,d.x)(this.hass,"hassio");try{(0,d.x)(this.hass,"hardware")&&(this._hardwareInfo=await this.hass.callWS({type:"hardware/info"})),t&&!this._hardwareInfo?.hardware.length&&(this._OSData=await(0,y.PB)(this.hass))}catch(t){this._error=t.message||t}}},{kind:"method",key:"_openOptionsFlow",value:async function(t){const e=t.currentTarget.entry;e&&(0,v.Q)(this,e)}},{kind:"method",key:"_openHardware",value:async function(){(0,x.V)(this)}},{kind:"method",key:"_showRestartDialog",value:async function(){(0,f.l)(this)}},{kind:"field",static:!0,key:"styles",value:()=>[m.RF,r.AH`.content{padding:28px 20px 0;max-width:1040px;margin:0 auto;--mdc-list-side-padding:24px;--mdc-list-vertical-padding:0}ha-card{max-width:600px;margin:0 auto;height:100%;justify-content:space-between;flex-direction:column;display:flex;margin-bottom:16px}.card-content{display:flex;justify-content:space-between;flex-direction:column;padding:16px}.card-content img{max-width:300px;margin:auto}.board-info{text-align:center}.primary-text{font-size:16px;margin:0}.secondary-text{font-size:14px;margin-bottom:0;color:var(--secondary-text-color)}.header{padding:16px;display:flex;justify-content:space-between}.header .title{color:var(--secondary-text-color);font-size:18px}.header .value{font-size:16px}.row{display:flex;justify-content:space-between;align-items:center;height:48px;padding:8px 16px}.card-actions{display:flex;justify-content:space-between}`]}]}}),(0,b.E)(r.WF));a()}catch(t){a(t)}}))},42276:(t,e,i)=>{i.d(e,{V:()=>o});var a=i(34897);const s=()=>i.e(37035).then(i.bind(i,37035)),o=t=>{(0,a.r)(t,"show-dialog",{dialogTag:"ha-dialog-hardware-available",dialogImport:s,dialogParams:{}})}}};
//# sourceMappingURL=30838.SPjq5u-xtCw.js.map