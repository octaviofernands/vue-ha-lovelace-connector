export const id=52050;export const ids=[52050];export const modules={68009:(e,t,i)=>{i.d(t,{A:()=>a});i(253),i(54846),i(16891);function a(e){if(!e||"object"!=typeof e)return e;if("[object Date]"==Object.prototype.toString.call(e))return new Date(e.getTime());if(Array.isArray(e))return e.map(a);var t={};return Object.keys(e).forEach((function(i){t[i]=a(e[i])})),t}},72829:(e,t,i)=>{var a=i(36312),s=(i(253),i(2075),i(50289)),o=i(29818),n=(i(4169),i(88400),i(90431),i(34897));(0,a.A)([(0,o.EM)("search-input")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"filter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"suffix",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"label",value:void 0},{kind:"method",key:"focus",value:function(){this._input?.focus()}},{kind:"field",decorators:[(0,o.P)("ha-textfield",!0)],key:"_input",value:void 0},{kind:"method",key:"render",value:function(){return s.qy` <ha-textfield .autofocus="${this.autofocus}" .label="${this.label||this.hass.localize("ui.common.search")}" .value="${this.filter||""}" icon .iconTrailing="${this.filter||this.suffix}" @input="${this._filterInputChanged}"> <slot name="prefix" slot="leadingIcon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}"></ha-svg-icon> </slot> <div class="trailing" slot="trailingIcon"> ${this.filter&&s.qy` <ha-icon-button @click="${this._clearSearch}" .label="${this.hass.localize("ui.common.clear")}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" class="clear-button"></ha-icon-button> `} <slot name="suffix"></slot> </div> </ha-textfield> `}},{kind:"method",key:"_filterChanged",value:async function(e){(0,n.r)(this,"value-changed",{value:String(e)})}},{kind:"method",key:"_filterInputChanged",value:async function(e){this._filterChanged(e.target.value)}},{kind:"method",key:"_clearSearch",value:async function(){this._filterChanged("")}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{display:inline-flex}ha-icon-button,ha-svg-icon{color:var(--primary-text-color)}ha-svg-icon{outline:0}.clear-button{--mdc-icon-size:20px}ha-textfield{display:inherit}.trailing{display:flex;align-items:center}`}}]}}),s.WF)},15625:(e,t,i)=>{i.d(t,{S_:()=>d,Xd:()=>r,lZ:()=>l});i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(54846);const a=["zone","persistent_notification"],s=(e,t)=>{if("call-service"!==t.action||!t.target?.entity_id&&!t.service_data?.entity_id&&!t.data?.entity_id)return;let i=t.service_data?.entity_id??t.data?.entity_id??t.target?.entity_id;Array.isArray(i)||(i=[i]);for(const t of i)e.add(t)},o=(e,t)=>{"string"!=typeof t?(t.entity&&e.add(t.entity),t.camera_image&&e.add(t.camera_image),t.tap_action&&s(e,t.tap_action),t.hold_action&&s(e,t.hold_action)):e.add(t)},n=(e,t)=>{t.entity&&o(e,t.entity),t.entities&&Array.isArray(t.entities)&&t.entities.forEach((t=>o(e,t))),t.card&&n(e,t.card),t.cards&&Array.isArray(t.cards)&&t.cards.forEach((t=>n(e,t))),t.elements&&Array.isArray(t.elements)&&t.elements.forEach((t=>n(e,t))),t.badges&&Array.isArray(t.badges)&&t.badges.forEach((t=>o(e,t)))},d=e=>{const t=new Set;return e.views.forEach((e=>n(t,e))),t},r=(e,t)=>{const i=new Set;for(const s of Object.keys(e.states))t.has(s)||a.includes(s.split(".",1)[0])||i.add(s);return i},l=(e,t)=>{const i=d(t);return r(e,i)}},22992:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(68689),o=(i(89655),i(13618),i(34736),i(50289)),n=i(29818),d=i(54075),r=i(70612),l=(i(15124),i(61774),e([d]));d=(l.then?(await l)():l)[0];const c=["config","visibility","layout"];(0,a.A)([(0,n.EM)("hui-card-element-editor")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"show-visibility-tab"})],key:"showVisibilityTab",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"sectionConfig",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_currTab",value:()=>c[0]},{kind:"method",key:"getConfigElement",value:async function(){const e=await(0,d.dY)(this.configElementType);if(e&&e.getConfigElement)return e.getConfigElement()}},{kind:"method",key:"getConfigForm",value:async function(){const e=await(0,d.dY)(this.configElementType);if(e&&e.getConfigForm)return e.getConfigForm()}},{kind:"method",key:"_configChanged",value:function(e){e.stopPropagation(),this.value=e.detail.value}},{kind:"get",key:"_showLayoutTab",value:function(){return!!this.sectionConfig&&(void 0===this.sectionConfig.type||"grid"===this.sectionConfig.type)}},{kind:"method",key:"renderConfigElement",value:function(){const e=["config"];if(this.showVisibilityTab&&e.push("visibility"),this._showLayoutTab&&e.push("layout"),1===e.length)return(0,s.A)(i,"renderConfigElement",this,3)([]);let t=o.s6;switch(this._currTab){case"config":t=o.qy`${(0,s.A)(i,"renderConfigElement",this,3)([])}`;break;case"visibility":t=o.qy` <hui-card-visibility-editor .hass="${this.hass}" .config="${this.value}" @value-changed="${this._configChanged}"></hui-card-visibility-editor> `;break;case"layout":t=o.qy` <hui-card-layout-editor .hass="${this.hass}" .config="${this.value}" .sectionConfig="${this.sectionConfig}" @value-changed="${this._configChanged}"> </hui-card-layout-editor> `}return o.qy` <mwc-tab-bar .activeIndex="${c.indexOf(this._currTab)}" @MDCTabBar:activated="${this._handleTabChanged}"> ${e.map((e=>o.qy` <mwc-tab .label="${this.hass.localize(`ui.panel.lovelace.editor.edit_card.tab_${e}`)}"> </mwc-tab> `))} </mwc-tab-bar> ${t} `}},{kind:"method",key:"_handleTabChanged",value:function(e){const t=c[e.detail.index];t!==this._currTab&&(this._currTab=t)}},{kind:"get",static:!0,key:"styles",value:function(){return[r.m.styles,o.AH`mwc-tab-bar{text-transform:uppercase;margin-bottom:16px;border-bottom:1px solid var(--divider-color)}`]}}]}}),r.m);t()}catch(e){t(e)}}))},15124:(e,t,i)=>{var a=i(36312),s=i(68689),o=i(50289),n=i(29818),d=i(55165),r=i(94100),l=i(34897),c=i(68320),h=i(79051),u=(i(77372),i(26790),i(87036),i(4169),i(13830),i(24640),i(31180),i(88400),i(60203),i(57641),i(55321)),p=i(21138);const g="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z";(0,a.A)([(0,n.EM)("hui-card-layout-editor")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"sectionConfig",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_defaultLayoutOptions",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_yamlMode",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_uiAvailable",value:()=>!0},{kind:"field",decorators:[(0,n.P)("ha-yaml-editor")],key:"_yamlEditor",value:void 0},{kind:"field",key:"_cardElement",value:void 0},{kind:"field",key:"_mergedOptions",value:()=>(0,r.A)(((e,t)=>({...t,...e})))},{kind:"field",key:"_computeCardGridSize",value:()=>(0,r.A)(p.N)},{kind:"field",key:"_isDefault",value:()=>(0,r.A)((e=>void 0===e?.grid_columns&&void 0===e?.grid_rows))},{kind:"method",key:"render",value:function(){const e=this._mergedOptions(this.config.layout_options,this._defaultLayoutOptions),t=this._computeCardGridSize(e),i=4*(this.sectionConfig.column_span??1);return o.qy` <div class="header"> <p class="intro"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.layout.explanation")} </p> <ha-button-menu slot="icons" @action="${this._handleAction}" @click="${c.w}" @closed="${h.d}" fixed .corner="${"BOTTOM_END"}" .menuCorner="${"END"}"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"}"> </ha-icon-button> <ha-list-item graphic="icon" .disabled="${!this._uiAvailable}"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.edit_ui")} ${this._yamlMode?o.s6:o.qy` <ha-svg-icon class="selected_menu_item" slot="graphic" .path="${g}"></ha-svg-icon> `} </ha-list-item> <ha-list-item graphic="icon"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.edit_yaml")} ${this._yamlMode?o.qy` <ha-svg-icon class="selected_menu_item" slot="graphic" .path="${g}"></ha-svg-icon> `:o.s6} </ha-list-item> </ha-button-menu> </div> ${this._yamlMode?o.qy` <ha-yaml-editor .hass="${this.hass}" .defaultValue="${this.config.layout_options}" @value-changed="${this._valueChanged}"></ha-yaml-editor> `:o.qy` <ha-grid-size-picker style="${(0,d.W)({"max-width":45*i+50+"px"})}" .columns="${i}" .hass="${this.hass}" .value="${t}" .isDefault="${this._isDefault(this.config.layout_options)}" @value-changed="${this._gridSizeChanged}" .rowMin="${e.grid_min_rows}" .rowMax="${e.grid_max_rows}" .columnMin="${e.grid_min_columns}" .columnMax="${e.grid_max_columns}"></ha-grid-size-picker> <ha-settings-row> <span slot="heading" data-for="full-width"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.layout.full_width")} </span> <span slot="description" data-for="full-width"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.layout.full_width_helper")} </span> <ha-switch @change="${this._fullWidthChanged}" .checked="${"full"===t.columns}" name="full-width"> </ha-switch> </ha-settings-row> `} `}},{kind:"method",key:"firstUpdated",value:function(e){(0,s.A)(i,"firstUpdated",this,3)([e]);try{this._cardElement=document.createElement("hui-card"),this._cardElement.hass=this.hass,this._cardElement.preview=!0,this._cardElement.config=this.config,this._cardElement.addEventListener("card-updated",(e=>{e.stopPropagation(),this._defaultLayoutOptions=this._cardElement?.getElementLayoutOptions()})),this._cardElement.load(),this._defaultLayoutOptions=this._cardElement.getElementLayoutOptions()}catch(e){console.error(e)}}},{kind:"method",key:"updated",value:function(e){(0,s.A)(i,"updated",this,3)([e]),this._cardElement&&(e.has("hass")&&(this._cardElement.hass=this.hass),e.has("config")&&(this._cardElement.config=this.config))}},{kind:"method",key:"_handleAction",value:async function(e){switch(e.detail.index){case 0:this._yamlMode=!1;break;case 1:this._yamlMode=!0;break;case 2:this._reset()}}},{kind:"method",key:"_reset",value:async function(){const e={...this.config};delete e.layout_options,this._yamlEditor?.setValue({}),(0,l.r)(this,"value-changed",{value:e})}},{kind:"method",key:"_gridSizeChanged",value:function(e){e.stopPropagation();const t=e.detail.value,i={...this.config,layout_options:{...this.config.layout_options,grid_columns:t.columns,grid_rows:t.rows}};void 0===i.layout_options.grid_columns&&delete i.layout_options.grid_columns,void 0===i.layout_options.grid_rows&&delete i.layout_options.grid_rows,0===Object.keys(i.layout_options).length&&delete i.layout_options,(0,l.r)(this,"value-changed",{value:i})}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();const t=e.detail.value,i={...this.config,layout_options:t};(0,l.r)(this,"value-changed",{value:i})}},{kind:"method",key:"_fullWidthChanged",value:function(e){e.stopPropagation();const t=e.target.checked,i={...this.config,layout_options:{...this.config.layout_options,grid_columns:t?"full":this._defaultLayoutOptions?.grid_min_columns??1}};(0,l.r)(this,"value-changed",{value:i})}},{kind:"field",static:!0,key:"styles",value:()=>[u.RF,o.AH`.header{display:flex;flex-direction:row;align-items:flex-start}.header .intro{flex:1;margin:0;color:var(--secondary-text-color)}.header ha-button-menu{--mdc-theme-text-primary-on-background:var(--primary-text-color);margin-top:-8px}.selected_menu_item{color:var(--primary-color)}.disabled{opacity:.5;pointer-events:none}ha-grid-size-picker{display:block;margin:16px auto}ha-yaml-editor{display:block;margin:16px 0}`]}]}}),o.WF)},81680:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=(i(253),i(2075),i(16891),i(94366)),o=i(50289),n=i(29818),d=i(85323),r=i(55165),l=i(10296),c=i(94100),h=i(96979),u=i(34897),p=i(2682),g=i(57115),f=(i(32885),i(72829),i(9883)),y=i(33257),v=i(54629),m=i(15625),_=i(54075),k=i(64390),b=i(30998),C=e([_,k]);[_,k]=C.then?(await C)():C;(0,a.A)([(0,n.EM)("hui-card-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"suggestedCards",value:void 0},{kind:"field",decorators:[(0,h.I)({key:"dashboardCardClipboard",state:!0,subscribe:!0,storage:"sessionStorage"})],key:"_clipboard",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_cards",value:()=>[]},{kind:"field",key:"lovelace",value:void 0},{kind:"field",key:"cardPicked",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_filter",value:()=>""},{kind:"field",decorators:[(0,n.wk)()],key:"_width",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_height",value:void 0},{kind:"field",key:"_unusedEntities",value:void 0},{kind:"field",key:"_usedEntities",value:void 0},{kind:"field",key:"_filterCards",value:()=>(0,c.A)(((e,t)=>{if(!t)return e;let i=e.map((e=>e.card));const a={keys:["type","name","description"],isCaseSensitive:!1,minMatchCharLength:Math.min(t.length,2),threshold:.2,getFn:v.i},o=new s.A(i,a);return i=o.search((0,g.s)(t)).map((e=>e.item)),e.filter((e=>i.includes(e.card)))}))},{kind:"field",key:"_suggestedCards",value:()=>(0,c.A)((e=>e.filter((e=>e.card.isSuggested))))},{kind:"field",key:"_customCards",value:()=>(0,c.A)((e=>e.filter((e=>e.card.isCustom&&!e.card.isSuggested))))},{kind:"field",key:"_otherCards",value:()=>(0,c.A)((e=>e.filter((e=>!e.card.isSuggested&&!e.card.isCustom))))},{kind:"method",key:"render",value:function(){if(!(this.hass&&this.lovelace&&this._unusedEntities&&this._usedEntities))return o.s6;const e=this._suggestedCards(this._cards),t=this._otherCards(this._cards),i=this._customCards(this._cards);return o.qy` <search-input .hass="${this.hass}" .filter="${this._filter}" @value-changed="${this._handleSearchChange}" .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.search_cards")}"></search-input> <div id="content" style="${(0,r.W)({width:this._width?`${this._width}px`:"auto",height:this._height?`${this._height}px`:"auto"})}"> <div class="cards-container"> ${this._filter?this._filterCards(this._cards,this._filter).map((e=>e.element)):o.qy` ${e.length>0?o.qy` <div class="cards-container-header"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.suggested_cards")} </div> `:o.s6} ${this._renderClipboardCard()} ${e.map((e=>e.element))} ${e.length>0?o.qy` <div class="cards-container-header"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.other_cards")} </div> `:o.s6} ${t.map((e=>e.element))} ${i.length>0?o.qy` <div class="cards-container-header"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.custom_cards")} </div> `:o.s6} ${i.map((e=>e.element))} `} </div> <div class="cards-container"> <div class="card manual" @click="${this._cardPicked}" .config="${{type:""}}"> <div class="card-header"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.manual")} </div> <div class="preview description"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.manual_description")} </div> </div> </div> </div> `}},{kind:"method",key:"shouldUpdate",value:function(e){const t=e.get("hass");return!t||t.locale!==this.hass.locale}},{kind:"method",key:"firstUpdated",value:function(){if(!this.hass||!this.lovelace)return;const e=(0,m.S_)(this.lovelace),t=(0,m.Xd)(this.hass,e);this._usedEntities=[...e].filter((e=>this.hass.states[e]&&!(0,f.g0)(this.hass.states[e].state))),this._unusedEntities=[...t].filter((e=>this.hass.states[e]&&!(0,f.g0)(this.hass.states[e].state))),this._loadCards()}},{kind:"method",key:"_loadCards",value:function(){let e=b.j.map((e=>({name:this.hass.localize(`ui.panel.lovelace.editor.card.${e.type}.name`),description:this.hass.localize(`ui.panel.lovelace.editor.card.${e.type}.description`),isSuggested:this.suggestedCards?.includes(e.type)||!1,...e})));e=e.sort(((e,t)=>e.isSuggested&&!t.isSuggested?-1:!e.isSuggested&&t.isSuggested?1:(0,p.x)(e.name||e.type,t.name||t.type,this.hass?.language))),y.J_.length>0&&(e=e.concat(y.J_.map((e=>({type:e.type,name:e.name,description:e.description,showElement:e.preview,isCustom:!0}))).sort(((e,t)=>(0,p.x)(e.name||e.type,t.name||t.type,this.hass?.language))))),this._cards=e.map((e=>({card:e,element:o.qy`${(0,l.T)(this._renderCardElement(e),o.qy` <div class="card spinner"> <ha-circular-progress indeterminate></ha-circular-progress> </div> `)}`})))}},{kind:"method",key:"_renderClipboardCard",value:function(){return this._clipboard?o.qy` ${(0,l.T)(this._renderCardElement({type:this._clipboard.type,showElement:!0,isCustom:!1,name:this.hass.localize("ui.panel.lovelace.editor.card.generic.paste"),description:`${this.hass.localize("ui.panel.lovelace.editor.card.generic.paste_description",{type:this._clipboard.type})}`},this._clipboard),o.qy` <div class="card spinner"> <ha-circular-progress indeterminate></ha-circular-progress> </div> `)}`:o.s6}},{kind:"method",key:"_handleSearchChange",value:function(e){const t=e.detail.value;if(t){if(!this._width||!this._height){const e=this.shadowRoot.getElementById("content");if(e&&!this._width){const t=e.clientWidth;t&&(this._width=t)}if(e&&!this._height){const t=e.clientHeight;t&&(this._height=t)}}}else this._width=void 0,this._height=void 0;this._filter=t}},{kind:"method",key:"_cardPicked",value:function(e){const t=e.currentTarget.config;(0,u.r)(this,"config-changed",{config:t})}},{kind:"method",key:"_tryCreateCardElement",value:function(e){const t=(0,_.MJ)(e);return t.hass=this.hass,t.addEventListener("ll-rebuild",(i=>{i.stopPropagation(),this._rebuildCard(t,e)}),{once:!0}),t}},{kind:"method",key:"_rebuildCard",value:function(e,t){let i;try{i=this._tryCreateCardElement(t)}catch(e){return}e.parentElement&&e.parentElement.replaceChild(i,e)}},{kind:"method",key:"_renderCardElement",value:async function(e,t){let{type:i}=e;const{showElement:a,isCustom:s,name:n,description:r}=e,l=s?(0,y.wi)(i):void 0;let c;s&&(i=`${y.IP}${i}`);let h=t??{type:i};if(this.hass&&this.lovelace&&(t||(h=await(0,k.N)(this.hass,i,this._unusedEntities,this._usedEntities)),a))try{c=this._tryCreateCardElement(h)}catch(e){c=void 0}return o.qy` <div class="card"> <div class="overlay" @click="${this._cardPicked}" .config="${h}"></div> <div class="card-header"> ${l?`${this.hass.localize("ui.panel.lovelace.editor.cardpicker.custom_card")}: ${l.name||l.type}`:n} </div> <div class="preview ${(0,d.H)({description:!c||"HUI-ERROR-CARD"===c.tagName})}"> ${c&&"HUI-ERROR-CARD"!==c.tagName?c:l?l.description||this.hass.localize("ui.panel.lovelace.editor.cardpicker.no_description"):r} </div> </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return[o.AH`search-input{display:block;--mdc-shape-small:var(--card-picker-search-shape);margin:var(--card-picker-search-margin)}.cards-container-header{font-size:16px;font-weight:500;padding:12px 8px 4px 8px;margin:0;grid-column:1/-1}.cards-container{display:grid;grid-gap:8px 8px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));margin-top:20px}.card{height:100%;max-width:500px;display:flex;flex-direction:column;border-radius:var(--ha-card-border-radius,12px);background:var(--primary-background-color,#fafafa);cursor:pointer;position:relative;overflow:hidden;border:var(--ha-card-border-width,1px) solid var(--ha-card-border-color,var(--divider-color))}.card-header{color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:16px;font-weight:700;letter-spacing:-.012em;line-height:20px;padding:12px 16px;display:block;text-align:center;background:var(--ha-card-background,var(--card-background-color,#fff));border-bottom:1px solid var(--divider-color)}.preview{pointer-events:none;margin:20px;flex-grow:1;display:flex;align-items:center;justify-content:center}.preview>:first-child{zoom:0.6;display:block;width:100%}.description{text-align:center}.spinner{align-items:center;justify-content:center}.overlay{position:absolute;width:100%;height:100%;z-index:1;box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px)}.manual{max-width:none;grid-column:1/-1}.icon{position:absolute;top:8px;right:8px inset-inline-start: 8px;inset-inline-end:8px;border-radius:50%;--mdc-icon-size:16px;line-height:16px;box-sizing:border-box;color:var(--text-primary-color);padding:4px}.icon.custom{background:var(--warning-color)}`]}}]}}),o.WF);t()}catch(e){t(e)}}))},3532:(e,t,i)=>{i.d(t,{U:()=>a});const a=i(50289).AH`.card-config{overflow:auto}ha-switch{padding:16px 6px}.side-by-side{display:flex;align-items:flex-end}.side-by-side>*{flex:1;padding-right:8px;padding-inline-end:8px;padding-inline-start:initial}.side-by-side>:last-child{flex:1;padding-right:0;padding-inline-end:0;padding-inline-start:initial}.suffix{margin:0 8px}ha-icon-picker,ha-select,ha-textfield,hui-action-editor{margin-top:8px;display:block}`},52050:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.r(t),i.d(t,{HuiStackCardEditor:()=>w});var s=i(36312),o=(i(16891),i(48644),i(72532),i(68009)),n=i(50289),d=i(29818),r=i(66419),l=i(96979),c=i(34897),h=(i(4169),i(45346),i(99682),i(22992)),u=i(81680),p=i(56124),g=i(3532),f=e([h,u]);[h,u]=f.then?(await f)():f;const y="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",v="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",m="M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z",_="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",k="M11 15H17V17H11V15M9 7H7V9H9V7M11 13H17V11H11V13M11 9H17V7H11V9M9 11H7V13H9V11M21 5V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5M19 5H5V19H19V5M9 15H7V17H9V15Z",b="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",C=(0,r.kp)(p.H,(0,r.Ik)({cards:(0,r.YO)((0,r.bz)()),title:(0,r.lq)((0,r.Yj)())})),$=[{name:"title",selector:{text:{}}}];let w=(0,s.A)([(0,d.EM)("hui-stack-card-editor")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,d.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,d.MZ)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,l.I)({key:"dashboardCardClipboard",state:!1,subscribe:!1,storage:"sessionStorage"})],key:"_clipboard",value:void 0},{kind:"field",decorators:[(0,d.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,d.wk)()],key:"_selectedCard",value:()=>0},{kind:"field",decorators:[(0,d.wk)()],key:"_GUImode",value:()=>!0},{kind:"field",decorators:[(0,d.wk)()],key:"_guiModeAvailable",value:()=>!0},{kind:"field",key:"_schema",value:()=>$},{kind:"field",decorators:[(0,d.P)("hui-card-element-editor")],key:"_cardEditorEl",value:void 0},{kind:"method",key:"setConfig",value:function(e){(0,r.vA)(e,C),this._config=e}},{kind:"method",key:"focusYamlEditor",value:function(){this._cardEditorEl?.focusYamlEditor()}},{kind:"method",key:"formData",value:function(){return this._config}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return n.s6;const e=this._selectedCard,t=this._config.cards.length,i=!this._cardEditorEl||this._GUImode;return n.qy` <ha-form .hass="${this.hass}" .data="${this.formData()}" .schema="${this._schema}" .computeLabel="${this._computeLabelCallback}" @value-changed="${this._valueChanged}"></ha-form> <div class="card-config"> <div class="toolbar"> <paper-tabs .selected="${e}" scrollable @iron-activate="${this._handleSelectedCard}"> ${this._config.cards.map(((e,t)=>n.qy` <paper-tab> ${t+1} </paper-tab> `))} </paper-tabs> <paper-tabs id="add-card" .selected="${e===t?"0":void 0}" @iron-activate="${this._handleSelectedCard}"> <paper-tab> <ha-svg-icon .path="${b}"></ha-svg-icon> </paper-tab> </paper-tabs> </div> <div id="editor"> ${e<t?n.qy` <div id="card-options"> <ha-icon-button class="gui-mode-button" @click="${this._toggleMode}" .disabled="${!this._guiModeAvailable}" .label="${this.hass.localize(i?"ui.panel.lovelace.editor.edit_card.show_code_editor":"ui.panel.lovelace.editor.edit_card.show_visual_editor")}" .path="${i?y:k}"></ha-icon-button> <ha-icon-button-arrow-prev .disabled="${0===e}" .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.move_before")}" @click="${this._handleMove}" .move="${-1}"></ha-icon-button-arrow-prev> <ha-icon-button-arrow-next .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.move_after")}" .disabled="${e===t-1}" @click="${this._handleMove}" .move="${1}"></ha-icon-button-arrow-next> <ha-icon-button .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.copy")}" .path="${v}" @click="${this._handleCopyCard}"></ha-icon-button> <ha-icon-button .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.cut")}" .path="${m}" @click="${this._handleCutCard}"></ha-icon-button> <ha-icon-button .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.delete")}" .path="${_}" @click="${this._handleDeleteCard}"></ha-icon-button> </div> <hui-card-element-editor .hass="${this.hass}" .value="${this._config.cards[e]}" .lovelace="${this.lovelace}" @config-changed="${this._handleConfigChanged}" @GUImode-changed="${this._handleGUIModeChanged}"></hui-card-element-editor> `:n.qy` <hui-card-picker .hass="${this.hass}" .lovelace="${this.lovelace}" @config-changed="${this._handleCardPicked}"></hui-card-picker> `} </div> </div> `}},{kind:"method",key:"_handleSelectedCard",value:function(e){"add-card"!==e.target.id?(this._setMode(!0),this._guiModeAvailable=!0,this._selectedCard=parseInt(e.detail.selected,10)):this._selectedCard=this._config.cards.length}},{kind:"method",key:"_handleConfigChanged",value:function(e){if(e.stopPropagation(),!this._config)return;const t=[...this._config.cards];t[this._selectedCard]=e.detail.config,this._config={...this._config,cards:t},this._guiModeAvailable=e.detail.guiModeAvailable,(0,c.r)(this,"config-changed",{config:this._config})}},{kind:"method",key:"_handleCardPicked",value:function(e){if(e.stopPropagation(),!this._config)return;const t=e.detail.config,i=[...this._config.cards,t];this._config={...this._config,cards:i},(0,c.r)(this,"config-changed",{config:this._config})}},{kind:"method",key:"_handleCopyCard",value:function(){this._config&&(this._clipboard=(0,o.A)(this._config.cards[this._selectedCard]))}},{kind:"method",key:"_handleCutCard",value:function(){this._handleCopyCard(),this._handleDeleteCard()}},{kind:"method",key:"_handleDeleteCard",value:function(){if(!this._config)return;const e=[...this._config.cards];e.splice(this._selectedCard,1),this._config={...this._config,cards:e},this._selectedCard=Math.max(0,this._selectedCard-1),(0,c.r)(this,"config-changed",{config:this._config})}},{kind:"method",key:"_handleMove",value:function(e){if(!this._config)return;const t=e.currentTarget.move,i=this._selectedCard+t,a=[...this._config.cards],s=a.splice(this._selectedCard,1)[0];a.splice(i,0,s),this._config={...this._config,cards:a},this._selectedCard=i,(0,c.r)(this,"config-changed",{config:this._config})}},{kind:"method",key:"_handleGUIModeChanged",value:function(e){e.stopPropagation(),this._GUImode=e.detail.guiMode,this._guiModeAvailable=e.detail.guiModeAvailable}},{kind:"method",key:"_toggleMode",value:function(){this._cardEditorEl?.toggleMode()}},{kind:"method",key:"_setMode",value:function(e){this._GUImode=e,this._cardEditorEl&&(this._cardEditorEl.GUImode=e)}},{kind:"method",key:"_valueChanged",value:function(e){(0,c.r)(this,"config-changed",{config:e.detail.value})}},{kind:"field",key:"_computeLabelCallback",value(){return e=>this.hass.localize(`ui.panel.lovelace.editor.card.${this._config.type}.${e.name}`)}},{kind:"get",static:!0,key:"styles",value:function(){return[g.U,n.AH`.toolbar{display:flex;--paper-tabs-selection-bar-color:var(--primary-color);--paper-tab-ink:var(--primary-color)}paper-tabs{display:flex;font-size:14px;flex-grow:1}#add-card{max-width:32px;padding:0}#card-options{display:flex;justify-content:flex-end;width:100%}#editor{border:1px solid var(--divider-color);padding:12px}@media (max-width:450px){#editor{margin:0 -12px}}.gui-mode-button{margin-right:auto;margin-inline-end:auto;margin-inline-start:initial}`]}}]}}),n.WF);a()}catch(e){a(e)}}))},64390:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{N:()=>n});var s=i(54075),o=e([s]);s=(o.then?(await o)():o)[0];const n=async(e,t,i,a)=>{let o={type:t};const n=await(0,s.dY)(t);if(n&&n.getStubConfig){const t=await n.getStubConfig(e,i,a);o={...o,...t}}return o};a()}catch(e){a(e)}}))},30998:(e,t,i)=>{i.d(t,{j:()=>a});const a=[{type:"alarm-panel",showElement:!0},{type:"button",showElement:!0},{type:"calendar",showElement:!0},{type:"entities",showElement:!0},{type:"entity",showElement:!0},{type:"gauge",showElement:!0},{type:"glance",showElement:!0},{type:"history-graph",showElement:!0},{type:"statistics-graph",showElement:!1},{type:"statistic",showElement:!0},{type:"humidifier",showElement:!0},{type:"light",showElement:!0},{type:"map",showElement:!0},{type:"markdown",showElement:!0},{type:"media-control",showElement:!0},{type:"picture",showElement:!0},{type:"picture-elements",showElement:!0},{type:"picture-entity",showElement:!0},{type:"picture-glance",showElement:!0},{type:"plant-status",showElement:!0},{type:"sensor",showElement:!0},{type:"thermostat",showElement:!0},{type:"weather-forecast",showElement:!0},{type:"area",showElement:!0},{type:"tile",showElement:!0},{type:"conditional"},{type:"entity-filter"},{type:"grid"},{type:"horizontal-stack"},{type:"iframe"},{type:"logbook"},{type:"vertical-stack"},{type:"todo-list"}]},56124:(e,t,i)=>{i.d(t,{H:()=>s});var a=i(66419);const s=(0,a.Ik)({type:(0,a.Yj)(),view_layout:(0,a.bz)(),layout_options:(0,a.bz)(),visibility:(0,a.bz)()})},54629:(e,t,i)=>{i.d(t,{i:()=>o});i(16891);var a=i(94366),s=i(57115);const o=(e,t)=>{const i=a.A.config.getFn(e,t);return Array.isArray(i)?i.map((e=>(0,s.s)(e??""))):(0,s.s)(i??"")}}};
//# sourceMappingURL=52050.Hs3D0_-cBhw.js.map