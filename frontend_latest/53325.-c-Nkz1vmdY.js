export const id=53325;export const ids=[53325,921];export const modules={79682:(e,t,s)=>{s.d(t,{f:()=>o});s(253),s(4525);var a=s(21863),i=s(33922);const o=(e,t)=>(l(t)||r(e,t))&&!h(e,t)&&n(e,t),r=(e,t)=>!t.component||(0,a.e)(t.component).some((t=>(0,i.x)(e,t))),n=(e,t)=>!t.not_component||!(0,a.e)(t.not_component).some((t=>(0,i.x)(e,t))),l=e=>e.core,h=(e,t)=>(e=>e.advancedOnly)(t)&&!(e=>e.userData?.showAdvanced)(e)},37456:(e,t,s)=>{s.d(t,{a:()=>i});const a=(0,s(58034).n)((e=>{history.replaceState({scrollPosition:e},"")}),300),i=e=>t=>({kind:"method",placement:"prototype",key:t.key,descriptor:{set(e){a(e),this[`__${String(t.key)}`]=e},get(){return this[`__${String(t.key)}`]||history.state?.scrollPosition},enumerable:!0,configurable:!0},finisher(s){const a=s.prototype.connectedCallback;s.prototype.connectedCallback=function(){a.call(this);const s=this[t.key];s&&this.updateComplete.then((()=>{const t=this.renderRoot.querySelector(e);t&&setTimeout((()=>{t.scrollTop=s}),0)}))}}})},921:(e,t,s)=>{var a=s(36312),i=s(68689),o=(s(253),s(2075),s(94438),s(16891),s(50289)),r=s(29818),n=s(85323),l=s(94100),h=s(37456),d=(s(45346),s(11804),s(88400),s(17081),s(55321)),c=s(79682);(0,a.A)([(0,r.EM)("hass-tabs-subpage")],(function(e,t){class s extends t{constructor(...t){super(...t),e(this)}}return{F:s,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"localizeFunc",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"tabs",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0,attribute:"is-wide"})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"pane",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_activeTab",value:void 0},{kind:"field",decorators:[(0,h.a)(".content")],key:"_savedScrollPos",value:void 0},{kind:"field",key:"_getTabs",value(){return(0,l.A)(((e,t,s,a,i,r)=>{const n=e.filter((e=>(0,c.f)(this.hass,e)));if(n.length<2){if(1===n.length){const e=n[0];return[e.translationKey?r(e.translationKey):e.name]}return[""]}return n.map((e=>o.qy` <a href="${e.path}"> <ha-tab .hass="${this.hass}" .active="${e.path===t?.path}" .narrow="${this.narrow}" .name="${e.translationKey?r(e.translationKey):e.name}"> ${e.iconPath?o.qy`<ha-svg-icon slot="icon" .path="${e.iconPath}"></ha-svg-icon>`:""} </ha-tab> </a> `))}))}},{kind:"method",key:"willUpdate",value:function(e){e.has("route")&&(this._activeTab=this.tabs.find((e=>`${this.route.prefix}${this.route.path}`.includes(e.path)))),(0,i.A)(s,"willUpdate",this,3)([e])}},{kind:"method",key:"render",value:function(){const e=this._getTabs(this.tabs,this._activeTab,this.hass.config.components,this.hass.language,this.narrow,this.localizeFunc||this.hass.localize),t=e.length>1;return o.qy` <div class="toolbar"> <slot name="toolbar"> <div class="toolbar-content"> ${this.mainPage||!this.backPath&&history.state?.root?o.qy` <ha-menu-button .hassio="${this.supervisor}" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?o.qy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:o.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} ${this.narrow||!t?o.qy`<div class="main-title"> <slot name="header">${t?"":e[0]}</slot> </div>`:""} ${t&&!this.narrow?o.qy`<div id="tabbar">${e}</div>`:""} <div id="toolbar-icon"> <slot name="toolbar-icon"></slot> </div> </div> </slot> ${t&&this.narrow?o.qy`<div id="tabbar" class="bottom-bar">${e}</div>`:""} </div> <div class="container"> ${this.pane?o.qy`<div class="pane"> <div class="shadow-container"></div> <div class="ha-scrollbar"> <slot name="pane"></slot> </div> </div>`:o.s6} <div class="content ha-scrollbar ${(0,n.H)({tabs:t})}" @scroll="${this._saveScrollPos}"> <slot></slot> </div> </div> <div id="fab" class="${(0,n.H)({tabs:t})}"> <slot name="fab"></slot> </div> `}},{kind:"method",decorators:[(0,r.Ls)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[d.dp,o.AH`:host{display:block;height:100%;background-color:var(--primary-background-color)}:host([narrow]){width:100%;position:fixed}.container{display:flex;height:calc(100% - var(--header-height))}:host([narrow]) .container{height:100%}ha-menu-button{margin-right:24px;margin-inline-end:24px;margin-inline-start:initial}.toolbar{font-size:20px;height:var(--header-height);background-color:var(--sidebar-background-color);font-weight:400;border-bottom:1px solid var(--divider-color);box-sizing:border-box}.toolbar-content{padding:8px 12px;display:flex;align-items:center;height:100%;box-sizing:border-box}@media (max-width:599px){.toolbar-content{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}.bottom-bar a{width:25%}#tabbar{display:flex;font-size:14px;overflow:hidden}#tabbar>a{overflow:hidden;max-width:45%}#tabbar.bottom-bar{position:absolute;bottom:0;left:0;padding:0 16px;box-sizing:border-box;background-color:var(--sidebar-background-color);border-top:1px solid var(--divider-color);justify-content:space-around;z-index:2;font-size:12px;width:100%;padding-bottom:env(safe-area-inset-bottom)}#tabbar:not(.bottom-bar){flex:1;justify-content:center}:host(:not([narrow])) #toolbar-icon{min-width:40px}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{display:flex;flex-shrink:0;pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{flex:1;max-height:var(--header-height);line-height:20px;color:var(--sidebar-text-color);margin:var(--main-title-margin,var(--margin-title))}.content{position:relative;width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));margin-left:env(safe-area-inset-left);margin-right:env(safe-area-inset-right);margin-inline-start:env(safe-area-inset-left);margin-inline-end:env(safe-area-inset-right);overflow:auto;-webkit-overflow-scrolling:touch}:host([narrow]) .content.tabs{height:calc(100% - 2 * var(--header-height));height:calc(100% - 2 * var(--header-height) - env(safe-area-inset-bottom))}#fab{position:fixed;right:calc(16px + env(safe-area-inset-right));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + env(safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}.pane{border-right:1px solid var(--divider-color);border-inline-end:1px solid var(--divider-color);border-inline-start:initial;box-sizing:border-box;display:flex;flex:0 0 var(--sidepane-width,250px);width:var(--sidepane-width,250px);flex-direction:column;position:relative}.pane .ha-scrollbar{flex:1}`]}}]}}),o.WF)},29518:(e,t,s)=>{var a=s(36312),i=s(68689),o=(s(72606),s(50289)),r=s(29818),n=(s(13082),s(32885),s(90431),s(55321)),l=(s(13292),s(6121)),h=s(94526);(0,a.A)([(0,r.EM)("ha-change-password-card")],(function(e,t){class s extends t{constructor(...t){super(...t),e(this)}}return{F:s,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_loading",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_statusMsg",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_errorMsg",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_currentPassword",value:()=>""},{kind:"field",decorators:[(0,r.wk)()],key:"_password",value:()=>""},{kind:"field",decorators:[(0,r.wk)()],key:"_passwordConfirm",value:()=>""},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"refreshTokens",value:void 0},{kind:"method",key:"render",value:function(){return o.qy` <ha-card .header="${this.hass.localize("ui.panel.profile.change_password.header")}"> <div class="card-content"> ${this._errorMsg?o.qy`<ha-alert alert-type="error">${this._errorMsg}</ha-alert>`:""} ${this._statusMsg?o.qy`<ha-alert alert-type="success">${this._statusMsg}</ha-alert>`:""} <ha-textfield id="currentPassword" name="currentPassword" .label="${this.hass.localize("ui.panel.profile.change_password.current_password")}" type="password" autocomplete="current-password" .value="${this._currentPassword}" @input="${this._currentPasswordChanged}" required></ha-textfield> ${this._currentPassword?o.qy`<ha-textfield .label="${this.hass.localize("ui.panel.profile.change_password.new_password")}" name="password" type="password" autocomplete="new-password" .value="${this._password}" @change="${this._newPasswordChanged}" required auto-validate></ha-textfield> <ha-textfield .label="${this.hass.localize("ui.panel.profile.change_password.confirm_new_password")}" name="passwordConfirm" type="password" autocomplete="new-password" .value="${this._passwordConfirm}" @input="${this._newPasswordConfirmChanged}" required auto-validate></ha-textfield>`:""} </div> <div class="card-actions"> ${this._loading?o.qy`<div> <ha-circular-progress indeterminate></ha-circular-progress> </div>`:o.qy`<mwc-button @click="${this._changePassword}" .disabled="${!this._passwordConfirm}">${this.hass.localize("ui.panel.profile.change_password.submit")}</mwc-button>`} </div> </ha-card> `}},{kind:"method",key:"_currentPasswordChanged",value:function(e){this._currentPassword=e.target.value}},{kind:"method",key:"_newPasswordChanged",value:function(e){this._password=e.target.value}},{kind:"method",key:"_newPasswordConfirmChanged",value:function(e){this._passwordConfirm=e.target.value}},{kind:"method",key:"firstUpdated",value:function(e){(0,i.A)(s,"firstUpdated",this,3)([e]),this.addEventListener("keypress",(e=>{this._statusMsg=void 0,"Enter"===e.key&&this._changePassword()}))}},{kind:"method",key:"_changePassword",value:async function(){if(this._statusMsg=void 0,this._currentPassword&&this._password&&this._passwordConfirm)if(this._password===this._passwordConfirm)if(this._currentPassword!==this._password){this._loading=!0,this._errorMsg=void 0;try{await(0,h.ec)(this.hass,this._currentPassword,this._password)}catch(e){return void(this._errorMsg=e.message)}finally{this._loading=!1}if(this._statusMsg=this.hass.localize("ui.panel.profile.change_password.success"),this.refreshTokens&&await(0,l.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.profile.change_password.logout_all_sessions"),text:this.hass.localize("ui.panel.profile.change_password.logout_all_sessions_text"),dismissText:this.hass.localize("ui.common.no"),confirmText:this.hass.localize("ui.common.yes"),destructive:!0}))try{await(0,h.Y_)(this.hass)}catch(e){await(0,l.showAlertDialog)(this,{title:this.hass.localize("ui.panel.profile.change_password.delete_failed"),text:e.message})}this._currentPassword="",this._password="",this._passwordConfirm=""}else this._errorMsg=this.hass.localize("ui.panel.profile.change_password.error_new_is_old");else this._errorMsg=this.hass.localize("ui.panel.profile.change_password.error_new_mismatch")}},{kind:"get",static:!0,key:"styles",value:function(){return[n.RF,o.AH`ha-textfield{margin-top:8px;display:block}#currentPassword{margin-top:0}`]}}]}}),o.WF)},48173:(e,t,s)=>{s.a(e,(async(e,t)=>{try{var a=s(36312),i=(s(16891),s(72606),s(50289)),o=s(29818),r=s(94100),n=s(30125),l=s(34897),h=(s(13082),s(24640),s(4169),s(6121)),d=s(55321),c=s(25614),u=e([n]);n=(u.then?(await u)():u)[0];const p="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z";(0,a.A)([(0,o.EM)("ha-long-lived-access-tokens-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"refreshTokens",value:void 0},{kind:"field",key:"_accessTokens",value:()=>(0,r.A)((e=>e?.filter((e=>"long_lived_access_token"===e.type)).reverse()))},{kind:"method",key:"render",value:function(){const e=this._accessTokens(this.refreshTokens);return i.qy` <ha-card .header="${this.hass.localize("ui.panel.profile.long_lived_access_tokens.header")}"> <div class="card-content"> ${this.hass.localize("ui.panel.profile.long_lived_access_tokens.description")} <a href="https://developers.home-assistant.io/docs/auth_api/#making-authenticated-requests" target="_blank" rel="noreferrer"> ${this.hass.localize("ui.panel.profile.long_lived_access_tokens.learn_auth_requests")} </a> ${e?.length?e.map((e=>i.qy`<ha-settings-row two-line> <span slot="heading">${e.client_name}</span> <div slot="description"> ${this.hass.localize("ui.panel.profile.long_lived_access_tokens.created",{date:(0,n.K)(new Date(e.created_at),this.hass.locale)})} </div> <ha-icon-button .token="${e}" .disabled="${e.is_current}" .label="${this.hass.localize("ui.common.delete")}" .path="${p}" @click="${this._deleteToken}"></ha-icon-button> </ha-settings-row>`)):i.qy`<p> ${this.hass.localize("ui.panel.profile.long_lived_access_tokens.empty_state")} </p>`} </div> <div class="card-actions"> <mwc-button @click="${this._createToken}"> ${this.hass.localize("ui.panel.profile.long_lived_access_tokens.create")} </mwc-button> </div> </ha-card> `}},{kind:"method",key:"_createToken",value:async function(){const e=await(0,h.showPromptDialog)(this,{text:this.hass.localize("ui.panel.profile.long_lived_access_tokens.prompt_name"),inputLabel:this.hass.localize("ui.panel.profile.long_lived_access_tokens.name")});if(e)try{const t=await this.hass.callWS({type:"auth/long_lived_access_token",lifespan:3650,client_name:e});(0,c.t)(this,{token:t,name:e}),(0,l.r)(this,"hass-refresh-tokens")}catch(e){(0,h.showAlertDialog)(this,{title:this.hass.localize("ui.panel.profile.long_lived_access_tokens.create_failed"),text:e.message})}}},{kind:"method",key:"_deleteToken",value:async function(e){const t=e.currentTarget.token;if(await(0,h.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.profile.long_lived_access_tokens.confirm_delete_title"),text:this.hass.localize("ui.panel.profile.long_lived_access_tokens.confirm_delete_text",{name:t.client_name}),confirmText:this.hass.localize("ui.common.delete"),destructive:!0}))try{await this.hass.callWS({type:"auth/delete_refresh_token",refresh_token_id:t.id}),(0,l.r)(this,"hass-refresh-tokens")}catch(e){await(0,h.showAlertDialog)(this,{title:this.hass.localize("ui.panel.profile.long_lived_access_tokens.delete_failed"),text:e.message})}}},{kind:"get",static:!0,key:"styles",value:function(){return[d.RF,i.AH`ha-settings-row{padding:0}a{color:var(--primary-color)}mwc-button{--mdc-theme-primary:var(--primary-color)}ha-icon-button{color:var(--primary-text-color)}`]}}]}}),i.WF);t()}catch(e){t(e)}}))},99937:(e,t,s)=>{var a=s(36312),i=(s(16891),s(72606),s(50289)),o=s(29818),r=s(34897),n=(s(13082),s(6121));const l=()=>s.e(10770).then(s.bind(s,10770));(0,a.A)([(0,o.EM)("ha-mfa-modules-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"mfaModules",value:void 0},{kind:"method",key:"render",value:function(){return i.qy` <ha-card .header="${this.hass.localize("ui.panel.profile.mfa.header")}"> ${this.mfaModules.map((e=>i.qy`<ha-settings-row two-line> <span slot="heading">${e.name}</span> <span slot="description">${e.id}</span> ${e.enabled?i.qy`<mwc-button .module="${e}" @click="${this._disable}">${this.hass.localize("ui.panel.profile.mfa.disable")}</mwc-button>`:i.qy`<mwc-button .module="${e}" @click="${this._enable}">${this.hass.localize("ui.panel.profile.mfa.enable")}</mwc-button>`} </ha-settings-row>`))} </ha-card> `}},{kind:"get",static:!0,key:"styles",value:function(){return i.AH`mwc-button{margin-right:-.57em;margin-inline-end:-.57em;margin-inline-start:initial}ha-list-item{--mdc-list-item-meta-size:auto}`}},{kind:"method",key:"_enable",value:function(e){var t,s;t=this,s={mfaModuleId:e.currentTarget.module.id,dialogClosedCallback:()=>this._refreshCurrentUser()},(0,r.r)(t,"show-dialog",{dialogTag:"ha-mfa-module-setup-flow",dialogImport:l,dialogParams:s})}},{kind:"method",key:"_disable",value:async function(e){const t=e.currentTarget.module;if(!await(0,n.showConfirmationDialog)(this,{text:this.hass.localize("ui.panel.profile.mfa.confirm_disable",{name:t.name})}))return;const s=t.id;this.hass.callWS({type:"auth/depose_mfa",mfa_module_id:s}).then((()=>{this._refreshCurrentUser()}))}},{kind:"method",key:"_refreshCurrentUser",value:function(){(0,r.r)(this,"hass-refresh-current-user")}}]}}),i.WF)},53325:(e,t,s)=>{s.a(e,(async(e,a)=>{try{s.r(t);var i=s(36312),o=s(68689),r=(s(253),s(4525),s(50289)),n=s(29818),l=(s(921),s(14887)),h=s(55321),d=(s(29518),s(48173)),c=(s(99937),s(42e3)),u=e([d,c]);[d,c]=u.then?(await u)():u;(0,i.A)([(0,n.EM)("ha-profile-section-security")],(function(e,t){class s extends t{constructor(...t){super(...t),e(this)}}return{F:s,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_refreshTokens",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,o.A)(s,"connectedCallback",this,3)([]),this._refreshRefreshTokens()}},{kind:"method",key:"firstUpdated",value:function(){this._refreshTokens||this._refreshRefreshTokens()}},{kind:"method",key:"render",value:function(){return r.qy` <hass-tabs-subpage main-page .hass="${this.hass}" .narrow="${this.narrow}" .tabs="${l.profileSections}" .route="${this.route}"> <div slot="title">${this.hass.localize("panel.profile")}</div> <div class="content"> ${this.hass.user.credentials.some((e=>"homeassistant"===e.auth_provider_type))?r.qy` <ha-change-password-card .refreshTokens="${this._refreshTokens}" @hass-refresh-tokens="${this._refreshRefreshTokens}" .hass="${this.hass}"></ha-change-password-card> `:""} <ha-mfa-modules-card .hass="${this.hass}" .mfaModules="${this.hass.user.mfa_modules}"></ha-mfa-modules-card> <ha-refresh-tokens-card .hass="${this.hass}" .refreshTokens="${this._refreshTokens}" @hass-refresh-tokens="${this._refreshRefreshTokens}"></ha-refresh-tokens-card> <ha-long-lived-access-tokens-card .hass="${this.hass}" .refreshTokens="${this._refreshTokens}" @hass-refresh-tokens="${this._refreshRefreshTokens}"></ha-long-lived-access-tokens-card> </div> </hass-tabs-subpage> `}},{kind:"method",key:"_refreshRefreshTokens",value:async function(){this.hass&&(this._refreshTokens=await this.hass.callWS({type:"auth/refresh_tokens"}))}},{kind:"get",static:!0,key:"styles",value:function(){return[h.RF,r.AH`:host{-ms-user-select:initial;-webkit-user-select:initial;-moz-user-select:initial}.content{display:block;max-width:600px;margin:0 auto;padding-bottom:env(safe-area-inset-bottom)}.content>*{display:block;margin:24px 0}.promo-advanced{text-align:center;color:var(--secondary-text-color)}`]}}]}}),r.WF);a()}catch(e){a(e)}}))},42e3:(e,t,s)=>{s.a(e,(async(e,t)=>{try{var a=s(36312),i=(s(253),s(2075),s(16891),s(7986),s(50289)),o=s(29818),r=s(94100),n=s(30125),l=s(34897),h=(s(26790),s(13082),s(4169),s(27120),s(24640),s(94526)),d=s(6121),c=s(55321),u=e([n]);n=(u.then?(await u)():u)[0];const p="M16.61 15.15C16.15 15.15 15.77 14.78 15.77 14.32S16.15 13.5 16.61 13.5H16.61C17.07 13.5 17.45 13.86 17.45 14.32C17.45 14.78 17.07 15.15 16.61 15.15M7.41 15.15C6.95 15.15 6.57 14.78 6.57 14.32C6.57 13.86 6.95 13.5 7.41 13.5H7.41C7.87 13.5 8.24 13.86 8.24 14.32C8.24 14.78 7.87 15.15 7.41 15.15M16.91 10.14L18.58 7.26C18.67 7.09 18.61 6.88 18.45 6.79C18.28 6.69 18.07 6.75 18 6.92L16.29 9.83C14.95 9.22 13.5 8.9 12 8.91C10.47 8.91 9 9.24 7.73 9.82L6.04 6.91C5.95 6.74 5.74 6.68 5.57 6.78C5.4 6.87 5.35 7.08 5.44 7.25L7.1 10.13C4.25 11.69 2.29 14.58 2 18H22C21.72 14.59 19.77 11.7 16.91 10.14H16.91Z",f="M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z",k="M23.5 17L18.5 22L15 18.5L16.5 17L18.5 19L22 15.5L23.5 17M13.1 19.9C12.7 20 12.4 20 12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12C20 12.4 20 12.7 19.9 13.1C20.6 13.2 21.2 13.4 21.8 13.7C21.9 13.1 22 12.6 22 12C22 6.5 17.5 2 12 2S2 6.5 2 12C2 17.5 6.5 22 12 22C12.6 22 13.2 21.9 13.7 21.8C13.4 21.3 13.2 20.6 13.1 19.9M15.6 14.1L12.5 12.3V7H11V13L14.5 15.1C14.8 14.7 15.2 14.4 15.6 14.1Z",_="M14.47 15.08L11 13V7H12.5V12.25L15.58 14.08C15.17 14.36 14.79 14.7 14.47 15.08M13.08 19.92C12.72 19.97 12.37 20 12 20C7.58 20 4 16.42 4 12S7.58 4 12 4 20 7.58 20 12C20 12.37 19.97 12.72 19.92 13.08C20.61 13.18 21.25 13.4 21.84 13.72C21.94 13.16 22 12.59 22 12C22 6.5 17.5 2 12 2S2 6.5 2 12C2 17.5 6.47 22 12 22C12.59 22 13.16 21.94 13.72 21.84C13.4 21.25 13.18 20.61 13.08 19.92M21.12 15.46L19 17.59L16.88 15.47L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z",m="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",v="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",g="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",b="https://home-assistant.io/iOS",w="https://home-assistant.io/android",y=(e,t)=>{const s=e.last_used_at?new Date(e.last_used_at):0,a=t.last_used_at?new Date(t.last_used_at):0;return s<a?1:s>a?-1:0};(0,a.A)([(0,o.EM)("ha-refresh-tokens-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"refreshTokens",value:void 0},{kind:"field",key:"_refreshTokens",value:()=>(0,r.A)((e=>e.filter((e=>"normal"===e.type)).sort(y)))},{kind:"field",key:"_formatTokenName",value(){return e=>e.client_id===b?this.hass.localize("ui.panel.profile.refresh_tokens.ios_app"):e.client_id===w?this.hass.localize("ui.panel.profile.refresh_tokens.android_app"):e.client_name||e.client_id}},{kind:"method",key:"render",value:function(){const e=this.refreshTokens?this._refreshTokens(this.refreshTokens):[];return i.qy` <ha-card .header="${this.hass.localize("ui.panel.profile.refresh_tokens.header")}"> <div class="card-content"> ${this.hass.localize("ui.panel.profile.refresh_tokens.description")} ${e.length?e.map((e=>i.qy` <ha-settings-row three-line> <ha-svg-icon slot="prefix" .path="${e.client_id===b?f:e.client_id===w?p:g}"></ha-svg-icon> <span slot="heading" class="primary"> ${this._formatTokenName(e)} </span> <div slot="description"> ${this.hass.localize("ui.panel.profile.refresh_tokens.created_at",{date:(0,n.K)(new Date(e.created_at),this.hass.locale)})} </div> <div slot="description"> ${e.is_current?i.qy` <span class="current-session"> <span class="dot"></span> ${this.hass.localize("ui.panel.profile.refresh_tokens.current_session")} </span> `:e.last_used_at?this.hass.localize("ui.panel.profile.refresh_tokens.last_used",{date:(0,n.K)(new Date(e.last_used_at),this.hass.locale),location:e.last_used_ip}):this.hass.localize("ui.panel.profile.refresh_tokens.not_used")} </div> <div slot="description"> ${e.expire_at?this.hass.localize("ui.panel.profile.refresh_tokens.expires_in",{date:(0,n.K)(new Date(e.expire_at),this.hass.locale)}):this.hass.localize("ui.panel.profile.refresh_tokens.never_expires")} </div> <div> <ha-button-menu corner="BOTTOM_END" menuCorner="END" @action="${this._handleAction}" .token="${e}"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${v}"></ha-icon-button> <ha-list-item graphic="icon"> <ha-svg-icon slot="graphic" .path="${e.expire_at?_:k}"></ha-svg-icon> ${e.expire_at?this.hass.localize("ui.panel.profile.refresh_tokens.disable_token_expiration"):this.hass.localize("ui.panel.profile.refresh_tokens.enable_token_expiration")} </ha-list-item> <ha-list-item graphic="icon" class="warning" .disabled="${e.is_current}"> <ha-svg-icon class="warning" slot="graphic" .path="${m}"></ha-svg-icon> ${this.hass.localize("ui.common.delete")} </ha-list-item> </ha-button-menu> </div> </ha-settings-row> `)):i.s6} </div> <div class="card-actions"> <mwc-button class="warning" @click="${this._deleteAllTokens}"> ${this.hass.localize("ui.panel.profile.refresh_tokens.delete_all_tokens")} </mwc-button> </div> </ha-card> `}},{kind:"method",key:"_handleAction",value:async function(e){const t=e.currentTarget.token;switch(e.detail.index){case 0:this._toggleTokenExpiration(t);break;case 1:this._deleteToken(t)}}},{kind:"method",key:"_toggleTokenExpiration",value:async function(e){const t=!e.expire_at;if(t||await(0,d.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.profile.refresh_tokens.confirm_disable_token_expiration_title"),text:this.hass.localize("ui.panel.profile.refresh_tokens.confirm_disable_token_expiration_text",{name:this._formatTokenName(e)}),confirmText:this.hass.localize("ui.common.disable"),destructive:!0}))try{await this.hass.callWS({type:"auth/refresh_token_set_expiry",refresh_token_id:e.id,enable_expiry:t}),(0,l.r)(this,"hass-refresh-tokens")}catch(e){const s="object"==typeof e&&null!==e&&"message"in e?e.message:String(e);await(0,d.showAlertDialog)(this,{title:this.hass.localize(`ui.panel.profile.refresh_tokens.${t?"enable":"disable"}_expiration_failed`),text:s})}}},{kind:"method",key:"_deleteToken",value:async function(e){if(await(0,d.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.profile.refresh_tokens.confirm_delete_title"),text:this.hass.localize("ui.panel.profile.refresh_tokens.confirm_delete_text",{name:this._formatTokenName(e)}),confirmText:this.hass.localize("ui.common.delete"),destructive:!0}))try{await this.hass.callWS({type:"auth/delete_refresh_token",refresh_token_id:e.id}),(0,l.r)(this,"hass-refresh-tokens")}catch(e){await(0,d.showAlertDialog)(this,{title:this.hass.localize("ui.panel.profile.refresh_tokens.delete_failed"),text:e.message})}}},{kind:"method",key:"_deleteAllTokens",value:async function(){if(await(0,d.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.profile.refresh_tokens.confirm_delete_all_title"),text:this.hass.localize("ui.panel.profile.refresh_tokens.confirm_delete_all"),confirmText:this.hass.localize("ui.common.delete_all"),destructive:!0}))try{await(0,h.Y_)(this.hass,"normal",!1),(0,l.r)(this,"hass-refresh-tokens")}catch(e){await(0,d.showAlertDialog)(this,{title:this.hass.localize("ui.panel.profile.refresh_tokens.delete_failed"),text:e.message})}}},{kind:"get",static:!0,key:"styles",value:function(){return[c.RF,i.AH`ha-settings-row{padding:0;--settings-row-prefix-display:contents;--settings-row-content-display:contents}ha-icon-button{color:var(--primary-text-color)}ha-list-item[disabled],ha-list-item[disabled] ha-svg-icon{color:var(--disabled-text-color)!important}ha-settings-row .current-session{display:inline-flex;align-items:center}ha-settings-row .dot{display:inline-block;width:8px;height:8px;background-color:var(--success-color);border-radius:50%;margin-right:6px}ha-settings-row>ha-svg-icon{margin-right:12px;margin-inline-start:initial;margin-inline-end:12px}`]}}]}}),i.WF);t()}catch(e){t(e)}}))},25614:(e,t,s)=>{s.d(t,{t:()=>i});var a=s(34897);const i=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"ha-long-lived-access-token-dialog",dialogImport:()=>s.e(32580).then(s.bind(s,32580)),dialogParams:t})}}};
//# sourceMappingURL=53325.-c-Nkz1vmdY.js.map