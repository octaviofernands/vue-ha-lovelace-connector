export const id=38929;export const ids=[38929];export const modules={38929:(a,e,i)=>{i.r(e);var s=i(36312),t=(i(72606),i(63893),i(50289)),o=i(29818),l=i(34897),r=(i(13292),i(6482),i(29180)),n=(i(98645),i(24640),i(85288),i(82903),i(90431),i(74994),i(55321));const h={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78};let d=(0,s.A)(null,(function(a,e){return{F:class extends e{constructor(...e){super(...e),a(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_aliases",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_picture",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_floor",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_submitting",value:void 0},{kind:"method",key:"showDialog",value:async function(a){this._params=a,this._error=void 0,this._name=this._params.entry?this._params.entry.name:this._params.suggestedName||"",this._aliases=this._params.entry?this._params.entry.aliases:[],this._labels=this._params.entry?this._params.entry.labels:[],this._picture=this._params.entry?.picture||null,this._icon=this._params.entry?.icon||null,this._floor=this._params.entry?.floor_id||null,await this.updateComplete}},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,l.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){if(!this._params)return t.s6;const a=this._params.entry,e=!this._isNameValid();return t.qy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,r.l)(this.hass,a?this.hass.localize("ui.panel.config.areas.editor.update_area"):this.hass.localize("ui.panel.config.areas.editor.create_area"))}"> <div> ${this._error?t.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form"> ${a?t.qy` <ha-settings-row> <span slot="heading"> ${this.hass.localize("ui.panel.config.areas.editor.area_id")} </span> <span slot="description"> ${a.area_id} </span> </ha-settings-row> `:t.s6} <ha-textfield .value="${this._name}" @input="${this._nameChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.name")}" .validationMessage="${this.hass.localize("ui.panel.config.areas.editor.name_required")}" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="${this.hass}" .value="${this._icon}" @value-changed="${this._iconChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.icon")}"></ha-icon-picker> <ha-floor-picker .hass="${this.hass}" .value="${this._floor}" @value-changed="${this._floorChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.floor")}"></ha-floor-picker> <ha-labels-picker .hass="${this.hass}" .value="${this._labels}" @value-changed="${this._labelsChanged}"></ha-labels-picker> <ha-picture-upload .hass="${this.hass}" .value="${this._picture}" crop .cropOptions="${h}" @change="${this._pictureChanged}"></ha-picture-upload> <h3 class="header"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_section")} </h3> <p class="description"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_description")} </p> <ha-aliases-editor .hass="${this.hass}" .aliases="${this._aliases}" @value-changed="${this._aliasesChanged}"></ha-aliases-editor> </div> </div> <mwc-button slot="secondaryAction" @click="${this.closeDialog}"> ${this.hass.localize("ui.common.cancel")} </mwc-button> <mwc-button slot="primaryAction" @click="${this._updateEntry}" .disabled="${e||this._submitting}"> ${a?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.add")} </mwc-button> </ha-dialog> `}},{kind:"method",key:"_isNameValid",value:function(){return""!==this._name.trim()}},{kind:"method",key:"_nameChanged",value:function(a){this._error=void 0,this._name=a.target.value}},{kind:"method",key:"_floorChanged",value:function(a){this._error=void 0,this._floor=a.detail.value}},{kind:"method",key:"_iconChanged",value:function(a){this._error=void 0,this._icon=a.detail.value}},{kind:"method",key:"_labelsChanged",value:function(a){this._error=void 0,this._labels=a.detail.value}},{kind:"method",key:"_pictureChanged",value:function(a){this._error=void 0,this._picture=a.target.value}},{kind:"method",key:"_updateEntry",value:async function(){const a=!this._params.entry;this._submitting=!0;try{const e={name:this._name.trim(),picture:this._picture||(a?void 0:null),icon:this._icon||(a?void 0:null),floor_id:this._floor||(a?void 0:null),labels:this._labels||null,aliases:this._aliases};a?await this._params.createEntry(e):await this._params.updateEntry(e),this.closeDialog()}catch(a){this._error=a.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error")}finally{this._submitting=!1}}},{kind:"method",key:"_aliasesChanged",value:function(a){this._aliases=a.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return[n.nA,t.AH`ha-floor-picker,ha-icon-picker,ha-labels-picker,ha-picture-upload,ha-textfield{display:block;margin-bottom:16px}`]}}]}}),t.WF);customElements.define("dialog-area-registry-detail",d)}};
//# sourceMappingURL=38929.CdTpssSzW-4.js.map