export const id=48878;export const ids=[48878];export const modules={48878:(e,i,t)=>{t.r(i),t.d(i,{HaConfigUsers:()=>k});var s=t(36312),a=t(68689),o=(t(54774),t(253),t(2075),t(94438),t(54846),t(16891),t(50289)),n=t(29818),r=t(94100);t(88400);(0,s.A)([(0,n.EM)("ha-data-table-icon")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,n.MZ)()],key:"tooltip",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"path",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_hovered",value:()=>!1},{kind:"method",key:"render",value:function(){return o.qy` ${this._hovered?o.qy`<div>${this.tooltip}</div>`:""} <ha-svg-icon .path="${this.path}"></ha-svg-icon> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,a.A)(t,"firstUpdated",this,3)([e]);const i=()=>{this._hovered=!0},s=()=>{this._hovered=!1};this.addEventListener("mouseenter",i),this.addEventListener("focus",i),this.addEventListener("mouseleave",s),this.addEventListener("blur",s),this.addEventListener("tap",s)}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:inline-block;position:relative}ha-svg-icon{color:var(--secondary-text-color)}div{position:absolute;right:28px;inset-inline-end:28px;inset-inline-start:initial;z-index:1002;outline:0;font-size:10px;line-height:1;background-color:var(--simple-tooltip-background,#616161);color:var(--simple-tooltip-text-color,#fff);padding:8px;border-radius:2px}`}}]}}),o.WF);t(52427),t(77661);var l=t(71443),d=t(6121),h=(t(71158),t(25473)),c=t(65045),u=t(34897);const p=()=>t.e(40821).then(t.bind(t,40821));var v=t(96979);const g="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z";let k=(0,s.A)([(0,n.EM)("ha-config-users")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_users",value:()=>[]},{kind:"field",decorators:[(0,v.I)({key:"users-table-sort",state:!1,subscribe:!1})],key:"_activeSorting",value:void 0},{kind:"field",decorators:[(0,v.I)({key:"users-table-grouping",state:!1,subscribe:!1})],key:"_activeGrouping",value:void 0},{kind:"field",decorators:[(0,v.I)({key:"users-table-column-order",state:!1,subscribe:!1})],key:"_activeColumnOrder",value:void 0},{kind:"field",decorators:[(0,v.I)({key:"users-table-hidden-columns",state:!1,subscribe:!1})],key:"_activeHiddenColumns",value:void 0},{kind:"field",decorators:[(0,v.I)({storage:"sessionStorage",key:"users-table-search",state:!0,subscribe:!1})],key:"_filter",value:()=>""},{kind:"field",decorators:[(0,v.I)({key:"users-table-collapsed",state:!1,subscribe:!1})],key:"_activeCollapsed",value:void 0},{kind:"field",key:"_columns",value(){return(0,r.A)(((e,i)=>({name:{title:i("ui.panel.config.users.picker.headers.name"),main:!0,sortable:!0,filterable:!0,direction:"asc",flex:2},username:{title:i("ui.panel.config.users.picker.headers.username"),sortable:!0,filterable:!0,direction:"asc",template:e=>o.qy`${e.username||"â€”"}`},group:{title:i("ui.panel.config.users.picker.headers.group"),sortable:!0,filterable:!0,groupable:!0,direction:"asc"},is_active:{title:this.hass.localize("ui.panel.config.users.picker.headers.is_active"),type:"icon",sortable:!0,filterable:!0,hidden:e,template:e=>e.is_active?o.qy`<ha-svg-icon .path="${g}"></ha-svg-icon>`:""},system_generated:{title:this.hass.localize("ui.panel.config.users.picker.headers.system"),type:"icon",sortable:!0,filterable:!0,hidden:e,template:e=>e.system_generated?o.qy`<ha-svg-icon .path="${g}"></ha-svg-icon>`:""},local_only:{title:this.hass.localize("ui.panel.config.users.picker.headers.local"),type:"icon",sortable:!0,filterable:!0,hidden:e,template:e=>e.local_only?o.qy`<ha-svg-icon .path="${g}"></ha-svg-icon>`:""},icons:{title:"",label:this.hass.localize("ui.panel.config.users.picker.headers.icon"),type:"icon",sortable:!1,filterable:!1,minWidth:"104px",hidden:!e,showNarrow:!0,template:e=>{const i=(0,l.xg)(this.hass,e,!1);return o.qy`${i.map((([e,i])=>o.qy`<ha-data-table-icon .path="${e}" .tooltip="${i}"></ha-data-table-icon>`))}`}}})))}},{kind:"method",key:"firstUpdated",value:function(e){(0,a.A)(t,"firstUpdated",this,3)([e]),this._fetchUsers()}},{kind:"method",key:"render",value:function(){return o.qy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" .route="${this.route}" back-path="/config" .tabs="${h.configSections.persons}" .columns="${this._columns(this.narrow,this.hass.localize)}" .data="${this._userData(this._users,this.hass.localize)}" .columnOrder="${this._activeColumnOrder}" .hiddenColumns="${this._activeHiddenColumns}" @columns-changed="${this._handleColumnsChanged}" .initialGroupColumn="${this._activeGrouping}" .initialCollapsedGroups="${this._activeCollapsed}" .initialSorting="${this._activeSorting}" @sorting-changed="${this._handleSortingChanged}" @grouping-changed="${this._handleGroupingChanged}" @collapsed-changed="${this._handleCollapseChanged}" .filter="${this._filter}" @search-changed="${this._handleSearchChange}" @row-click="${this._editUser}" hasFab clickable> <ha-fab slot="fab" .label="${this.hass.localize("ui.panel.config.users.picker.add_user")}" extended @click="${this._addUser}"> <ha-svg-icon slot="icon" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </ha-fab> </hass-tabs-subpage-data-table> `}},{kind:"field",key:"_userData",value:()=>(0,r.A)(((e,i)=>e.map((e=>({...e,name:e.name||i("ui.panel.config.users.editor.unnamed_user"),group:i(`groups.${e.group_ids[0]}`)})))))},{kind:"method",key:"_fetchUsers",value:async function(){this._users=await(0,l.hU)(this.hass),this._users.forEach((e=>{e.is_owner&&e.group_ids.unshift("owner")}))}},{kind:"method",key:"_editUser",value:function(e){const i=e.detail.id,t=this._users.find((e=>e.id===i));var s,a;t&&(s=this,a={entry:t,replaceEntry:e=>{this._users=this._users.map((i=>i.id===e.id?e:i))},updateEntry:async e=>{const i=await(0,l.TK)(this.hass,t.id,e);this._users=this._users.map((e=>e===t?i.user:e))},removeEntry:async()=>{if(!await(0,d.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.users.editor.confirm_user_deletion_title",{name:t.name}),text:this.hass.localize("ui.panel.config.users.editor.confirm_user_deletion_text"),dismissText:this.hass.localize("ui.common.cancel"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0}))return!1;try{return await(0,l.hG)(this.hass,t.id),this._users=this._users.filter((e=>e!==t)),!0}catch(e){return!1}}},(0,u.r)(s,"show-dialog",{dialogTag:"dialog-user-detail",dialogImport:p,dialogParams:a}))}},{kind:"method",key:"_addUser",value:function(){(0,c.E)(this,{userAddedCallback:async e=>{e&&(this._users=[...this._users,e])}})}},{kind:"method",key:"_handleSortingChanged",value:function(e){this._activeSorting=e.detail}},{kind:"method",key:"_handleGroupingChanged",value:function(e){this._activeGrouping=e.detail.value}},{kind:"method",key:"_handleCollapseChanged",value:function(e){this._activeCollapsed=e.detail.value}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value}},{kind:"method",key:"_handleColumnsChanged",value:function(e){this._activeColumnOrder=e.detail.columnOrder,this._activeHiddenColumns=e.detail.hiddenColumns}}]}}),o.WF)},65045:(e,i,t)=>{t.d(i,{E:()=>o});var s=t(34897);const a=()=>t.e(38081).then(t.bind(t,38081)),o=(e,i)=>{(0,s.r)(e,"show-dialog",{dialogTag:"dialog-add-user",dialogImport:a,dialogParams:i})}}};
//# sourceMappingURL=48878.fRnloSucYpc.js.map