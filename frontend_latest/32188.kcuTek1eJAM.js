export const id=32188;export const ids=[32188];export const modules={37456:(e,t,i)=>{i.d(t,{a:()=>s});const o=(0,i(58034).n)((e=>{history.replaceState({scrollPosition:e},"")}),300),s=e=>t=>({kind:"method",placement:"prototype",key:t.key,descriptor:{set(e){o(e),this[`__${String(t.key)}`]=e},get(){return this[`__${String(t.key)}`]||history.state?.scrollPosition},enumerable:!0,configurable:!0},finisher(i){const o=i.prototype.connectedCallback;i.prototype.connectedCallback=function(){o.call(this);const i=this[t.key];i&&this.updateComplete.then((()=>{const t=this.renderRoot.querySelector(e);t&&setTimeout((()=>{t.scrollTop=i}),0)}))}}})},66641:(e,t,i)=>{var o=i(36312),s=i(50289),a=i(29818),r=i(6121),n=(i(68690),i(34897));(0,o.A)([(0,a.EM)("ha-call-service-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"progress",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,a.MZ)()],key:"service",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Object})],key:"target",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Object})],key:"data",value:()=>({})},{kind:"field",decorators:[(0,a.MZ)()],key:"confirmation",value:void 0},{kind:"method",key:"render",value:function(){return s.qy` <ha-progress-button .progress="${this.progress}" .disabled="${this.disabled}" @click="${this._buttonTapped}" tabindex="0"> <slot></slot></ha-progress-button> `}},{kind:"method",key:"_callService",value:async function(){this.progress=!0;const e={domain:this.domain,service:this.service,data:this.data,target:this.target,success:!1},t=this.shadowRoot.querySelector("ha-progress-button");try{await this.hass.callService(this.domain,this.service,this.data,this.target),this.progress=!1,t.actionSuccess(),e.success=!0}catch(i){return this.progress=!1,t.actionError(),void(e.success=!1)}finally{(0,n.r)(this,"hass-service-called",e)}}},{kind:"method",key:"_buttonTapped",value:function(){this.confirmation?(0,r.showConfirmationDialog)(this,{text:this.confirmation,confirm:()=>this._callService()}):this._callService()}}]}}),s.WF)},68690:(e,t,i)=>{var o=i(36312),s=(i(72606),i(50289)),a=i(29818);i(32885),i(88400);(0,o.A)([(0,a.EM)("ha-progress-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"progress",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"raised",value:()=>!1},{kind:"field",decorators:[(0,a.wk)()],key:"_result",value:void 0},{kind:"method",key:"render",value:function(){const e=this._result||this.progress;return s.qy` <mwc-button ?raised="${this.raised}" .disabled="${this.disabled||this.progress}" @click="${this._buttonTapped}" class="${this._result||""}"> <slot></slot> </mwc-button> ${e?s.qy` <div class="progress"> ${"success"===this._result?s.qy`<ha-svg-icon .path="${"M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"}"></ha-svg-icon>`:"error"===this._result?s.qy`<ha-svg-icon .path="${"M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z"}"></ha-svg-icon>`:this.progress?s.qy` <ha-circular-progress size="small" indeterminate></ha-circular-progress> `:""} </div> `:s.s6} `}},{kind:"method",key:"actionSuccess",value:function(){this._setResult("success")}},{kind:"method",key:"actionError",value:function(){this._setResult("error")}},{kind:"method",key:"_setResult",value:function(e){this._result=e,setTimeout((()=>{this._result=void 0}),2e3)}},{kind:"method",key:"_buttonTapped",value:function(e){this.progress&&e.stopPropagation()}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{outline:0;display:inline-block;position:relative}mwc-button{transition:all 1s}mwc-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}mwc-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}mwc-button.error slot,mwc-button.success slot{visibility:hidden}`}}]}}),s.WF)},72829:(e,t,i)=>{var o=i(36312),s=(i(253),i(2075),i(50289)),a=i(29818),r=(i(4169),i(88400),i(90431),i(34897));(0,o.A)([(0,a.EM)("search-input")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.MZ)()],key:"filter",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"suffix",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)({type:String})],key:"label",value:void 0},{kind:"method",key:"focus",value:function(){this._input?.focus()}},{kind:"field",decorators:[(0,a.P)("ha-textfield",!0)],key:"_input",value:void 0},{kind:"method",key:"render",value:function(){return s.qy` <ha-textfield .autofocus="${this.autofocus}" .label="${this.label||this.hass.localize("ui.common.search")}" .value="${this.filter||""}" icon .iconTrailing="${this.filter||this.suffix}" @input="${this._filterInputChanged}"> <slot name="prefix" slot="leadingIcon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}"></ha-svg-icon> </slot> <div class="trailing" slot="trailingIcon"> ${this.filter&&s.qy` <ha-icon-button @click="${this._clearSearch}" .label="${this.hass.localize("ui.common.clear")}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" class="clear-button"></ha-icon-button> `} <slot name="suffix"></slot> </div> </ha-textfield> `}},{kind:"method",key:"_filterChanged",value:async function(e){(0,r.r)(this,"value-changed",{value:String(e)})}},{kind:"method",key:"_filterInputChanged",value:async function(e){this._filterChanged(e.target.value)}},{kind:"method",key:"_clearSearch",value:async function(){this._filterChanged("")}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{display:inline-flex}ha-icon-button,ha-svg-icon{color:var(--primary-text-color)}ha-svg-icon{outline:0}.clear-button{--mdc-icon-size:20px}ha-textfield{display:inherit}.trailing{display:flex;align-items:center}`}}]}}),s.WF)},95753:(e,t,i)=>{i.d(t,{L:()=>o,_:()=>s});const o=e=>e.callApi("GET","error_log"),s="/api/error_log"},15066:(e,t,i)=>{i.d(t,{GM:()=>r,MU:()=>n,OV:()=>a,RE:()=>l,Vo:()=>c,w9:()=>d});var o=i(95266),s=i(26025);const a=async e=>{(0,o.v)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:"/supervisor/reload",method:"post"}):await e.callApi("POST","hassio/supervisor/reload")},r=async e=>(0,o.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/supervisor/info",method:"get"}):(0,s.PS)(await e.callApi("GET","hassio/supervisor/info")),n=async e=>(0,o.v)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:"/info",method:"get"}):(0,s.PS)(await e.callApi("GET","hassio/info")),l=async(e,t)=>e.callApi("GET",`hassio/${t.includes("_")?`addons/${t}`:t}/logs`),c=e=>`/api/hassio/${e.includes("_")?`addons/${e}`:e}/logs`,d=async(e,t)=>{(0,o.v)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:"/supervisor/options",method:"post",data:t}):await e.callApi("POST","hassio/supervisor/options",t)}},48772:(e,t,i)=>{i.d(t,{Fu:()=>s,a4:()=>o,gk:()=>a});const o=async e=>{const t=await e.callWS({type:"system_log/list"});for(const e of t)e.level=e.level.toLowerCase();return t},s=e=>e.name.startsWith("homeassistant.components.")?e.name.split(".")[2]:e.name.startsWith("custom_components.")?e.name.split(".")[1]:e.source[0].startsWith("custom_components/")?e.source[0].split("/")[1]:e.source[0].startsWith("homeassistant/components/")?e.source[0].split("/")[2]:void 0,a=e=>e.name.startsWith("custom_components.")||e.source[0].startsWith("custom_components/")},77980:(e,t,i)=>{var o=i(36312),s=i(50289),a=i(29818),r=i(37456),n=(i(45346),i(11804),i(55321));(0,o.A)([(0,a.EM)("hass-subpage")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,a.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,a.MZ)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,r.a)(".content")],key:"_savedScrollPos",value:void 0},{kind:"method",key:"render",value:function(){return s.qy` <div class="toolbar"> ${this.mainPage||history.state?.root?s.qy` <ha-menu-button .hassio="${this.supervisor}" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?s.qy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:s.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} <div class="main-title"><slot name="header">${this.header}</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="${this._saveScrollPos}"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> `}},{kind:"method",decorators:[(0,a.Ls)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[n.dp,s.AH`:host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:20px;flex-grow:1}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + env(safe-area-inset-right));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + env(safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}`]}}]}}),s.WF)},55858:(e,t,i)=>{var o=i(36312),s=i(68689),a=(i(253),i(2075),i(16891),i(72606),i(67056),i(50289)),r=i(29818),n=i(33922),l=(i(13292),i(84563),i(13082),i(4169),i(77312),i(88400),i(94526)),c=i(95753),d=i(26025),h=i(15066),u=i(18409),v=i(30489);const p="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z";(0,o.A)([(0,r.EM)("error-log-card")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"filter",value:()=>""},{kind:"field",decorators:[(0,r.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"provider",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,attribute:!0})],key:"show",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_isLogLoaded",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_logHTML",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_error",value:void 0},{kind:"method",key:"render",value:function(){return a.qy` <div class="error-log-intro"> ${this._error?a.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} ${this._logHTML?a.qy` <ha-card outlined> <div class="header"> <h1 class="card-header"> ${this.header||this.hass.localize("ui.panel.config.logs.show_full_logs")} </h1> <div> <ha-icon-button .path="${"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"}" @click="${this._refresh}" .label="${this.hass.localize("ui.common.refresh")}"></ha-icon-button> <ha-icon-button .path="${p}" @click="${this._downloadFullLog}" .label="${this.hass.localize("ui.panel.config.logs.download_full_log")}"></ha-icon-button> </div> </div> <div class="card-content error-log">${this._logHTML}</div> </ha-card> `:""} ${this._logHTML?"":a.qy` <mwc-button outlined @click="${this._downloadFullLog}"> <ha-svg-icon .path="${p}"></ha-svg-icon> ${this.hass.localize("ui.panel.config.logs.download_full_log")} </mwc-button> <mwc-button raised @click="${this._refreshLogs}"> ${this.hass.localize("ui.panel.config.logs.load_logs")} </mwc-button> `} </div> `}},{kind:"field",key:"_debounceSearch",value(){return(0,u.s)((()=>this._isLogLoaded?this._refreshLogs():this._debounceSearch()),150,!1)}},{kind:"method",key:"firstUpdated",value:function(e){(0,s.A)(i,"firstUpdated",this,3)([e]),(this.hass?.config.recovery_mode||this.show)&&(this.hass.loadFragmentTranslation("config"),this._refreshLogs())}},{kind:"method",key:"updated",value:function(e){(0,s.A)(i,"updated",this,3)([e]),e.has("provider")&&(this._logHTML=void 0),e.has("show")&&this.show||e.has("provider")&&this.show?this._refreshLogs():e.has("filter")&&this._debounceSearch()}},{kind:"method",key:"_refresh",value:async function(e){const t=e.currentTarget;t.progress=!0,await this._refreshLogs(),t.progress=!1}},{kind:"method",key:"_downloadFullLog",value:async function(){const e=(new Date).toISOString().replace(/:/g,"-"),t="core"!==this.provider?(0,h.Vo)(this.provider):c._,i="core"!==this.provider?`${this.provider}_${e}.log`:`home-assistant_${e}.log`,o=await(0,l.e0)(this.hass,t);(0,v.R)(o.path,i)}},{kind:"method",key:"_refreshLogs",value:async function(){let e;if(this._logHTML=this.hass.localize("ui.panel.config.logs.loading_log"),"core"!==this.provider&&(0,n.x)(this.hass,"hassio"))try{return e=await(0,h.RE)(this.hass,this.provider),this.filter&&(e=e.split("\n").filter((e=>e.toLowerCase().includes(this.filter.toLowerCase()))).join("\n")),e?(this._logHTML=a.qy`<ha-ansi-to-html .content="${e}"> </ha-ansi-to-html>`,void(this._isLogLoaded=!0)):void(this._logHTML=this.hass.localize("ui.panel.config.logs.no_errors"))}catch(e){return void(this._error=this.hass.localize("ui.panel.config.logs.failed_get_logs",{provider:this.provider,error:(0,d.VR)(e)}))}else e=await(0,c.L)(this.hass);this._isLogLoaded=!0;const t=e&&e.split("\n");this._logHTML=t?(this.filter?t.filter((e=>this.filter?e.toLowerCase().includes(this.filter.toLowerCase()):e)):t).map((e=>e.includes("INFO")?a.qy`<div class="info">${e}</div>`:e.includes("WARNING")?a.qy`<div class="warning">${e}</div>`:e.includes("ERROR")||e.includes("FATAL")||e.includes("CRITICAL")?a.qy`<div class="error">${e}</div>`:a.qy`<div>${e}</div>`)):this.hass.localize("ui.panel.config.logs.no_errors")}},{kind:"field",static:!0,key:"styles",value:()=>a.AH`.error-log-intro{text-align:center;margin:16px}ha-card{padding-top:16px}.header{display:flex;justify-content:space-between;padding:0 16px}.card-header{color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, 24px);letter-spacing:-.012em;line-height:48px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}ha-select{display:block;max-width:500px;width:100%}ha-icon-button{float:right}.error-log{font-family:var(--code-font-family, monospace);clear:both;text-align:left;padding-top:12px}.error-log>div{overflow:auto;overflow-wrap:break-word}.error-log>div:hover{background-color:var(--secondary-background-color)}.error{color:var(--error-color)}.warning{color:var(--warning-color)}mwc-button{direction:var(--direction)}`}]}}),a.WF)},32188:(e,t,i)=>{i.a(e,(async(e,o)=>{try{i.r(t),i.d(t,{HaConfigLogs:()=>y});var s=i(36312),a=i(68689),r=(i(253),i(2075),i(94438),i(16891),i(50289)),n=i(29818),l=i(33922),c=i(56932),d=(i(26790),i(77372),i(72829),i(1940)),h=(i(77980),i(55321)),u=(i(55858),i(52025)),v=i(6121),p=i(16312),g=e([u]);u=(g.then?(await g)():g)[0];const f="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",m=[{key:"core",name:"Home Assistant Core"},{key:"supervisor",name:"Supervisor"},{key:"host",name:"Host"},{key:"dns",name:"DNS"},{key:"audio",name:"Audio"},{key:"multicast",name:"Multicast"}];let y=(0,s.A)([(0,n.EM)("ha-config-logs")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_filter",value:()=>(0,c.p9)("filter")||""},{kind:"field",decorators:[(0,n.P)("system-log-card")],key:"systemLog",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_selectedLogProvider",value:()=>"core"},{kind:"field",decorators:[(0,n.wk)()],key:"_logProviders",value:()=>m},{kind:"method",key:"connectedCallback",value:function(){(0,a.A)(i,"connectedCallback",this,3)([]);const e=this.systemLog;e&&e.loaded&&e.fetchData()}},{kind:"method",key:"firstUpdated",value:function(e){(0,a.A)(i,"firstUpdated",this,3)([e]),this._init()}},{kind:"method",key:"_filterChanged",value:async function(e){this._filter=e.detail.value}},{kind:"method",key:"render",value:function(){const e=this.narrow?r.qy` <div slot="header"> <search-input class="header" @value-changed="${this._filterChanged}" .hass="${this.hass}" .filter="${this._filter}" .label="${this.hass.localize("ui.panel.config.logs.search")}"></search-input> </div> `:r.qy` <div class="search"> <search-input @value-changed="${this._filterChanged}" .hass="${this.hass}" .filter="${this._filter}" .label="${this.hass.localize("ui.panel.config.logs.search")}"></search-input> </div> `;return r.qy` <hass-subpage .hass="${this.hass}" .narrow="${this.narrow}" .header="${this.hass.localize("ui.panel.config.logs.caption")}" back-path="/config/system"> ${(0,l.x)(this.hass,"hassio")?r.qy` <ha-button-menu slot="toolbar-icon"> <ha-button slot="trigger" .label="${this._logProviders.find((e=>e.key===this._selectedLogProvider)).name}"> <ha-svg-icon slot="trailingIcon" .path="${f}"></ha-svg-icon> </ha-button> ${this._logProviders.map((e=>r.qy` <mwc-list-item ?selected="${e.key===this._selectedLogProvider}" .provider="${e.key}" @click="${this._selectProvider}"> ${e.name} </mwc-list-item> `))} </ha-button-menu> `:""} ${e} <div class="content"> ${"core"===this._selectedLogProvider?r.qy` <system-log-card .hass="${this.hass}" .header="${this._logProviders.find((e=>e.key===this._selectedLogProvider)).name}" .filter="${this._filter}"></system-log-card> `:""} <error-log-card .hass="${this.hass}" .header="${this._logProviders.find((e=>e.key===this._selectedLogProvider)).name}" .filter="${this._filter}" .provider="${this._selectedLogProvider}" .show="${"core"!==this._selectedLogProvider}"></error-log-card> </div> </hass-subpage> `}},{kind:"method",key:"_selectProvider",value:function(e){this._selectedLogProvider=e.currentTarget.provider,(0,p.o)(`/config/logs?provider=${this._selectedLogProvider}`)}},{kind:"method",key:"_init",value:async function(){(0,l.x)(this.hass,"hassio")&&await this._getInstalledAddons();const e=(0,c.p9)("provider");e&&((0,l.x)(this.hass,"hassio")&&this._logProviders.find((t=>t.key===e))?this._selectedLogProvider=e:((0,p.o)("/config/logs",{replace:!0}),(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.logs.provider_not_found")||"Log provider not found",text:this.hass.localize("ui.panel.config.logs.provider_not_available",{provider:this._logProviders.find((t=>t.key===e))?.name||e})})))}},{kind:"method",key:"_getInstalledAddons",value:async function(){try{const e=await(0,d.b3)(this.hass);this._logProviders=[...this._logProviders,...e.addons.filter((e=>e.version)).map((e=>({key:e.slug,name:e.name})))]}catch(e){}}},{kind:"get",static:!0,key:"styles",value:function(){return[h.RF,r.AH`:host{-ms-user-select:initial;-webkit-user-select:initial;-moz-user-select:initial}.search{position:sticky;top:0;z-index:2}search-input{display:block;--mdc-text-field-fill-color:var(--sidebar-background-color);--mdc-text-field-idle-line-color:var(--divider-color)}search-input.header{--mdc-ripple-color:transparant;margin-left:-16px;margin-inline-start:-16px;margin-inline-end:initial}.content{direction:ltr}mwc-button[slot=trigger]{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-size:36px}ha-button-menu>mwc-button>ha-svg-icon{margin-inline-end:0px;margin-inline-start:8px}`]}}]}}),r.WF);o()}catch(e){o(e)}}))},45387:(e,t,i)=>{i.d(t,{_:()=>r});var o=i(34897);let s=!1;const a="show-dialog-system-log-detail",r=(e,t)=>{s||(s=!0,(e=>{(0,o.r)(e,"register-dialog",{dialogShowEvent:a,dialogTag:"dialog-system-log-detail",dialogImport:()=>i.e(61229).then(i.bind(i,61229))})})(e)),(0,o.r)(e,a,t)}},52025:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var o=i(36312),s=i(68689),a=(i(253),i(2075),i(16891),i(4525),i(63893),i(50289)),r=i(29818),n=i(94100),l=(i(66641),i(68690),i(13082),i(32885),i(4169),i(13830),i(46092)),c=i(48772),d=i(45387),h=i(17096),u=e([h]);h=(u.then?(await u)():u)[0];const v="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z";(0,o.A)([(0,r.EM)("system-log-card")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"filter",value:()=>""},{kind:"field",decorators:[(0,r.MZ)()],key:"header",value:void 0},{kind:"field",key:"loaded",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_items",value:void 0},{kind:"method",key:"fetchData",value:async function(){this._items=void 0,this._items=await(0,c.a4)(this.hass)}},{kind:"method",key:"_timestamp",value:function(e){return(0,h.I)(e.timestamp,this.hass.locale,this.hass.config)}},{kind:"method",key:"_multipleMessages",value:function(e){return this.hass.localize("ui.panel.config.logs.multiple_messages",{time:(0,h.I)(e.first_occurred,this.hass.locale,this.hass.config),counter:e.count})}},{kind:"field",key:"_getFilteredItems",value(){return(0,n.A)(((e,t,i)=>t.filter((t=>{if(i){const o=(0,c.Fu)(t);return t.message.some((e=>e.toLowerCase().includes(i)))||t.source[0].toLowerCase().includes(i)||t.name.toLowerCase().includes(i)||o&&(0,l.p$)(e,o).toLowerCase().includes(i)||this._timestamp(t).toLowerCase().includes(i)||this._multipleMessages(t).toLowerCase().includes(i)}return t}))))}},{kind:"method",key:"render",value:function(){const e=this._items?this._getFilteredItems(this.hass.localize,this._items,this.filter.toLowerCase()):[],t=e.length?e.map((e=>(0,c.Fu)(e))):[];return a.qy` <div class="system-log-intro"> <ha-card outlined> ${void 0===this._items?a.qy` <div class="loading-container"> <ha-circular-progress indeterminate></ha-circular-progress> </div> `:a.qy` <div class="header"> <h1 class="card-header">${this.header||"Logs"}</h1> <ha-icon-button .path="${v}" @click="${this.fetchData}" .label="${this.hass.localize("ui.common.refresh")}"></ha-icon-button> </div> ${0===this._items.length?a.qy` <div class="card-content empty-content"> ${this.hass.localize("ui.panel.config.logs.no_issues")} </div> `:0===e.length&&this.filter?a.qy`<div class="card-content"> ${this.hass.localize("ui.panel.config.logs.no_issues_search",{term:this.filter})} </div>`:a.qy`<mwc-list>${e.map(((e,i)=>a.qy` <ha-list-item @click="${this._openLog}" .logItem="${e}" twoline> ${e.message[0]} <span slot="secondary" class="secondary"> ${this._timestamp(e)} – ${a.qy`(<span class="${e.level}">${this.hass.localize(`ui.panel.config.logs.level.${e.level}`)}</span>) `} ${t[i]?`${(0,l.p$)(this.hass.localize,t[i])}${(0,c.gk)(e)?` (${this.hass.localize("ui.panel.config.logs.custom_integration")})`:""}`:e.source[0]} ${e.count>1?a.qy` - ${this._multipleMessages(e)} `:a.s6} </span> </ha-list-item> `))}</mwc-list>`} <div class="card-actions"> <ha-call-service-button .hass="${this.hass}" domain="system_log" service="clear">${this.hass.localize("ui.panel.config.logs.clear")}</ha-call-service-button> </div> `} </ha-card> </div> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,s.A)(i,"firstUpdated",this,3)([e]),this.fetchData(),this.loaded=!0,this.addEventListener("hass-service-called",(e=>this.serviceCalled(e)))}},{kind:"method",key:"serviceCalled",value:function(e){e.detail.success&&"system_log"===e.detail.domain&&"clear"===e.detail.service&&(this._items=[])}},{kind:"method",key:"_openLog",value:function(e){const t=e.currentTarget.logItem;(0,d._)(this,{item:t})}},{kind:"get",static:!0,key:"styles",value:function(){return a.AH`ha-card{padding-top:16px}.header{display:flex;justify-content:space-between;padding:0 16px}.card-header{color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, 24px);letter-spacing:-.012em;line-height:48px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}.system-log-intro{margin:16px}.loading-container{height:100px;display:flex;align-items:center;justify-content:center}.error{color:var(--error-color)}.warning{color:var(--warning-color)}.card-actions,.empty-content{direction:var(--direction)}.row-secondary{direction:var(--direction);text-align:left}`}}]}}),a.WF);t()}catch(e){t(e)}}))},17096:(e,t,i)=>{i.a(e,(async(e,o)=>{try{i.d(t,{I:()=>n});var s=i(8581),a=i(41924),r=e([s,a]);[s,a]=r.then?(await r)():r;const n=(e,t,i)=>{const o=(new Date).setHours(0,0,0,0),r=new Date(1e3*e);return new Date(1e3*e).setHours(0,0,0,0)<o?(0,s.yg)(r,t,i):(0,a.ie)(r,t,i)};o()}catch(e){o(e)}}))},30489:(e,t,i)=>{i.d(t,{R:()=>o});const o=(e,t="")=>{const i=document.createElement("a");i.target="_blank",i.href=e,i.download=t,document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click")),document.body.removeChild(i)}}};
//# sourceMappingURL=32188.kcuTek1eJAM.js.map