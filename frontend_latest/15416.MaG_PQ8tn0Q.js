export const id=15416;export const ids=[15416];export const modules={15416:(i,e,s)=>{s.r(e);var t=s(36312),a=(s(16891),s(67056),s(50289)),o=s(29818),l=s(94100),n=s(34897),c=s(79051),d=(s(32885),s(77312),s(26025)),h=s(37266),r=s(6121),g=s(55321),k=s(88441);const u=(0,l.A)((i=>{const e=""!==i.disk_life_time?30:10,s=1e3*i.disk_used/60/e,t=4*i.startup_time/60;return 10*Math.ceil((s+t)/10)}));(0,t.A)([(0,o.EM)("dialog-move-datadisk")],(function(i,e){return{F:class extends e{constructor(...e){super(...e),i(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_hostInfo",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_selectedDevice",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_disks",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_osInfo",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_moving",value:()=>!1},{kind:"method",key:"showDialog",value:async function(i){this._hostInfo=i.hostInfo;try{this._osInfo=await(0,h.PB)(this.hass);const i=await(0,h.xY)(this.hass);i.devices.length>0?this._disks=i.disks:(this.closeDialog(),await(0,r.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.storage.datadisk.no_devices_title"),text:this.hass.localize("ui.panel.config.storage.datadisk.no_devices_text")}))}catch(i){this.closeDialog(),await(0,r.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.hardware.available_hardware.failed_to_get"),text:(0,d.VR)(i)})}}},{kind:"method",key:"closeDialog",value:function(){this._selectedDevice=void 0,this._disks=void 0,this._moving=!1,this._hostInfo=void 0,this._osInfo=void 0,(0,n.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return this._hostInfo&&this._osInfo&&this._disks?a.qy` <ha-dialog open scrimClickAction escapeKeyAction .heading="${this._moving?this.hass.localize("ui.panel.config.storage.datadisk.moving"):this.hass.localize("ui.panel.config.storage.datadisk.title")}" @closed="${this.closeDialog}" ?hideActions="${this._moving}"> ${this._moving?a.qy` <ha-circular-progress aria-label="Moving" size="large" indeterminate> </ha-circular-progress> <p class="progress-text"> ${this.hass.localize("ui.panel.config.storage.datadisk.moving_desc")} </p> `:a.qy` ${this.hass.localize("ui.panel.config.storage.datadisk.description",{current_path:this._osInfo.data_disk,time:u(this._hostInfo)})} <br><br> <ha-select .label="${this.hass.localize("ui.panel.config.storage.datadisk.select_device")}" @selected="${this._select_device}" @closed="${c.d}" dialogInitialFocus fixedMenuPosition> ${this._disks.map((i=>a.qy`<mwc-list-item twoline .value="${i.id}"> <span>${i.vendor} ${i.model}</span> <span slot="secondary"> ${this.hass.localize("ui.panel.config.storage.datadisk.extra_information",{size:(0,k.A)(i.size),serial:i.serial})} </span> </mwc-list-item>`))} </ha-select> <mwc-button slot="secondaryAction" @click="${this.closeDialog}" dialogInitialFocus> ${this.hass.localize("ui.panel.config.storage.datadisk.cancel")} </mwc-button> <mwc-button .disabled="${!this._selectedDevice}" slot="primaryAction" @click="${this._moveDatadisk}"> ${this.hass.localize("ui.panel.config.storage.datadisk.move")} </mwc-button> `} </ha-dialog> `:a.s6}},{kind:"method",key:"_select_device",value:function(i){this._selectedDevice=i.target.value}},{kind:"method",key:"_moveDatadisk",value:async function(){this._moving=!0;try{await(0,h.v9)(this.hass,this._selectedDevice)}catch(i){this.hass.connection.connected&&!(0,d.Tv)(i)&&(0,r.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.storage.datadisk.failed_to_move"),text:(0,d.VR)(i)})}finally{this.closeDialog()}}},{kind:"get",static:!0,key:"styles",value:function(){return[g.RF,g.nA,a.AH`ha-select{width:100%}ha-circular-progress{display:block;margin:32px;text-align:center}.progress-text{text-align:center}`]}}]}}),a.WF)}};
//# sourceMappingURL=15416.MaG_PQ8tn0Q.js.map