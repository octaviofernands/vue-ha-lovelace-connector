export const id=17194;export const ids=[17194];export const modules={68009:(e,i,t)=>{t.d(i,{A:()=>a});t(253),t(54846),t(16891);function a(e){if(!e||"object"!=typeof e)return e;if("[object Date]"==Object.prototype.toString.call(e))return new Date(e.getTime());if(Array.isArray(e))return e.map(a);var i={};return Object.keys(e).forEach((function(t){i[t]=a(e[t])})),i}},72829:(e,i,t)=>{var a=t(36312),o=(t(253),t(2075),t(50289)),s=t(29818),n=(t(4169),t(88400),t(90431),t(34897));(0,a.A)([(0,s.EM)("search-input")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"filter",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"suffix",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:String})],key:"label",value:void 0},{kind:"method",key:"focus",value:function(){this._input?.focus()}},{kind:"field",decorators:[(0,s.P)("ha-textfield",!0)],key:"_input",value:void 0},{kind:"method",key:"render",value:function(){return o.qy` <ha-textfield .autofocus="${this.autofocus}" .label="${this.label||this.hass.localize("ui.common.search")}" .value="${this.filter||""}" icon .iconTrailing="${this.filter||this.suffix}" @input="${this._filterInputChanged}"> <slot name="prefix" slot="leadingIcon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}"></ha-svg-icon> </slot> <div class="trailing" slot="trailingIcon"> ${this.filter&&o.qy` <ha-icon-button @click="${this._clearSearch}" .label="${this.hass.localize("ui.common.clear")}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" class="clear-button"></ha-icon-button> `} <slot name="suffix"></slot> </div> </ha-textfield> `}},{kind:"method",key:"_filterChanged",value:async function(e){(0,n.r)(this,"value-changed",{value:String(e)})}},{kind:"method",key:"_filterInputChanged",value:async function(e){this._filterChanged(e.target.value)}},{kind:"method",key:"_clearSearch",value:async function(){this._filterChanged("")}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:inline-flex}ha-icon-button,ha-svg-icon{color:var(--primary-text-color)}ha-svg-icon{outline:0}.clear-button{--mdc-icon-size:20px}ha-textfield{display:inherit}.trailing{display:flex;align-items:center}`}}]}}),o.WF)},15625:(e,i,t)=>{t.d(i,{S_:()=>d,Xd:()=>r,lZ:()=>l});t(24545),t(51855),t(82130),t(31743),t(22328),t(4959),t(62435),t(253),t(54846);const a=["zone","persistent_notification"],o=(e,i)=>{if("call-service"!==i.action||!i.target?.entity_id&&!i.service_data?.entity_id&&!i.data?.entity_id)return;let t=i.service_data?.entity_id??i.data?.entity_id??i.target?.entity_id;Array.isArray(t)||(t=[t]);for(const i of t)e.add(i)},s=(e,i)=>{"string"!=typeof i?(i.entity&&e.add(i.entity),i.camera_image&&e.add(i.camera_image),i.tap_action&&o(e,i.tap_action),i.hold_action&&o(e,i.hold_action)):e.add(i)},n=(e,i)=>{i.entity&&s(e,i.entity),i.entities&&Array.isArray(i.entities)&&i.entities.forEach((i=>s(e,i))),i.card&&n(e,i.card),i.cards&&Array.isArray(i.cards)&&i.cards.forEach((i=>n(e,i))),i.elements&&Array.isArray(i.elements)&&i.elements.forEach((i=>n(e,i))),i.badges&&Array.isArray(i.badges)&&i.badges.forEach((i=>s(e,i)))},d=e=>{const i=new Set;return e.views.forEach((e=>n(i,e))),i},r=(e,i)=>{const t=new Set;for(const o of Object.keys(e.states))i.has(o)||a.includes(o.split(".",1)[0])||t.add(o);return t},l=(e,i)=>{const t=d(i);return r(e,t)}},22992:(e,i,t)=>{t.a(e,(async(e,i)=>{try{var a=t(36312),o=t(68689),s=(t(89655),t(13618),t(34736),t(50289)),n=t(29818),d=t(54075),r=t(70612),l=(t(15124),t(61774),e([d]));d=(l.then?(await l)():l)[0];const c=["config","visibility","layout"];(0,a.A)([(0,n.EM)("hui-card-element-editor")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"show-visibility-tab"})],key:"showVisibilityTab",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"sectionConfig",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_currTab",value:()=>c[0]},{kind:"method",key:"getConfigElement",value:async function(){const e=await(0,d.dY)(this.configElementType);if(e&&e.getConfigElement)return e.getConfigElement()}},{kind:"method",key:"getConfigForm",value:async function(){const e=await(0,d.dY)(this.configElementType);if(e&&e.getConfigForm)return e.getConfigForm()}},{kind:"method",key:"_configChanged",value:function(e){e.stopPropagation(),this.value=e.detail.value}},{kind:"get",key:"_showLayoutTab",value:function(){return!!this.sectionConfig&&(void 0===this.sectionConfig.type||"grid"===this.sectionConfig.type)}},{kind:"method",key:"renderConfigElement",value:function(){const e=["config"];if(this.showVisibilityTab&&e.push("visibility"),this._showLayoutTab&&e.push("layout"),1===e.length)return(0,o.A)(t,"renderConfigElement",this,3)([]);let i=s.s6;switch(this._currTab){case"config":i=s.qy`${(0,o.A)(t,"renderConfigElement",this,3)([])}`;break;case"visibility":i=s.qy` <hui-card-visibility-editor .hass="${this.hass}" .config="${this.value}" @value-changed="${this._configChanged}"></hui-card-visibility-editor> `;break;case"layout":i=s.qy` <hui-card-layout-editor .hass="${this.hass}" .config="${this.value}" .sectionConfig="${this.sectionConfig}" @value-changed="${this._configChanged}"> </hui-card-layout-editor> `}return s.qy` <mwc-tab-bar .activeIndex="${c.indexOf(this._currTab)}" @MDCTabBar:activated="${this._handleTabChanged}"> ${e.map((e=>s.qy` <mwc-tab .label="${this.hass.localize(`ui.panel.lovelace.editor.edit_card.tab_${e}`)}"> </mwc-tab> `))} </mwc-tab-bar> ${i} `}},{kind:"method",key:"_handleTabChanged",value:function(e){const i=c[e.detail.index];i!==this._currTab&&(this._currTab=i)}},{kind:"get",static:!0,key:"styles",value:function(){return[r.m.styles,s.AH`mwc-tab-bar{text-transform:uppercase;margin-bottom:16px;border-bottom:1px solid var(--divider-color)}`]}}]}}),r.m);i()}catch(e){i(e)}}))},15124:(e,i,t)=>{var a=t(36312),o=t(68689),s=t(50289),n=t(29818),d=t(55165),r=t(94100),l=t(34897),c=t(68320),h=t(79051),u=(t(77372),t(26790),t(87036),t(4169),t(13830),t(24640),t(31180),t(88400),t(60203),t(57641),t(55321)),p=t(21138);const g="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z";(0,a.A)([(0,n.EM)("hui-card-layout-editor")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"sectionConfig",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_defaultLayoutOptions",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_yamlMode",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_uiAvailable",value:()=>!0},{kind:"field",decorators:[(0,n.P)("ha-yaml-editor")],key:"_yamlEditor",value:void 0},{kind:"field",key:"_cardElement",value:void 0},{kind:"field",key:"_mergedOptions",value:()=>(0,r.A)(((e,i)=>({...i,...e})))},{kind:"field",key:"_computeCardGridSize",value:()=>(0,r.A)(p.N)},{kind:"field",key:"_isDefault",value:()=>(0,r.A)((e=>void 0===e?.grid_columns&&void 0===e?.grid_rows))},{kind:"method",key:"render",value:function(){const e=this._mergedOptions(this.config.layout_options,this._defaultLayoutOptions),i=this._computeCardGridSize(e),t=4*(this.sectionConfig.column_span??1);return s.qy` <div class="header"> <p class="intro"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.layout.explanation")} </p> <ha-button-menu slot="icons" @action="${this._handleAction}" @click="${c.w}" @closed="${h.d}" fixed .corner="${"BOTTOM_END"}" .menuCorner="${"END"}"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"}"> </ha-icon-button> <ha-list-item graphic="icon" .disabled="${!this._uiAvailable}"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.edit_ui")} ${this._yamlMode?s.s6:s.qy` <ha-svg-icon class="selected_menu_item" slot="graphic" .path="${g}"></ha-svg-icon> `} </ha-list-item> <ha-list-item graphic="icon"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.edit_yaml")} ${this._yamlMode?s.qy` <ha-svg-icon class="selected_menu_item" slot="graphic" .path="${g}"></ha-svg-icon> `:s.s6} </ha-list-item> </ha-button-menu> </div> ${this._yamlMode?s.qy` <ha-yaml-editor .hass="${this.hass}" .defaultValue="${this.config.layout_options}" @value-changed="${this._valueChanged}"></ha-yaml-editor> `:s.qy` <ha-grid-size-picker style="${(0,d.W)({"max-width":45*t+50+"px"})}" .columns="${t}" .hass="${this.hass}" .value="${i}" .isDefault="${this._isDefault(this.config.layout_options)}" @value-changed="${this._gridSizeChanged}" .rowMin="${e.grid_min_rows}" .rowMax="${e.grid_max_rows}" .columnMin="${e.grid_min_columns}" .columnMax="${e.grid_max_columns}"></ha-grid-size-picker> <ha-settings-row> <span slot="heading" data-for="full-width"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.layout.full_width")} </span> <span slot="description" data-for="full-width"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.layout.full_width_helper")} </span> <ha-switch @change="${this._fullWidthChanged}" .checked="${"full"===i.columns}" name="full-width"> </ha-switch> </ha-settings-row> `} `}},{kind:"method",key:"firstUpdated",value:function(e){(0,o.A)(t,"firstUpdated",this,3)([e]);try{this._cardElement=document.createElement("hui-card"),this._cardElement.hass=this.hass,this._cardElement.preview=!0,this._cardElement.config=this.config,this._cardElement.addEventListener("card-updated",(e=>{e.stopPropagation(),this._defaultLayoutOptions=this._cardElement?.getElementLayoutOptions()})),this._cardElement.load(),this._defaultLayoutOptions=this._cardElement.getElementLayoutOptions()}catch(e){console.error(e)}}},{kind:"method",key:"updated",value:function(e){(0,o.A)(t,"updated",this,3)([e]),this._cardElement&&(e.has("hass")&&(this._cardElement.hass=this.hass),e.has("config")&&(this._cardElement.config=this.config))}},{kind:"method",key:"_handleAction",value:async function(e){switch(e.detail.index){case 0:this._yamlMode=!1;break;case 1:this._yamlMode=!0;break;case 2:this._reset()}}},{kind:"method",key:"_reset",value:async function(){const e={...this.config};delete e.layout_options,this._yamlEditor?.setValue({}),(0,l.r)(this,"value-changed",{value:e})}},{kind:"method",key:"_gridSizeChanged",value:function(e){e.stopPropagation();const i=e.detail.value,t={...this.config,layout_options:{...this.config.layout_options,grid_columns:i.columns,grid_rows:i.rows}};void 0===t.layout_options.grid_columns&&delete t.layout_options.grid_columns,void 0===t.layout_options.grid_rows&&delete t.layout_options.grid_rows,0===Object.keys(t.layout_options).length&&delete t.layout_options,(0,l.r)(this,"value-changed",{value:t})}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();const i=e.detail.value,t={...this.config,layout_options:i};(0,l.r)(this,"value-changed",{value:t})}},{kind:"method",key:"_fullWidthChanged",value:function(e){e.stopPropagation();const i=e.target.checked,t={...this.config,layout_options:{...this.config.layout_options,grid_columns:i?"full":this._defaultLayoutOptions?.grid_min_columns??1}};(0,l.r)(this,"value-changed",{value:t})}},{kind:"field",static:!0,key:"styles",value:()=>[u.RF,s.AH`.header{display:flex;flex-direction:row;align-items:flex-start}.header .intro{flex:1;margin:0;color:var(--secondary-text-color)}.header ha-button-menu{--mdc-theme-text-primary-on-background:var(--primary-text-color);margin-top:-8px}.selected_menu_item{color:var(--primary-color)}.disabled{opacity:.5;pointer-events:none}ha-grid-size-picker{display:block;margin:16px auto}ha-yaml-editor{display:block;margin:16px 0}`]}]}}),s.WF)},81680:(e,i,t)=>{t.a(e,(async(e,i)=>{try{var a=t(36312),o=(t(253),t(2075),t(16891),t(94366)),s=t(50289),n=t(29818),d=t(85323),r=t(55165),l=t(10296),c=t(94100),h=t(96979),u=t(34897),p=t(2682),g=t(57115),y=(t(32885),t(72829),t(9883)),f=t(33257),m=t(54629),v=t(15625),_=t(54075),k=t(64390),b=t(30998),w=e([_,k]);[_,k]=w.then?(await w)():w;(0,a.A)([(0,n.EM)("hui-card-picker")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"suggestedCards",value:void 0},{kind:"field",decorators:[(0,h.I)({key:"dashboardCardClipboard",state:!0,subscribe:!0,storage:"sessionStorage"})],key:"_clipboard",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_cards",value:()=>[]},{kind:"field",key:"lovelace",value:void 0},{kind:"field",key:"cardPicked",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_filter",value:()=>""},{kind:"field",decorators:[(0,n.wk)()],key:"_width",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_height",value:void 0},{kind:"field",key:"_unusedEntities",value:void 0},{kind:"field",key:"_usedEntities",value:void 0},{kind:"field",key:"_filterCards",value:()=>(0,c.A)(((e,i)=>{if(!i)return e;let t=e.map((e=>e.card));const a={keys:["type","name","description"],isCaseSensitive:!1,minMatchCharLength:Math.min(i.length,2),threshold:.2,getFn:m.i},s=new o.A(t,a);return t=s.search((0,g.s)(i)).map((e=>e.item)),e.filter((e=>t.includes(e.card)))}))},{kind:"field",key:"_suggestedCards",value:()=>(0,c.A)((e=>e.filter((e=>e.card.isSuggested))))},{kind:"field",key:"_customCards",value:()=>(0,c.A)((e=>e.filter((e=>e.card.isCustom&&!e.card.isSuggested))))},{kind:"field",key:"_otherCards",value:()=>(0,c.A)((e=>e.filter((e=>!e.card.isSuggested&&!e.card.isCustom))))},{kind:"method",key:"render",value:function(){if(!(this.hass&&this.lovelace&&this._unusedEntities&&this._usedEntities))return s.s6;const e=this._suggestedCards(this._cards),i=this._otherCards(this._cards),t=this._customCards(this._cards);return s.qy` <search-input .hass="${this.hass}" .filter="${this._filter}" @value-changed="${this._handleSearchChange}" .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.search_cards")}"></search-input> <div id="content" style="${(0,r.W)({width:this._width?`${this._width}px`:"auto",height:this._height?`${this._height}px`:"auto"})}"> <div class="cards-container"> ${this._filter?this._filterCards(this._cards,this._filter).map((e=>e.element)):s.qy` ${e.length>0?s.qy` <div class="cards-container-header"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.suggested_cards")} </div> `:s.s6} ${this._renderClipboardCard()} ${e.map((e=>e.element))} ${e.length>0?s.qy` <div class="cards-container-header"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.other_cards")} </div> `:s.s6} ${i.map((e=>e.element))} ${t.length>0?s.qy` <div class="cards-container-header"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.custom_cards")} </div> `:s.s6} ${t.map((e=>e.element))} `} </div> <div class="cards-container"> <div class="card manual" @click="${this._cardPicked}" .config="${{type:""}}"> <div class="card-header"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.manual")} </div> <div class="preview description"> ${this.hass.localize("ui.panel.lovelace.editor.card.generic.manual_description")} </div> </div> </div> </div> `}},{kind:"method",key:"shouldUpdate",value:function(e){const i=e.get("hass");return!i||i.locale!==this.hass.locale}},{kind:"method",key:"firstUpdated",value:function(){if(!this.hass||!this.lovelace)return;const e=(0,v.S_)(this.lovelace),i=(0,v.Xd)(this.hass,e);this._usedEntities=[...e].filter((e=>this.hass.states[e]&&!(0,y.g0)(this.hass.states[e].state))),this._unusedEntities=[...i].filter((e=>this.hass.states[e]&&!(0,y.g0)(this.hass.states[e].state))),this._loadCards()}},{kind:"method",key:"_loadCards",value:function(){let e=b.j.map((e=>({name:this.hass.localize(`ui.panel.lovelace.editor.card.${e.type}.name`),description:this.hass.localize(`ui.panel.lovelace.editor.card.${e.type}.description`),isSuggested:this.suggestedCards?.includes(e.type)||!1,...e})));e=e.sort(((e,i)=>e.isSuggested&&!i.isSuggested?-1:!e.isSuggested&&i.isSuggested?1:(0,p.x)(e.name||e.type,i.name||i.type,this.hass?.language))),f.J_.length>0&&(e=e.concat(f.J_.map((e=>({type:e.type,name:e.name,description:e.description,showElement:e.preview,isCustom:!0}))).sort(((e,i)=>(0,p.x)(e.name||e.type,i.name||i.type,this.hass?.language))))),this._cards=e.map((e=>({card:e,element:s.qy`${(0,l.T)(this._renderCardElement(e),s.qy` <div class="card spinner"> <ha-circular-progress indeterminate></ha-circular-progress> </div> `)}`})))}},{kind:"method",key:"_renderClipboardCard",value:function(){return this._clipboard?s.qy` ${(0,l.T)(this._renderCardElement({type:this._clipboard.type,showElement:!0,isCustom:!1,name:this.hass.localize("ui.panel.lovelace.editor.card.generic.paste"),description:`${this.hass.localize("ui.panel.lovelace.editor.card.generic.paste_description",{type:this._clipboard.type})}`},this._clipboard),s.qy` <div class="card spinner"> <ha-circular-progress indeterminate></ha-circular-progress> </div> `)}`:s.s6}},{kind:"method",key:"_handleSearchChange",value:function(e){const i=e.detail.value;if(i){if(!this._width||!this._height){const e=this.shadowRoot.getElementById("content");if(e&&!this._width){const i=e.clientWidth;i&&(this._width=i)}if(e&&!this._height){const i=e.clientHeight;i&&(this._height=i)}}}else this._width=void 0,this._height=void 0;this._filter=i}},{kind:"method",key:"_cardPicked",value:function(e){const i=e.currentTarget.config;(0,u.r)(this,"config-changed",{config:i})}},{kind:"method",key:"_tryCreateCardElement",value:function(e){const i=(0,_.MJ)(e);return i.hass=this.hass,i.addEventListener("ll-rebuild",(t=>{t.stopPropagation(),this._rebuildCard(i,e)}),{once:!0}),i}},{kind:"method",key:"_rebuildCard",value:function(e,i){let t;try{t=this._tryCreateCardElement(i)}catch(e){return}e.parentElement&&e.parentElement.replaceChild(t,e)}},{kind:"method",key:"_renderCardElement",value:async function(e,i){let{type:t}=e;const{showElement:a,isCustom:o,name:n,description:r}=e,l=o?(0,f.wi)(t):void 0;let c;o&&(t=`${f.IP}${t}`);let h=i??{type:t};if(this.hass&&this.lovelace&&(i||(h=await(0,k.N)(this.hass,t,this._unusedEntities,this._usedEntities)),a))try{c=this._tryCreateCardElement(h)}catch(e){c=void 0}return s.qy` <div class="card"> <div class="overlay" @click="${this._cardPicked}" .config="${h}"></div> <div class="card-header"> ${l?`${this.hass.localize("ui.panel.lovelace.editor.cardpicker.custom_card")}: ${l.name||l.type}`:n} </div> <div class="preview ${(0,d.H)({description:!c||"HUI-ERROR-CARD"===c.tagName})}"> ${c&&"HUI-ERROR-CARD"!==c.tagName?c:l?l.description||this.hass.localize("ui.panel.lovelace.editor.cardpicker.no_description"):r} </div> </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return[s.AH`search-input{display:block;--mdc-shape-small:var(--card-picker-search-shape);margin:var(--card-picker-search-margin)}.cards-container-header{font-size:16px;font-weight:500;padding:12px 8px 4px 8px;margin:0;grid-column:1/-1}.cards-container{display:grid;grid-gap:8px 8px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));margin-top:20px}.card{height:100%;max-width:500px;display:flex;flex-direction:column;border-radius:var(--ha-card-border-radius,12px);background:var(--primary-background-color,#fafafa);cursor:pointer;position:relative;overflow:hidden;border:var(--ha-card-border-width,1px) solid var(--ha-card-border-color,var(--divider-color))}.card-header{color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:16px;font-weight:700;letter-spacing:-.012em;line-height:20px;padding:12px 16px;display:block;text-align:center;background:var(--ha-card-background,var(--card-background-color,#fff));border-bottom:1px solid var(--divider-color)}.preview{pointer-events:none;margin:20px;flex-grow:1;display:flex;align-items:center;justify-content:center}.preview>:first-child{zoom:0.6;display:block;width:100%}.description{text-align:center}.spinner{align-items:center;justify-content:center}.overlay{position:absolute;width:100%;height:100%;z-index:1;box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px)}.manual{max-width:none;grid-column:1/-1}.icon{position:absolute;top:8px;right:8px inset-inline-start: 8px;inset-inline-end:8px;border-radius:50%;--mdc-icon-size:16px;line-height:16px;box-sizing:border-box;color:var(--text-primary-color);padding:4px}.icon.custom{background:var(--warning-color)}`]}}]}}),s.WF);i()}catch(e){i(e)}}))},3532:(e,i,t)=>{t.d(i,{U:()=>a});const a=t(50289).AH`.card-config{overflow:auto}ha-switch{padding:16px 6px}.side-by-side{display:flex;align-items:flex-end}.side-by-side>*{flex:1;padding-right:8px;padding-inline-end:8px;padding-inline-start:initial}.side-by-side>:last-child{flex:1;padding-right:0;padding-inline-end:0;padding-inline-start:initial}.suffix{margin:0 8px}ha-icon-picker,ha-select,ha-textfield,hui-action-editor{margin-top:8px;display:block}`},17194:(e,i,t)=>{t.a(e,(async(e,a)=>{try{t.r(i),t.d(i,{HuiConditionalCardEditor:()=>k});var o=t(36312),s=(t(13618),t(34736),t(68009)),n=t(50289),d=t(29818),r=t(66419),l=t(96979),c=t(34897),h=(t(13292),t(77372),t(13830),t(88400),t(22992)),u=t(81680),p=(t(89053),t(70612),t(56124)),g=t(3532),y=e([h,u]);[h,u]=y.then?(await y)():y;const f="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",m="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",v="M11 15H17V17H11V15M9 7H7V9H9V7M11 13H17V11H11V13M11 9H17V7H11V9M9 11H7V13H9V11M21 5V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5M19 5H5V19H19V5M9 15H7V17H9V15Z",_=(0,r.kp)(p.H,(0,r.Ik)({card:(0,r.bz)(),conditions:(0,r.lq)((0,r.YO)((0,r.bz)()))}));let k=(0,o.A)([(0,d.EM)("hui-conditional-card-editor")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,d.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,d.MZ)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,l.I)({key:"dashboardCardClipboard",state:!1,subscribe:!1,storage:"sessionStorage"})],key:"_clipboard",value:void 0},{kind:"field",decorators:[(0,d.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,d.wk)()],key:"_GUImode",value:()=>!0},{kind:"field",decorators:[(0,d.wk)()],key:"_guiModeAvailable",value:()=>!0},{kind:"field",decorators:[(0,d.wk)()],key:"_cardTab",value:()=>!1},{kind:"field",decorators:[(0,d.P)("hui-card-element-editor")],key:"_cardEditorEl",value:void 0},{kind:"method",key:"setConfig",value:function(e){(0,r.vA)(e,_),this._config=e}},{kind:"method",key:"focusYamlEditor",value:function(){this._cardEditorEl?.focusYamlEditor()}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return n.s6;const e=!this._cardEditorEl||this._GUImode;return n.qy` <mwc-tab-bar .activeIndex="${this._cardTab?1:0}" @MDCTabBar:activated="${this._selectTab}"> <mwc-tab .label="${this.hass.localize("ui.panel.lovelace.editor.card.conditional.conditions")}"></mwc-tab> <mwc-tab .label="${this.hass.localize("ui.panel.lovelace.editor.card.conditional.card")}"></mwc-tab> </mwc-tab-bar> ${this._cardTab?n.qy` <div class="card"> ${void 0!==this._config.card.type?n.qy` <div class="card-options"> <ha-icon-button class="gui-mode-button" @click="${this._toggleMode}" .disabled="${!this._guiModeAvailable}" .label="${this.hass.localize(e?"ui.panel.lovelace.editor.edit_card.show_code_editor":"ui.panel.lovelace.editor.edit_card.show_visual_editor")}" .path="${e?f:v}"></ha-icon-button> <ha-icon-button .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.copy")}" .path="${m}" @click="${this._handleCopyCard}"></ha-icon-button> <mwc-button @click="${this._handleReplaceCard}">${this.hass.localize("ui.panel.lovelace.editor.card.conditional.change_type")}</mwc-button> </div> <hui-card-element-editor .hass="${this.hass}" .value="${this._config.card}" .lovelace="${this.lovelace}" @config-changed="${this._handleCardChanged}" @GUImode-changed="${this._handleGUIModeChanged}"></hui-card-element-editor> `:n.qy` <hui-card-picker .hass="${this.hass}" .lovelace="${this.lovelace}" @config-changed="${this._handleCardPicked}"></hui-card-picker> `} </div> `:n.qy` <ha-alert alert-type="info"> ${this.hass.localize("ui.panel.lovelace.editor.condition-editor.explanation")} </ha-alert> <ha-card-conditions-editor .hass="${this.hass}" .conditions="${this._config.conditions}" @value-changed="${this._conditionChanged}"> </ha-card-conditions-editor> `} `}},{kind:"method",key:"_selectTab",value:function(e){this._cardTab=1===e.detail.index}},{kind:"method",key:"_toggleMode",value:function(){this._cardEditorEl?.toggleMode()}},{kind:"method",key:"_setMode",value:function(e){this._GUImode=e,this._cardEditorEl&&(this._cardEditorEl.GUImode=e)}},{kind:"method",key:"_handleGUIModeChanged",value:function(e){e.stopPropagation(),this._GUImode=e.detail.guiMode,this._guiModeAvailable=e.detail.guiModeAvailable}},{kind:"method",key:"_handleCardPicked",value:function(e){e.stopPropagation(),this._config&&(this._setMode(!0),this._guiModeAvailable=!0,this._config={...this._config,card:e.detail.config},(0,c.r)(this,"config-changed",{config:this._config}))}},{kind:"method",key:"_handleCopyCard",value:function(){this._config&&(this._clipboard=(0,s.A)(this._config.card))}},{kind:"method",key:"_handleCardChanged",value:function(e){e.stopPropagation(),this._config&&(this._config={...this._config,card:e.detail.config},this._guiModeAvailable=e.detail.guiModeAvailable,(0,c.r)(this,"config-changed",{config:this._config}))}},{kind:"method",key:"_handleReplaceCard",value:function(){this._config&&(this._config={...this._config,card:{}},(0,c.r)(this,"config-changed",{config:this._config}))}},{kind:"method",key:"_conditionChanged",value:function(e){if(e.stopPropagation(),!this._config)return;const i=e.detail.value;this._config={...this._config,conditions:i},(0,c.r)(this,"config-changed",{config:this._config})}},{kind:"get",static:!0,key:"styles",value:function(){return[g.U,n.AH`mwc-tab-bar{border-bottom:1px solid var(--divider-color)}ha-alert{display:block;margin-top:12px}.card{margin-top:8px;border:1px solid var(--divider-color);padding:12px}@media (max-width:450px){.card,.condition{margin:8px -12px 0}}.card .card-options{display:flex;justify-content:flex-end;width:100%}.gui-mode-button{margin-right:auto;margin-inline-end:auto;margin-inline-start:initial}`]}}]}}),n.WF);a()}catch(e){a(e)}}))},64390:(e,i,t)=>{t.a(e,(async(e,a)=>{try{t.d(i,{N:()=>n});var o=t(54075),s=e([o]);o=(s.then?(await s)():s)[0];const n=async(e,i,t,a)=>{let s={type:i};const n=await(0,o.dY)(i);if(n&&n.getStubConfig){const i=await n.getStubConfig(e,t,a);s={...s,...i}}return s};a()}catch(e){a(e)}}))},30998:(e,i,t)=>{t.d(i,{j:()=>a});const a=[{type:"alarm-panel",showElement:!0},{type:"button",showElement:!0},{type:"calendar",showElement:!0},{type:"entities",showElement:!0},{type:"entity",showElement:!0},{type:"gauge",showElement:!0},{type:"glance",showElement:!0},{type:"history-graph",showElement:!0},{type:"statistics-graph",showElement:!1},{type:"statistic",showElement:!0},{type:"humidifier",showElement:!0},{type:"light",showElement:!0},{type:"map",showElement:!0},{type:"markdown",showElement:!0},{type:"media-control",showElement:!0},{type:"picture",showElement:!0},{type:"picture-elements",showElement:!0},{type:"picture-entity",showElement:!0},{type:"picture-glance",showElement:!0},{type:"plant-status",showElement:!0},{type:"sensor",showElement:!0},{type:"thermostat",showElement:!0},{type:"weather-forecast",showElement:!0},{type:"area",showElement:!0},{type:"tile",showElement:!0},{type:"conditional"},{type:"entity-filter"},{type:"grid"},{type:"horizontal-stack"},{type:"iframe"},{type:"logbook"},{type:"vertical-stack"},{type:"todo-list"}]},56124:(e,i,t)=>{t.d(i,{H:()=>o});var a=t(66419);const o=(0,a.Ik)({type:(0,a.Yj)(),view_layout:(0,a.bz)(),layout_options:(0,a.bz)(),visibility:(0,a.bz)()})},54629:(e,i,t)=>{t.d(i,{i:()=>s});t(16891);var a=t(94366),o=t(57115);const s=(e,i)=>{const t=a.A.config.getFn(e,i);return Array.isArray(t)?t.map((e=>(0,o.s)(e??""))):(0,o.s)(t??"")}}};
//# sourceMappingURL=17194.6v8DRbDmFCY.js.map