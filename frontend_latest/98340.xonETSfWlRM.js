export const id=98340;export const ids=[98340,36185];export const modules={68690:(e,t,i)=>{var o=i(36312),a=(i(72606),i(50289)),s=i(29818);i(32885),i(88400);(0,o.A)([(0,s.EM)("ha-progress-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"progress",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"raised",value:()=>!1},{kind:"field",decorators:[(0,s.wk)()],key:"_result",value:void 0},{kind:"method",key:"render",value:function(){const e=this._result||this.progress;return a.qy` <mwc-button ?raised="${this.raised}" .disabled="${this.disabled||this.progress}" @click="${this._buttonTapped}" class="${this._result||""}"> <slot></slot> </mwc-button> ${e?a.qy` <div class="progress"> ${"success"===this._result?a.qy`<ha-svg-icon .path="${"M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"}"></ha-svg-icon>`:"error"===this._result?a.qy`<ha-svg-icon .path="${"M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z"}"></ha-svg-icon>`:this.progress?a.qy` <ha-circular-progress size="small" indeterminate></ha-circular-progress> `:""} </div> `:a.s6} `}},{kind:"method",key:"actionSuccess",value:function(){this._setResult("success")}},{kind:"method",key:"actionError",value:function(){this._setResult("error")}},{kind:"method",key:"_setResult",value:function(e){this._result=e,setTimeout((()=>{this._result=void 0}),2e3)}},{kind:"method",key:"_buttonTapped",value:function(e){this.progress&&e.stopPropagation()}},{kind:"get",static:!0,key:"styles",value:function(){return a.AH`:host{outline:0;display:inline-block;position:relative}mwc-button{transition:all 1s}mwc-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}mwc-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}mwc-button.error slot,mwc-button.success slot{visibility:hidden}`}}]}}),a.WF)},36185:(e,t,i)=>{var o=i(36312),a=i(68689),s=(i(253),i(54846),i(16891),i(50289)),r=i(29818),n=i(85920),l=i(34897);i(13292),i(9421);const d={boolean:()=>i.e(96292).then(i.bind(i,96292)),constant:()=>i.e(44354).then(i.bind(i,44354)),float:()=>i.e(80866).then(i.bind(i,80866)),grid:()=>i.e(21306).then(i.bind(i,21306)),expandable:()=>i.e(82178).then(i.bind(i,82178)),integer:()=>i.e(65622).then(i.bind(i,43241)),multi_select:()=>i.e(26964).then(i.bind(i,26964)),positive_time_period_dict:()=>i.e(24280).then(i.bind(i,24280)),select:()=>i.e(22038).then(i.bind(i,22038)),string:()=>i.e(38819).then(i.bind(i,38819))},c=(e,t)=>e?!t.name||t.flatten?e:e[t.name]:null;(0,o.A)([(0,r.EM)("ha-form")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"data",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"schema",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"error",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"warning",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"computeError",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"computeWarning",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"computeLabel",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"computeHelper",value:void 0},{kind:"method",key:"getFormProperties",value:function(){return{}}},{kind:"method",key:"focus",value:async function(){await this.updateComplete;const e=this.renderRoot.querySelector(".root");if(e)for(const t of e.children)if("HA-ALERT"!==t.tagName){t instanceof s.mN&&await t.updateComplete,t.focus();break}}},{kind:"method",key:"willUpdate",value:function(e){e.has("schema")&&this.schema&&this.schema.forEach((e=>{"selector"in e||d[e.type]?.()}))}},{kind:"method",key:"render",value:function(){return s.qy` <div class="root" part="root"> ${this.error&&this.error.base?s.qy` <ha-alert alert-type="error"> ${this._computeError(this.error.base,this.schema)} </ha-alert> `:""} ${this.schema.map((e=>{const t=((e,t)=>e&&t.name?e[t.name]:null)(this.error,e),i=((e,t)=>e&&t.name?e[t.name]:null)(this.warning,e);return s.qy` ${t?s.qy` <ha-alert own-margin alert-type="error"> ${this._computeError(t,e)} </ha-alert> `:i?s.qy` <ha-alert own-margin alert-type="warning"> ${this._computeWarning(i,e)} </ha-alert> `:""} ${"selector"in e?s.qy`<ha-selector .schema="${e}" .hass="${this.hass}" .name="${e.name}" .selector="${e.selector}" .value="${c(this.data,e)}" .label="${this._computeLabel(e,this.data)}" .disabled="${e.disabled||this.disabled||!1}" .placeholder="${e.required?"":e.default}" .helper="${this._computeHelper(e)}" .required="${e.required||!1}" .context="${this._generateContext(e)}"></ha-selector>`:(0,n._)(this.fieldElementName(e.type),{schema:e,data:c(this.data,e),label:this._computeLabel(e,this.data),helper:this._computeHelper(e),disabled:this.disabled||e.disabled||!1,hass:this.hass,localize:this.hass?.localize,computeLabel:this.computeLabel,computeHelper:this.computeHelper,context:this._generateContext(e),...this.getFormProperties()})} `}))} </div> `}},{kind:"method",key:"fieldElementName",value:function(e){return`ha-form-${e}`}},{kind:"method",key:"_generateContext",value:function(e){if(!e.context)return;const t={};for(const[i,o]of Object.entries(e.context))t[i]=this.data[o];return t}},{kind:"method",key:"createRenderRoot",value:function(){const e=(0,a.A)(i,"createRenderRoot",this,3)([]);return this.addValueChangedListener(e),e}},{kind:"method",key:"addValueChangedListener",value:function(e){e.addEventListener("value-changed",(e=>{e.stopPropagation();const t=e.target.schema;if(e.target===this)return;const i=!t.name||"flatten"in t&&t.flatten?e.detail.value:{[t.name]:e.detail.value};this.data={...this.data,...i},(0,l.r)(this,"value-changed",{value:this.data})}))}},{kind:"method",key:"_computeLabel",value:function(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}},{kind:"method",key:"_computeHelper",value:function(e){return this.computeHelper?this.computeHelper(e):""}},{kind:"method",key:"_computeError",value:function(e,t){return Array.isArray(e)?s.qy`<ul> ${e.map((e=>s.qy`<li> ${this.computeError?this.computeError(e,t):e} </li>`))} </ul>`:this.computeError?this.computeError(e,t):e}},{kind:"method",key:"_computeWarning",value:function(e,t){return this.computeWarning?this.computeWarning(e,t):e}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`.root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}`}}]}}),s.WF)},98340:(e,t,i)=>{i.r(t);var o=i(36312),a=i(50289),s=i(29818),r=i(94100),n=i(34897),l=i(40368),d=(i(68690),i(36185),i(4169),i(26025)),c=i(61539),u=i(55321),h=i(84976);const m=(0,r.A)(((e,t,i,o)=>[{name:"name",required:!0,disabled:t,selector:{text:{}}},{name:"usage",required:!0,type:"select",options:[[c.h1.BACKUP,e("ui.panel.config.storage.network_mounts.mount_usage.backup")],[c.h1.MEDIA,e("ui.panel.config.storage.network_mounts.mount_usage.media")],[c.h1.SHARE,e("ui.panel.config.storage.network_mounts.mount_usage.share")]]},{name:"server",required:!0,selector:{text:{}}},{name:"type",required:!0,type:"select",options:[[c.Wu.CIFS,e("ui.panel.config.storage.network_mounts.mount_type.cifs")],[c.Wu.NFS,e("ui.panel.config.storage.network_mounts.mount_type.nfs")]]},..."nfs"===i?[{name:"path",required:!0,selector:{text:{}}}]:"cifs"===i?[...o?[{name:"version",required:!0,selector:{select:{options:[{label:e("ui.panel.config.storage.network_mounts.cifs_versions.auto"),value:"auto"},{label:e("ui.panel.config.storage.network_mounts.cifs_versions.legacy",{version:"2.0"}),value:"2.0"},{label:e("ui.panel.config.storage.network_mounts.cifs_versions.legacy",{version:"1.0"}),value:"1.0"}],mode:"dropdown"}}}]:[],{name:"share",required:!0,selector:{text:{}}},{name:"username",required:!1,selector:{text:{}}},{name:"password",required:!1,selector:{text:{type:"password"}}}]:[]]));(0,o.A)([(0,s.EM)("dialog-mount-view")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_data",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_waiting",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_validationError",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_validationWarning",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_existing",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_showCIFSVersion",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_reloadMounts",value:void 0},{kind:"method",key:"showDialog",value:async function(e){this._data=e.mount,this._existing=void 0!==e.mount,this._reloadMounts=e.reloadMounts,"cifs"===e.mount?.type&&e.mount.version&&"auto"!==e.mount.version&&(this._showCIFSVersion=!0)}},{kind:"method",key:"closeDialog",value:function(){this._data=void 0,this._waiting=void 0,this._error=void 0,this._validationError=void 0,this._validationWarning=void 0,this._existing=void 0,this._showCIFSVersion=void 0,this._reloadMounts=void 0,(0,n.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return void 0===this._existing?a.s6:a.qy` <ha-dialog open scrimClickAction escapeKeyAction .heading="${this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update_title"):this.hass.localize("ui.panel.config.storage.network_mounts.add_title")}" @closed="${this.closeDialog}"> <ha-dialog-header slot="heading"> <span slot="title">${this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update_title"):this.hass.localize("ui.panel.config.storage.network_mounts.add_title")} </span> <a slot="actionItems" class="header_button" href="${(0,h.o)(this.hass,"/common-tasks/os#network-storage")}" title="${this.hass.localize("ui.panel.config.storage.network_mounts.documentation")}" target="_blank" rel="noreferrer" dir="${(0,l.Vc)(this.hass)}"> <ha-icon-button .path="${"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}"></ha-icon-button> </a> </ha-dialog-header> ${this._error?a.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:a.s6} <ha-form .data="${this._data}" .schema="${m(this.hass.localize,this._existing,this._data?.type,this._showCIFSVersion)}" .error="${this._validationError}" .warning="${this._validationWarning}" .computeLabel="${this._computeLabelCallback}" .computeHelper="${this._computeHelperCallback}" .computeError="${this._computeErrorCallback}" .computeWarning="${this._computeWarningCallback}" @value-changed="${this._valueChanged}" dialogInitialFocus></ha-form> <div slot="secondaryAction"> <mwc-button @click="${this.closeDialog}" dialogInitialFocus> ${this.hass.localize("ui.common.cancel")} </mwc-button> ${this._existing?a.qy`<mwc-button @click="${this._deleteMount}" class="delete-btn"> ${this.hass.localize("ui.common.delete")} </mwc-button>`:a.s6} </div> <ha-progress-button .progress="${this._waiting}" slot="primaryAction" @click="${this._connectMount}"> ${this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update"):this.hass.localize("ui.panel.config.storage.network_mounts.connect")} </ha-progress-button> </ha-dialog> `}},{kind:"field",key:"_computeLabelCallback",value(){return e=>this.hass.localize(`ui.panel.config.storage.network_mounts.options.${e.name}.title`)}},{kind:"field",key:"_computeHelperCallback",value(){return e=>this.hass.localize(`ui.panel.config.storage.network_mounts.options.${e.name}.description`)}},{kind:"field",key:"_computeErrorCallback",value(){return e=>this.hass.localize(`ui.panel.config.storage.network_mounts.errors.${e}`)||e}},{kind:"field",key:"_computeWarningCallback",value(){return e=>this.hass.localize(`ui.panel.config.storage.network_mounts.warnings.${e}`)||e}},{kind:"method",key:"_valueChanged",value:function(e){this._validationError={},this._validationWarning={},this._data=e.detail.value,this._data?.name&&!/^\w+$/.test(this._data.name)&&(this._validationError.name="invalid_name"),"cifs"!==this._data?.type||this._data.version||(this._data.version="auto"),"cifs"===this._data?.type&&this._data.version&&["1.0","2.0"].includes(this._data.version)&&(this._validationWarning.version="not_recomeded_cifs_version")}},{kind:"method",key:"_connectMount",value:async function(e){const t=e.target;this._error=void 0,this._waiting=!0;const i={...this._data};"cifs"===i.type&&"auto"===i.version&&(i.version=void 0);try{this._existing?await(0,c.Bt)(this.hass,i):await(0,c.Qf)(this.hass,i)}catch(e){return this._error=(0,d.VR)(e),this._waiting=!1,t.actionError(),void("cifs"!==this._data.type||this._showCIFSVersion||(this._showCIFSVersion=!0))}this._reloadMounts&&this._reloadMounts(),this.closeDialog()}},{kind:"method",key:"_deleteMount",value:async function(){this._error=void 0,this._waiting=!0;try{await(0,c.wZ)(this.hass,this._data.name)}catch(e){return this._error=(0,d.VR)(e),void(this._waiting=!1)}this._reloadMounts&&this._reloadMounts(),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[u.RF,u.nA,a.AH`ha-icon-button{color:var(--primary-text-color)}.delete-btn{--mdc-theme-primary:var(--error-color)}`]}}]}}),a.WF)}};
//# sourceMappingURL=98340.xonETSfWlRM.js.map