export const id=14934;export const ids=[14934];export const modules={14934:(e,t,i)=>{i.r(t),i.d(t,{HaFloorSelector:()=>v});var s=i(36312),o=(i(253),i(4525),i(50289)),r=i(29818),l=i(94100),a=i(21863),n=i(10725),d=i(34897),h=i(74229),c=i(31265),u=i(29829);i(82903),i(50490);let v=(0,s.A)([(0,r.EM)("ha-selector-floor")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"required",value:()=>!0},{kind:"field",decorators:[(0,r.wk)()],key:"_entitySources",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_configEntries",value:void 0},{kind:"field",key:"_deviceIntegrationLookup",value:()=>(0,l.A)(n.fk)},{kind:"method",key:"_hasIntegration",value:function(e){return e.floor?.entity&&(0,a.e)(e.floor.entity).some((e=>e.integration))||e.floor?.device&&(0,a.e)(e.floor.device).some((e=>e.integration))}},{kind:"method",key:"willUpdate",value:function(e){e.has("selector")&&void 0!==this.value&&(this.selector.floor?.multiple&&!Array.isArray(this.value)?(this.value=[this.value],(0,d.r)(this,"value-changed",{value:this.value})):!this.selector.floor?.multiple&&Array.isArray(this.value)&&(this.value=this.value[0],(0,d.r)(this,"value-changed",{value:this.value})))}},{kind:"method",key:"updated",value:function(e){e.has("selector")&&this._hasIntegration(this.selector)&&!this._entitySources&&(0,h.c)(this.hass).then((e=>{this._entitySources=e})),!this._configEntries&&this._hasIntegration(this.selector)&&(this._configEntries=[],(0,c.VN)(this.hass).then((e=>{this._configEntries=e})))}},{kind:"method",key:"render",value:function(){return this._hasIntegration(this.selector)&&!this._entitySources?o.s6:this.selector.floor?.multiple?o.qy` <ha-floors-picker .hass="${this.hass}" .value="${this.value}" .helper="${this.helper}" .pickFloorLabel="${this.label}" no-add .deviceFilter="${this.selector.floor?.device?this._filterDevices:void 0}" .entityFilter="${this.selector.floor?.entity?this._filterEntities:void 0}" .disabled="${this.disabled}" .required="${this.required}"></ha-floors-picker> `:o.qy` <ha-floor-picker .hass="${this.hass}" .value="${this.value}" .label="${this.label}" .helper="${this.helper}" no-add .deviceFilter="${this.selector.floor?.device?this._filterDevices:void 0}" .entityFilter="${this.selector.floor?.entity?this._filterEntities:void 0}" .disabled="${this.disabled}" .required="${this.required}"></ha-floor-picker> `}},{kind:"field",key:"_filterEntities",value(){return e=>!this.selector.floor?.entity||(0,a.e)(this.selector.floor.entity).some((t=>(0,u.Ru)(t,e,this._entitySources)))}},{kind:"field",key:"_filterDevices",value(){return e=>{if(!this.selector.floor?.device)return!0;const t=this._entitySources?this._deviceIntegrationLookup(this._entitySources,Object.values(this.hass.entities),Object.values(this.hass.devices),this._configEntries):void 0;return(0,a.e)(this.selector.floor.device).some((i=>(0,u.vX)(i,e,t)))}}}]}}),o.WF)},74229:(e,t,i)=>{i.d(t,{c:()=>r});const s=async(e,t,i,o,r,...l)=>{const a=r,n=a[e],d=n=>o&&o(r,n.result)!==n.cacheKey?(a[e]=void 0,s(e,t,i,o,r,...l)):n.result;if(n)return n instanceof Promise?n.then(d):d(n);const h=i(r,...l);return a[e]=h,h.then((i=>{a[e]={result:i,cacheKey:o?.(r,i)},setTimeout((()=>{a[e]=void 0}),t)}),(()=>{a[e]=void 0})),h},o=e=>e.callWS({type:"entity/source"}),r=e=>s("_entitySources",3e4,o,(e=>Object.keys(e.states).length),e)}};
//# sourceMappingURL=14934.BLt2uiHXEHs.js.map