export const id=50170;export const ids=[50170];export const modules={50170:(e,t,l)=>{l.r(t),l.d(t,{HaSelectSelector:()=>n});var i=l(36312),a=(l(54774),l(253),l(2075),l(94438),l(54846),l(16891),l(67056),l(50289)),s=l(29818),o=l(66066),d=l(21863),h=l(34897),r=l(79051),u=l(2682);l(76509),l(17678),l(88725),l(85242),l(24284),l(31511),l(51513),l(77312),l(24260);let n=(0,i.A)([(0,s.EM)("ha-selector-select")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"localizeValue",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"required",value:()=>!0},{kind:"field",decorators:[(0,s.P)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"method",key:"_itemMoved",value:function(e){e.stopPropagation();const{oldIndex:t,newIndex:l}=e.detail;this._move(t,l)}},{kind:"method",key:"_move",value:function(e,t){const l=this.value.concat(),i=l.splice(e,1)[0];l.splice(t,0,i),this.value=l,(0,h.r)(this,"value-changed",{value:l})}},{kind:"field",key:"_filter",value:()=>""},{kind:"method",key:"render",value:function(){const e=this.selector.select?.options?.map((e=>"object"==typeof e?e:{value:e,label:e}))||[],t=this.selector.select?.translation_key;if(this.localizeValue&&t&&e.forEach((e=>{const l=this.localizeValue(`${t}.options.${e.value}`);l&&(e.label=l)})),this.selector.select?.sort&&e.sort(((e,t)=>(0,u.S)(e.label,t.label,this.hass.locale.language))),!this.selector.select?.custom_value&&!this.selector.select?.reorder&&"list"===this._mode){if(!this.selector.select?.multiple)return a.qy` <div> ${this.label} ${e.map((e=>a.qy` <ha-formfield .label="${e.label}" .disabled="${e.disabled||this.disabled}"> <ha-radio .checked="${e.value===this.value}" .value="${e.value}" .disabled="${e.disabled||this.disabled}" @change="${this._valueChanged}"></ha-radio> </ha-formfield> `))} </div> ${this._renderHelper()} `;const t=this.value&&""!==this.value?(0,d.e)(this.value):[];return a.qy` <div> ${this.label} ${e.map((e=>a.qy` <ha-formfield .label="${e.label}"> <ha-checkbox .checked="${t.includes(e.value)}" .value="${e.value}" .disabled="${e.disabled||this.disabled}" @change="${this._checkboxChanged}"></ha-checkbox> </ha-formfield> `))} </div> ${this._renderHelper()} `}if(this.selector.select?.multiple){const t=this.value&&""!==this.value?(0,d.e)(this.value):[],l=e.filter((e=>!e.disabled&&!t?.includes(e.value)));return a.qy` ${t?.length?a.qy` <ha-sortable no-style .disabled="${!this.selector.select.reorder}" @item-moved="${this._itemMoved}"> <ha-chip-set> ${(0,o.u)(t,(e=>e),((t,l)=>{const i=e.find((e=>e.value===t))?.label||t;return a.qy` <ha-input-chip .idx="${l}" @remove="${this._removeItem}" .label="${i}" selected="selected"> ${this.selector.select?.reorder?a.qy` <ha-svg-icon slot="icon" .path="${"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"}" data-handle></ha-svg-icon> `:a.s6} ${e.find((e=>e.value===t))?.label||t} </ha-input-chip> `}))} </ha-chip-set> </ha-sortable> `:a.s6} <ha-combo-box item-value-path="value" item-label-path="label" .hass="${this.hass}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required&&!t.length}" .value="${""}" .items="${l}" .allowCustomValue="${this.selector.select.custom_value??!1}" @filter-changed="${this._filterChanged}" @value-changed="${this._comboBoxValueChanged}" @opened-changed="${this._openedChanged}"></ha-combo-box> `}if(this.selector.select?.custom_value){void 0===this.value||Array.isArray(this.value)||e.find((e=>e.value===this.value))||e.unshift({value:this.value,label:this.value});const t=e.filter((e=>!e.disabled));return a.qy` <ha-combo-box item-value-path="value" item-label-path="label" .hass="${this.hass}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" .items="${t}" .value="${this.value}" @filter-changed="${this._filterChanged}" @value-changed="${this._comboBoxValueChanged}" @opened-changed="${this._openedChanged}"></ha-combo-box> `}return a.qy` <ha-select fixedMenuPosition naturalMenuWidth .label="${this.label??""}" .value="${this.value??""}" .helper="${this.helper??""}" .disabled="${this.disabled}" .required="${this.required}" clearable @closed="${r.d}" @selected="${this._valueChanged}"> ${e.map((e=>a.qy` <mwc-list-item .value="${e.value}" .disabled="${e.disabled}">${e.label}</mwc-list-item> `))} </ha-select> `}},{kind:"method",key:"_renderHelper",value:function(){return this.helper?a.qy`<ha-input-helper-text>${this.helper}</ha-input-helper-text>`:""}},{kind:"get",key:"_mode",value:function(){return this.selector.select?.mode||((this.selector.select?.options?.length||0)<6?"list":"dropdown")}},{kind:"method",key:"_valueChanged",value:function(e){if(e.stopPropagation(),-1===e.detail?.index&&void 0!==this.value)return void(0,h.r)(this,"value-changed",{value:void 0});const t=e.detail?.value||e.target.value;this.disabled||void 0===t||t===(this.value??"")||(0,h.r)(this,"value-changed",{value:t})}},{kind:"method",key:"_checkboxChanged",value:function(e){if(e.stopPropagation(),this.disabled)return;let t;const l=e.target.value,i=e.target.checked,a=this.value&&""!==this.value?(0,d.e)(this.value):[];if(i){if(a.includes(l))return;t=[...a,l]}else{if(!a?.includes(l))return;t=a.filter((e=>e!==l))}(0,h.r)(this,"value-changed",{value:t})}},{kind:"method",key:"_removeItem",value:async function(e){e.stopPropagation();const t=[...(0,d.e)(this.value)];t.splice(e.target.idx,1),(0,h.r)(this,"value-changed",{value:t}),await this.updateComplete,this._filterChanged()}},{kind:"method",key:"_comboBoxValueChanged",value:function(e){e.stopPropagation();const t=e.detail.value;if(this.disabled||""===t)return;if(!this.selector.select?.multiple)return void(0,h.r)(this,"value-changed",{value:t});const l=this.value&&""!==this.value?(0,d.e)(this.value):[];void 0!==t&&l.includes(t)||(setTimeout((()=>{this._filterChanged(),this.comboBox.setInputValue("")}),0),(0,h.r)(this,"value-changed",{value:[...l,t]}))}},{kind:"method",key:"_openedChanged",value:function(e){e?.detail.value&&this._filterChanged()}},{kind:"method",key:"_filterChanged",value:function(e){this._filter=e?.detail.value||"";const t=this.comboBox.items?.filter((e=>(e.label||e.value).toLowerCase().includes(this._filter?.toLowerCase())));this._filter&&this.selector.select?.custom_value&&t?.unshift({label:this._filter,value:this._filter}),this.comboBox.filteredItems=t}},{kind:"field",static:!0,key:"styles",value:()=>a.AH`:host{position:relative}ha-formfield,ha-select,mwc-formfield{display:block}mwc-list-item[disabled]{--mdc-theme-text-primary-on-background:var(--disabled-text-color)}ha-chip-set{padding:8px 0}.sortable-fallback{display:none;opacity:0}.sortable-ghost{opacity:.4}.sortable-drag{cursor:grabbing}`}]}}),a.WF)}};
//# sourceMappingURL=50170.MmLRbUHTI0E.js.map