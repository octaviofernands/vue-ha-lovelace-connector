export const id=59024;export const ids=[59024];export const modules={68010:(e,i,t)=>{t.d(i,{MV:()=>o,VR:()=>l,d8:()=>a,jJ:()=>s,l3:()=>n});const a=async e=>e.callWS({type:"application_credentials/config"}),n=async(e,i)=>e.callWS({type:"application_credentials/config_entry",config_entry_id:i}),l=async e=>e.callWS({type:"application_credentials/list"}),o=async(e,i,t,a,n)=>e.callWS({type:"application_credentials/create",domain:i,client_id:t,client_secret:a,name:n}),s=async(e,i)=>e.callWS({type:"application_credentials/delete",application_credentials_id:i})},59024:(e,i,t)=>{t.r(i),t.d(i,{HaConfigApplicationCredentials:()=>f});var a=t(36312),n=t(68689),l=(t(16891),t(50289)),o=t(29818),s=t(94100),c=(t(52427),t(77661),t(88400),t(16850),t(68010)),d=t(46092),r=t(6121),h=(t(71158),t(25473)),p=t(50299),u=t(96979);const m="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z";let f=(0,a.A)([(0,o.EM)("ha-config-application-credentials")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_applicationCredentials",value:()=>[]},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_selected",value:()=>[]},{kind:"field",decorators:[(0,o.P)("hass-tabs-subpage-data-table",!0)],key:"_dataTable",value:void 0},{kind:"field",decorators:[(0,u.I)({key:"application-credentials-table-sort",state:!1,subscribe:!1})],key:"_activeSorting",value:void 0},{kind:"field",decorators:[(0,u.I)({key:"application-credentials-table-column-order",state:!1,subscribe:!1})],key:"_activeColumnOrder",value:void 0},{kind:"field",decorators:[(0,u.I)({key:"application-credentials-table-hidden-columns",state:!1,subscribe:!1})],key:"_activeHiddenColumns",value:void 0},{kind:"field",decorators:[(0,u.I)({storage:"sessionStorage",key:"application-credentials-table-search",state:!0,subscribe:!1})],key:"_filter",value:()=>""},{kind:"field",key:"_columns",value(){return(0,s.A)((e=>({name:{title:e("ui.panel.config.application_credentials.picker.headers.name"),main:!0,sortable:!0,filterable:!0,direction:"asc",flex:2},client_id:{title:e("ui.panel.config.application_credentials.picker.headers.client_id"),filterable:!0},localizedDomain:{title:e("ui.panel.config.application_credentials.picker.headers.application"),sortable:!0,filterable:!0,direction:"asc"},actions:{title:"",type:"overflow-menu",showNarrow:!0,hideable:!1,moveable:!1,template:e=>l.qy` <ha-icon-overflow-menu .hass="${this.hass}" narrow .items="${[{path:m,warning:!0,label:this.hass.localize("ui.common.delete"),action:()=>this._deleteCredential(e)}]}"> </ha-icon-overflow-menu> `}})))}},{kind:"field",key:"_getApplicationCredentials",value:()=>(0,s.A)(((e,i)=>e.map((e=>({...e,localizedDomain:(0,d.p$)(i,e.domain)})))))},{kind:"method",key:"firstUpdated",value:function(e){(0,n.A)(t,"firstUpdated",this,3)([e]),this._loadTranslations(),this._fetchApplicationCredentials()}},{kind:"method",key:"render",value:function(){return l.qy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" .route="${this.route}" back-path="/config" .tabs="${h.configSections.devices}" .columns="${this._columns(this.hass.localize)}" .data="${this._getApplicationCredentials(this._applicationCredentials,this.hass.localize)}" hasFab selectable .selected="${this._selected.length}" @selection-changed="${this._handleSelectionChanged}" .initialSorting="${this._activeSorting}" .columnOrder="${this._activeColumnOrder}" .hiddenColumns="${this._activeHiddenColumns}" @columns-changed="${this._handleColumnsChanged}" @sorting-changed="${this._handleSortingChanged}" .filter="${this._filter}" @search-changed="${this._handleSearchChange}"> <div class="header-btns" slot="selection-bar"> ${this.narrow?l.qy` <ha-icon-button class="warning" id="remove-btn" @click="${this._deleteSelected}" .path="${m}" .label="${this.hass.localize("ui.common.remove")}"></ha-icon-button> <ha-help-tooltip .label="${this.hass.localize("ui.panel.config.application_credentials.picker.remove_selected.button")}"> </ha-help-tooltip> `:l.qy` <mwc-button @click="${this._deleteSelected}" class="warning">${this.hass.localize("ui.panel.config.application_credentials.picker.remove_selected.button")}</mwc-button> `} </div> <ha-fab slot="fab" .label="${this.hass.localize("ui.panel.config.application_credentials.picker.add_application_credential")}" extended @click="${this._addApplicationCredential}"> <ha-svg-icon slot="icon" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </ha-fab> </hass-tabs-subpage-data-table> `}},{kind:"method",key:"_handleSelectionChanged",value:function(e){this._selected=e.detail.value}},{kind:"field",key:"_deleteCredential",value(){return async e=>{await(0,r.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.application_credentials.picker.remove.confirm_title"),text:this.hass.localize("ui.panel.config.application_credentials.picker.remove_selected.confirm_text"),confirmText:this.hass.localize("ui.common.delete"),dismissText:this.hass.localize("ui.common.cancel"),destructive:!0})&&(await(0,c.jJ)(this.hass,e.id),await this._fetchApplicationCredentials())}}},{kind:"method",key:"_deleteSelected",value:function(){(0,r.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.application_credentials.picker.remove_selected.confirm_title",{number:this._selected.length}),text:this.hass.localize("ui.panel.config.application_credentials.picker.remove_selected.confirm_text"),confirmText:this.hass.localize("ui.common.delete"),dismissText:this.hass.localize("ui.common.cancel"),destructive:!0,confirm:async()=>{try{await Promise.all(this._selected.map((async e=>{await(0,c.jJ)(this.hass,e)})))}catch(e){return void(0,r.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.application_credentials.picker.remove_selected.error_title"),text:e.message})}this._dataTable.clearSelection(),await this._fetchApplicationCredentials()}})}},{kind:"method",key:"_loadTranslations",value:async function(){await this.hass.loadBackendTranslation("title",void 0,!0)}},{kind:"method",key:"_fetchApplicationCredentials",value:async function(){this._applicationCredentials=await(0,c.VR)(this.hass)}},{kind:"method",key:"_addApplicationCredential",value:function(){(0,p.a)(this,{applicationCredentialAddedCallback:async e=>{e&&(this._applicationCredentials=[...this._applicationCredentials,e])}})}},{kind:"method",key:"_handleSortingChanged",value:function(e){this._activeSorting=e.detail}},{kind:"method",key:"_handleColumnsChanged",value:function(e){this._activeColumnOrder=e.detail.columnOrder,this._activeHiddenColumns=e.detail.hiddenColumns}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return l.AH`.table-header{display:flex;justify-content:space-between;align-items:center;height:56px;background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-bottom:1px solid var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));box-sizing:border-box}.header-toolbar{display:flex;justify-content:space-between;align-items:center;color:var(--secondary-text-color);position:relative;top:-4px}.selected-txt{font-weight:700;padding-left:16px;padding-inline-start:16px;direction:var(--direction)}.table-header .selected-txt{margin-top:20px}.header-toolbar .selected-txt{font-size:16px}.header-toolbar .header-btns{margin-right:-12px;margin-inline-end:-12px;margin-inline-start:initial}.header-btns{display:flex}.header-btns>ha-icon-button,.header-btns>mwc-button{margin:8px}ha-button-menu{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.warning{--mdc-theme-primary:var(--error-color)}`}}]}}),l.WF)},50299:(e,i,t)=>{t.d(i,{a:()=>l});var a=t(34897);const n=()=>t.e(34489).then(t.bind(t,34489)),l=(e,i)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-add-application-credential",dialogImport:n,dialogParams:i})}}};
//# sourceMappingURL=59024.XKJrupG7rBs.js.map