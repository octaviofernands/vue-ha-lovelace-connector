export const id=75269;export const ids=[75269];export const modules={75269:(e,i,a)=>{a.r(i);var t=a(36312),s=(a(72606),a(50289)),o=a(29818),l=a(34897),n=(a(13292),a(29180)),r=(a(24284),a(60203),a(90431),a(45920),a(85288),a(27536),a(55321));(0,t.A)([(0,o.EM)("dialog-label-detail")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_color",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_description",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_submitting",value:()=>!1},{kind:"method",key:"showDialog",value:function(e){this._params=e,this._error=void 0,this._params.entry?(this._name=this._params.entry.name||"",this._icon=this._params.entry.icon||"",this._color=this._params.entry.color||"",this._description=this._params.entry.description||""):(this._name=this._params.suggestedName||"",this._icon="",this._color="",this._description=""),document.body.addEventListener("keydown",this._handleKeyPress)}},{kind:"field",key:"_handleKeyPress",value:()=>e=>{"Escape"===e.key&&e.stopPropagation()}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,(0,l.r)(this,"dialog-closed",{dialog:this.localName}),document.body.removeEventListener("keydown",this._handleKeyPress)}},{kind:"method",key:"render",value:function(){return this._params?s.qy` <ha-dialog open @closed="${this.closeDialog}" scrimClickAction escapeKeyAction .heading="${(0,n.l)(this.hass,this._params.entry?this._params.entry.name||this._params.entry.label_id:this.hass.localize("ui.panel.config.labels.detail.new_label"))}"> <div> ${this._error?s.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form"> <ha-textfield dialogInitialFocus .value="${this._name}" .configValue="${"name"}" @input="${this._input}" .label="${this.hass.localize("ui.panel.config.labels.detail.name")}" .validationMessage="${this.hass.localize("ui.panel.config.labels.detail.required_error_msg")}" required></ha-textfield> <ha-icon-picker .value="${this._icon}" .hass="${this.hass}" .configValue="${"icon"}" @value-changed="${this._valueChanged}" .label="${this.hass.localize("ui.panel.config.labels.detail.icon")}"></ha-icon-picker> <ha-color-picker .value="${this._color}" .configValue="${"color"}" .hass="${this.hass}" @value-changed="${this._valueChanged}" .label="${this.hass.localize("ui.panel.config.labels.detail.color")}"></ha-color-picker> <ha-textarea .value="${this._description}" .configValue="${"description"}" @input="${this._input}" .label="${this.hass.localize("ui.panel.config.labels.detail.description")}"></ha-textarea> </div> </div> ${this._params.entry&&this._params.removeEntry?s.qy` <mwc-button slot="secondaryAction" class="warning" @click="${this._deleteEntry}" .disabled="${this._submitting}"> ${this.hass.localize("ui.panel.config.labels.detail.delete")} </mwc-button> `:s.s6} <mwc-button slot="primaryAction" @click="${this._updateEntry}" .disabled="${this._submitting||!this._name}"> ${this._params.entry?this.hass.localize("ui.panel.config.labels.detail.update"):this.hass.localize("ui.panel.config.labels.detail.create")} </mwc-button> </ha-dialog> `:s.s6}},{kind:"method",key:"_input",value:function(e){const i=e.target,a=i.configValue;this._error=void 0,this[`_${a}`]=i.value}},{kind:"method",key:"_valueChanged",value:function(e){const i=e.target.configValue;this._error=void 0,this[`_${i}`]=e.detail.value||""}},{kind:"method",key:"_updateEntry",value:async function(){let e;this._submitting=!0;try{const i={name:this._name.trim(),icon:this._icon.trim()||null,color:this._color.trim()||null,description:this._description.trim()||null};e=this._params.entry?await this._params.updateEntry(i):await this._params.createEntry(i),this.closeDialog()}catch(e){this._error=e?e.message:"Unknown error"}finally{this._submitting=!1}return e}},{kind:"method",key:"_deleteEntry",value:async function(){this._submitting=!0;try{await this._params.removeEntry()&&(this._params=void 0)}finally{this._submitting=!1}}},{kind:"get",static:!0,key:"styles",value:function(){return[r.nA,s.AH`a{color:var(--primary-color)}ha-color-picker,ha-icon-picker,ha-textarea,ha-textfield{display:block}ha-color-picker,ha-textarea{margin-top:16px}`]}}]}}),s.WF)}};
//# sourceMappingURL=75269.QQxYJIPxW0w.js.map