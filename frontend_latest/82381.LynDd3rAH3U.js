export const id=82381;export const ids=[82381];export const modules={82381:(t,e,s)=>{s.r(e);var a=s(36312),i=(s(72606),s(23058),s(50289)),r=s(29818),o=s(94872),n=s(42496),l=(s(13292),s(88725),s(32885),s(17568),s(24284),s(45649),s(9883)),d=s(2989);(0,a.A)([(0,r.EM)("more-info-update")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_releaseNotes",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_error",value:void 0},{kind:"method",key:"render",value:function(){if(!this.hass||!this.stateObj||(0,l.g0)(this.stateObj.state))return i.s6;const t=this.stateObj.attributes.latest_version&&this.stateObj.attributes.skipped_version===this.stateObj.attributes.latest_version;return i.qy` ${this.stateObj.attributes.in_progress?(0,n.$)(this.stateObj,d.TY.PROGRESS)&&"number"==typeof this.stateObj.attributes.in_progress?i.qy`<mwc-linear-progress .progress="${this.stateObj.attributes.in_progress/100}" buffer=""></mwc-linear-progress>`:i.qy`<mwc-linear-progress indeterminate></mwc-linear-progress>`:""} <h3>${this.stateObj.attributes.title}</h3> ${this._error?i.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="row"> <div class="key"> ${this.hass.formatEntityAttributeName(this.stateObj,"installed_version")} </div> <div class="value"> ${this.stateObj.attributes.installed_version??this.hass.localize("state.default.unavailable")} </div> </div> <div class="row"> <div class="key"> ${this.hass.formatEntityAttributeName(this.stateObj,"latest_version")} </div> <div class="value"> ${this.stateObj.attributes.latest_version??this.hass.localize("state.default.unavailable")} </div> </div> ${this.stateObj.attributes.release_url?i.qy`<div class="row"> <div class="key"> <a href="${this.stateObj.attributes.release_url}" target="_blank" rel="noreferrer"> ${this.hass.localize("ui.dialogs.more_info_control.update.release_announcement")} </a> </div> </div>`:""} ${(0,n.$)(this.stateObj,d.TY.RELEASE_NOTES)&&!this._error?void 0===this._releaseNotes?i.qy`<div class="flex center"> <ha-circular-progress indeterminate></ha-circular-progress> </div>`:i.qy`<hr> <ha-faded> <ha-markdown .content="${this._releaseNotes}"></ha-markdown> </ha-faded> `:this.stateObj.attributes.release_summary?i.qy`<hr> <ha-markdown .content="${this.stateObj.attributes.release_summary}"></ha-markdown>`:""} ${(0,n.$)(this.stateObj,d.TY.BACKUP)?i.qy`<hr> <ha-formfield .label="${this.hass.localize("ui.dialogs.more_info_control.update.create_backup")}"> <ha-checkbox checked="checked" .disabled="${(0,d.Jy)(this.stateObj)}"></ha-checkbox> </ha-formfield> `:""} <div class="actions"> ${this.stateObj.attributes.auto_update?"":this.stateObj.state===o.qg&&this.stateObj.attributes.skipped_version?i.qy` <mwc-button @click="${this._handleClearSkipped}"> ${this.hass.localize("ui.dialogs.more_info_control.update.clear_skipped")} </mwc-button> `:i.qy` <mwc-button @click="${this._handleSkip}" .disabled="${t||this.stateObj.state===o.qg||(0,d.Jy)(this.stateObj)}"> ${this.hass.localize("ui.dialogs.more_info_control.update.skip")} </mwc-button> `} ${(0,n.$)(this.stateObj,d.TY.INSTALL)?i.qy` <mwc-button @click="${this._handleInstall}" .disabled="${this.stateObj.state===o.qg&&!t||(0,d.Jy)(this.stateObj)}"> ${this.hass.localize("ui.dialogs.more_info_control.update.install")} </mwc-button> `:""} </div> `}},{kind:"method",key:"firstUpdated",value:function(){(0,n.$)(this.stateObj,d.TY.RELEASE_NOTES)&&(0,d.ev)(this.hass,this.stateObj.entity_id).then((t=>{this._releaseNotes=t})).catch((t=>{this._error=t.message}))}},{kind:"get",key:"_shouldCreateBackup",value:function(){if(!(0,n.$)(this.stateObj,d.TY.BACKUP))return null;const t=this.shadowRoot?.querySelector("ha-checkbox");return!t||t.checked}},{kind:"method",key:"_handleInstall",value:function(){const t={entity_id:this.stateObj.entity_id};this._shouldCreateBackup&&(t.backup=!0),(0,n.$)(this.stateObj,d.TY.SPECIFIC_VERSION)&&this.stateObj.attributes.latest_version&&(t.version=this.stateObj.attributes.latest_version),this.hass.callService("update","install",t)}},{kind:"method",key:"_handleSkip",value:function(){this.hass.callService("update","skip",{entity_id:this.stateObj.entity_id})}},{kind:"method",key:"_handleClearSkipped",value:function(){this.hass.callService("update","clear_skipped",{entity_id:this.stateObj.entity_id})}},{kind:"get",static:!0,key:"styles",value:function(){return i.AH`hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}ha-expansion-panel{margin:16px 0}.row{margin:0;display:flex;flex-direction:row;justify-content:space-between}.actions{border-top:1px solid var(--divider-color);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff));margin:8px 0 0;display:flex;flex-wrap:wrap;justify-content:center;position:sticky;bottom:0;padding:12px 0;margin-bottom:-24px;z-index:1}.actions mwc-button{margin:0 4px 4px}a{color:var(--primary-color)}.flex.center{display:flex;justify-content:center;align-items:center}mwc-linear-progress{margin-bottom:-8px;margin-top:4px}ha-markdown{direction:ltr}`}}]}}),i.WF)}};
//# sourceMappingURL=82381.LynDd3rAH3U.js.map