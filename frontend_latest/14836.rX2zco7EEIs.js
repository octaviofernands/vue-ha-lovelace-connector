export const id=14836;export const ids=[14836];export const modules={15898:(t,e,n)=>{n.r(e),n.d(e,{DialogLovelaceDashboardDetail:()=>u});var i=n(36312),s=n(50289),o=n(29818),a=n(34897),r=(n(77372),n(29180)),d=(n(36185),n(55321));n(30728);let u=(0,i.A)([(0,o.EM)("dialog-lovelace-dashboard-configure-strategy")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_submitting",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_data",value:void 0},{kind:"method",key:"showDialog",value:function(t){this._params=t,this._data=t.config.strategy}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,this._data=void 0,(0,a.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return this._params&&this._data?s.qy` <ha-dialog open @closed="${this.closeDialog}" scrimClickAction escapeKeyAction .heading="${(0,r.l)(this.hass,this.hass.localize("ui.panel.config.lovelace.dashboards.detail.new_dashboard"))}"> <div> <hui-dashboard-strategy-element-editor .hass="${this.hass}" .lovelace="${this._params.config}" .value="${this._data}" @config-changed="${this._handleConfigChanged}" dialogInitialFocus></hui-dashboard-strategy-element-editor> </div> <ha-button slot="primaryAction" @click="${this._save}" .disabled="${this._submitting}"> ${this.hass.localize("ui.common.next")} </ha-button> </ha-dialog> `:s.s6}},{kind:"method",key:"_handleConfigChanged",value:function(t){this._data=t.detail.config}},{kind:"method",key:"_save",value:async function(){this._data&&(this._submitting=!0,await this._params.saveConfig({...this._params.config,strategy:this._data}),this._submitting=!1,this.closeDialog())}},{kind:"get",static:!0,key:"styles",value:function(){return[d.nA,s.AH``]}}]}}),s.WF)},32689:(t,e,n)=>{n.d(e,{CZ:()=>g,Wx:()=>c,XH:()=>u,db:()=>h,gW:()=>m,lB:()=>f});n(89655),n(24545),n(51855),n(82130),n(31743),n(22328),n(4959),n(62435),n(253),n(5186),n(2075),n(54846),n(16891),n(37679),n(4525);var i=n(21863),s=n(82291),o=n(26175),a=n(9883);function r(t,e){if((0,o.n)(e)&&t.states[e])return t.states[e]?.state}function d(t,e){const n=t.entity&&e.states[t.entity]?e.states[t.entity].state:a.Hh;let s=t.state??t.state_not;if(Array.isArray(s)){const t=s.map((t=>r(e,t))).filter((t=>void 0!==t));s=[...s,...t]}else if("string"==typeof s){const t=r(e,s);s=[s],t&&s.push(t)}return null!=t.state?(0,i.e)(s).includes(n):!(0,i.e)(s).includes(n)}function u(t,e){return t.every((t=>{if("condition"in t)switch(t.condition){case"screen":return!!(n=t).media_query&&matchMedia(n.media_query).matches;case"user":return function(t,e){return!(!t.users||!e.user?.id)&&t.users.includes(e.user.id)}(t,e);case"numeric_state":return function(t,e){const n=(t.entity?e.states[t.entity]:void 0)?.state;let i=t.above,s=t.below;"string"==typeof i&&(i=r(e,i)??i),"string"==typeof s&&(s=r(e,s)??s);const o=Number(n),a=Number(i),d=Number(s);return!isNaN(o)&&(null==t.above||isNaN(a)||a<o)&&(null==t.below||isNaN(d)||d>o)}(t,e);case"and":return function(t,e){return!t.conditions||u(t.conditions,e)}(t,e);case"or":return function(t,e){return!t.conditions||t.conditions.some((t=>u([t],e)))}(t,e);default:return d(t,e)}var n;return d(t,e)}))}function c(t){const e=new Set;for(const n of t)if("numeric_state"===n.condition)"string"==typeof n.above&&(0,o.n)(n.above)&&e.add(n.above),"string"==typeof n.below&&(0,o.n)(n.below)&&e.add(n.below);else if("state"===n.condition)[...(0,i.e)(n.state)??[],...(0,i.e)(n.state_not)??[]].forEach((t=>{t&&(0,o.n)(t)&&e.add(t)}));else if("conditions"in n&&n.conditions)return new Set([...e,...c(n.conditions)]);return e}function l(t){return null!=t.entity&&(null!=t.state||null!=t.state_not)}function h(t){return t.every((t=>{if("condition"in t)switch(t.condition){case"screen":return null!=t.media_query;case"user":return function(t){return null!=t.users}(t);case"numeric_state":return function(t){return null!=t.entity&&(null!=t.above||null!=t.below)}(t);case"and":case"or":return function(t){return null!=t.conditions}(t);default:return l(t)}return l(t)}))}function f(t,e){return"conditions"in t&&t.conditions?{...t,conditions:t.conditions.map((t=>f(t,e)))}:"state"===t.condition||"numeric_state"===t.condition?{...t,entity:e}:t}function m(t){return t.reduce(((t,e)=>("conditions"in e&&e.conditions&&t.push(...m(e.conditions)),"screen"===e.condition&&e.media_query&&t.push(e.media_query),t)),[])}function g(t,e){return m(t).map((t=>(0,s.m)(t,(t=>{e(t)}))))}},30728:(t,e,n)=>{var i=n(36312),s=n(29818),o=n(71797),a=n(70612);(0,i.A)([(0,s.EM)("hui-dashboard-strategy-element-editor")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"method",key:"getConfigElement",value:async function(){const t=await(0,o.Nu)("dashboard",this.configElementType);if(t&&t.getConfigElement)return t.getConfigElement()}}]}}),a.m)}};
//# sourceMappingURL=14836.rX2zco7EEIs.js.map