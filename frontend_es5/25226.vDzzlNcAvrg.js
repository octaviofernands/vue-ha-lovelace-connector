"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[25226],{25226:function(e,t,a){var n=a(22858).A,s=a(33994).A;a.a(e,function(){var e=n(s().mark((function e(n,i){var r,o,l,u,c,d,h,p,g,v,f,m,k,_,x,y,b,w,A,E,I,L,R,z,C,q,H,M,S,D,F,K,V,Z,j,B,U,W,J,N,O,P,T,G;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.r(t),r=a(64599),o=a(33994),l=a(41981),u=a(22858),c=a(35806),d=a(71008),h=a(62193),p=a(2816),g=a(27927),v=a(81027),f=a(13025),m=a(44124),k=a(82386),_=a(97741),x=a(89655),y=a(72735),b=a(39790),w=a(36604),A=a(14137),E=a(253),I=a(2075),L=a(94438),R=a(54846),z=a(16891),C=a(66555),q=a(51431),H=a(50289),M=a(29818),S=a(96979),D=a(54480),a(13292),a(77372),a(13082),a(31979),F=a(14069),a(45920),K=a(12103),V=a(20712),Z=a(55321),j=a(30489),!(B=n([D,F])).then){e.next=66;break}return e.next=62,B;case 62:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=67;break;case 66:e.t0=B;case 67:U=e.t0,D=U[0],F=U[1],(0,g.A)([(0,M.EM)("developer-tools-assist")],(function(e,t){var a,n,s=function(t){function a(){var t;(0,d.A)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t=(0,h.A)(this,a,[].concat(s)),e(t),t}return(0,p.A)(a,t),(0,c.A)(a)}(t);return{F:s,d:[{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,M.MZ)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,M.wk)()],key:"supportedLanguages",value:void 0},{kind:"field",decorators:[(0,S.I)({key:"assist_debug_language",state:!0,subscribe:!1,storage:"localStorage"})],key:"_language",value:void 0},{kind:"field",decorators:[(0,M.wk)()],key:"_results",value:function(){return[]}},{kind:"field",decorators:[(0,M.P)("#sentences-input")],key:"_sentencesInput",value:void 0},{kind:"field",decorators:[(0,M.wk)()],key:"_validInput",value:function(){return!1}},{kind:"method",key:"_languageChanged",value:function(e){this._language=e.detail.value}},{kind:"method",key:"_handleKeyDown",value:function(e){"Enter"!==e.code||e.shiftKey||(e.preventDefault(),this._parse())}},{kind:"method",key:"_textAreaInput",value:function(e){var t=e.target.value,a=Boolean(t);a!==this._validInput&&(this._validInput=a)}},{kind:"method",key:"_parse",value:(n=(0,u.A)((0,o.A)().mark((function e(){var t,a,n,s,i=this;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._sentencesInput.value.split("\n").filter((function(e){return""!==e})),e.next=3,(0,K.RW)(this.hass,t,this._language);case 3:a=e.sent,n=a.results,this._sentencesInput.value="",s=[],t.forEach((function(e,t){var a=n[t];s.push({sentence:e,language:i._language,result:a})})),this._results=[].concat(s,(0,l.A)(this._results));case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"_fetchLanguages",value:(a=(0,u.A)((0,o.A)().mark((function e(){var t,a,n,s;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,K.vc)(this.hass);case 2:a=e.sent,n=a.agents,s=n.find((function(e){return"conversation.home_assistant"===e.id})),this.supportedLanguages="*"===(null==s?void 0:s.supported_languages)||null==s?void 0:s.supported_languages,!this._language&&null!==(t=this.supportedLanguages)&&void 0!==t&&t.includes(this.hass.locale.language)?this._language=this.hass.locale.language:this._language||(this._language="en");case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{kind:"method",key:"firstUpdated",value:function(){this._fetchLanguages()}},{kind:"method",key:"render",value:function(){var e=this;return(0,H.qy)(W||(W=(0,r.A)([' <div class="content"> <ha-card .header="','" class="form"> <div class="card-content"> <p class="description"> '," </p> ",' <ha-textarea autogrow .label="','" id="sentences-input" @input="','" @keydown="','"></ha-textarea> </div> <div class="card-actions"> <ha-button @click="','" .disabled="','"> '," </ha-button> </div> </ha-card> "," "," </div> "])),this.hass.localize("ui.panel.developer-tools.tabs.assist.title"),this.hass.localize("ui.panel.developer-tools.tabs.assist.description"),this.supportedLanguages?(0,H.qy)(J||(J=(0,r.A)([' <ha-language-picker .languages="','" .hass="','" .value="','" @value-changed="','"></ha-language-picker> '])),this.supportedLanguages,this.hass,this._language,this._languageChanged):H.s6,this.hass.localize("ui.panel.developer-tools.tabs.assist.sentences"),this._textAreaInput,this._handleKeyDown,this._parse,!this._language||!this._validInput,this.hass.localize("ui.panel.developer-tools.tabs.assist.parse_sentences"),this._results.length?(0,H.qy)(N||(N=(0,r.A)([' <div class="result-toolbar"> <ha-button outlined @click="','"> <ha-svg-icon slot="icon" .path="','"></ha-svg-icon> '," </ha-button> </div> "])),this._download,"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",this.hass.localize("ui.panel.developer-tools.tabs.assist.download_results")):"",this._results.map((function(t){var a=t.sentence,n=t.result,s=t.language,i=null!=n;return(0,H.qy)(O||(O=(0,r.A)([' <ha-card class="result"> <div class="card-content"> <div class="sentence"> <p>',"</p> <p>",'</p> </div> <div class="info"> ',": "," (",") </div> "," </div> </ha-card> "])),a,i?"✅":"❌",e.hass.localize("ui.panel.developer-tools.tabs.assist.language"),(0,D.T)(s,e.hass.locale),s,n?(0,H.qy)(P||(P=(0,r.A)([' <ha-code-editor mode="yaml" .hass="','" .value="','" read-only dir="ltr"></ha-code-editor> '])),e.hass,(0,q.dump)(n).trimRight()):(0,H.qy)(T||(T=(0,r.A)(['<ha-alert alert-type="error"> '," </ha-alert>"])),e.hass.localize("ui.panel.developer-tools.tabs.assist.no_match")))})))}},{kind:"method",key:"_download",value:function(){(0,j.R)("data:text/plain;charset=utf-8,".concat(encodeURIComponent(JSON.stringify({results:this._results},null,2))),"intent_results.json")}},{kind:"get",static:!0,key:"styles",value:function(){return[Z.RF,(0,H.AH)(G||(G=(0,r.A)([".content{padding:28px 20px 16px;padding:max(28px,calc(12px + env(safe-area-inset-top))) max(20px,calc(4px + env(safe-area-inset-right))) max(16px,env(safe-area-inset-bottom)) max(20px,calc(4px + env(safe-area-inset-left)));max-width:1040px;margin:0 auto}.description{margin:0;margin-bottom:16px}ha-textarea{width:100%}.card-actions{text-align:right}.form{margin-bottom:16px}.result-toolbar{text-align:center;margin-bottom:16px}.result{margin-bottom:16px}.sentence{font-weight:500;margin-bottom:8px;display:flex;flex-direction:row;justify-content:space-between}.sentence p{margin:0}.info p{margin:0}ha-alert,ha-code-editor{display:block;margin-top:16px}"])))]}}]}}),(0,V.E)(H.WF)),i(),e.next=78;break;case 75:e.prev=75,e.t2=e.catch(0),i(e.t2);case 78:case"end":return e.stop()}}),e,null,[[0,75]])})));return function(t,a){return e.apply(this,arguments)}}())},30489:function(e,t,a){a.d(t,{R:function(){return n}});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=document.createElement("a");a.target="_blank",a.href=e,a.download=t,document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),document.body.removeChild(a)}},38583:function(e,t,a){var n=a(38971).end,s=a(34465);e.exports=s("trimEnd")?function(){return n(this)}:"".trimEnd},14137:function(e,t,a){a(75666);var n=a(41765),s=a(38583);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==s},{trimEnd:s})},75666:function(e,t,a){var n=a(41765),s=a(38583);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==s},{trimRight:s})}}]);
//# sourceMappingURL=25226.vDzzlNcAvrg.js.map