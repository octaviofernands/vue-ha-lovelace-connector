"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[82381],{82381:function(t,e,s){var a=s(22858).A,i=s(33994).A;s.a(t,function(){var t=a(i().mark((function t(a,r){var n,o,l,d,h,c,u,b,v,p,f,k,_,m,y,O,j,g,w,A,x,S,q,E,C,N,T,z;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s.r(e),n=s(64599),o=s(35806),l=s(71008),d=s(62193),h=s(2816),c=s(27927),u=s(81027),s(72606),b=s(46072),v=s(50289),p=s(29818),f=s(94872),k=s(42496),s(13292),s(88725),s(32885),s(17568),s(24284),s(45649),_=s(9883),m=s(2989),!(y=a([b])).then){t.next=32;break}return t.next=28,y;case 28:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=33;break;case 32:t.t0=y;case 33:b=t.t0[0],(0,c.A)([(0,p.EM)("more-info-update")],(function(t,e){var s=function(e){function s(){var e;(0,l.A)(this,s);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=(0,d.A)(this,s,[].concat(i)),t(e),e}return(0,h.A)(s,e),(0,o.A)(s)}(e);return{F:s,d:[{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,p.wk)()],key:"_releaseNotes",value:void 0},{kind:"field",decorators:[(0,p.wk)()],key:"_error",value:void 0},{kind:"method",key:"render",value:function(){var t,e;if(!this.hass||!this.stateObj||(0,_.g0)(this.stateObj.state))return v.s6;var s=this.stateObj.attributes.latest_version&&this.stateObj.attributes.skipped_version===this.stateObj.attributes.latest_version;return(0,v.qy)(O||(O=(0,n.A)([" "," <h3>","</h3> ",' <div class="row"> <div class="key"> ',' </div> <div class="value"> ',' </div> </div> <div class="row"> <div class="key"> ',' </div> <div class="value"> '," </div> </div> "," "," ",' <div class="actions"> '," "," </div> "])),this.stateObj.attributes.in_progress?(0,k.$)(this.stateObj,m.TY.PROGRESS)&&"number"==typeof this.stateObj.attributes.in_progress?(0,v.qy)(j||(j=(0,n.A)(['<mwc-linear-progress .progress="','" buffer=""></mwc-linear-progress>'])),this.stateObj.attributes.in_progress/100):(0,v.qy)(g||(g=(0,n.A)(["<mwc-linear-progress indeterminate></mwc-linear-progress>"]))):"",this.stateObj.attributes.title,this._error?(0,v.qy)(w||(w=(0,n.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",this.hass.formatEntityAttributeName(this.stateObj,"installed_version"),null!==(t=this.stateObj.attributes.installed_version)&&void 0!==t?t:this.hass.localize("state.default.unavailable"),this.hass.formatEntityAttributeName(this.stateObj,"latest_version"),null!==(e=this.stateObj.attributes.latest_version)&&void 0!==e?e:this.hass.localize("state.default.unavailable"),this.stateObj.attributes.release_url?(0,v.qy)(A||(A=(0,n.A)(['<div class="row"> <div class="key"> <a href="','" target="_blank" rel="noreferrer"> '," </a> </div> </div>"])),this.stateObj.attributes.release_url,this.hass.localize("ui.dialogs.more_info_control.update.release_announcement")):"",(0,k.$)(this.stateObj,m.TY.RELEASE_NOTES)&&!this._error?void 0===this._releaseNotes?(0,v.qy)(x||(x=(0,n.A)(['<div class="flex center"> <ha-circular-progress indeterminate></ha-circular-progress> </div>']))):(0,v.qy)(S||(S=(0,n.A)(['<hr> <ha-faded> <ha-markdown .content="','"></ha-markdown> </ha-faded> '])),this._releaseNotes):this.stateObj.attributes.release_summary?(0,v.qy)(q||(q=(0,n.A)(['<hr> <ha-markdown .content="','"></ha-markdown>'])),this.stateObj.attributes.release_summary):"",(0,k.$)(this.stateObj,m.TY.BACKUP)?(0,v.qy)(E||(E=(0,n.A)(['<hr> <ha-formfield .label="','"> <ha-checkbox checked="checked" .disabled="','"></ha-checkbox> </ha-formfield> '])),this.hass.localize("ui.dialogs.more_info_control.update.create_backup"),(0,m.Jy)(this.stateObj)):"",this.stateObj.attributes.auto_update?"":this.stateObj.state===f.qg&&this.stateObj.attributes.skipped_version?(0,v.qy)(C||(C=(0,n.A)([' <mwc-button @click="','"> '," </mwc-button> "])),this._handleClearSkipped,this.hass.localize("ui.dialogs.more_info_control.update.clear_skipped")):(0,v.qy)(N||(N=(0,n.A)([' <mwc-button @click="','" .disabled="','"> '," </mwc-button> "])),this._handleSkip,s||this.stateObj.state===f.qg||(0,m.Jy)(this.stateObj),this.hass.localize("ui.dialogs.more_info_control.update.skip")),(0,k.$)(this.stateObj,m.TY.INSTALL)?(0,v.qy)(T||(T=(0,n.A)([' <mwc-button @click="','" .disabled="','"> '," </mwc-button> "])),this._handleInstall,this.stateObj.state===f.qg&&!s||(0,m.Jy)(this.stateObj),this.hass.localize("ui.dialogs.more_info_control.update.install")):"")}},{kind:"method",key:"firstUpdated",value:function(){var t=this;(0,k.$)(this.stateObj,m.TY.RELEASE_NOTES)&&(0,m.ev)(this.hass,this.stateObj.entity_id).then((function(e){t._releaseNotes=e})).catch((function(e){t._error=e.message}))}},{kind:"get",key:"_shouldCreateBackup",value:function(){var t;if(!(0,k.$)(this.stateObj,m.TY.BACKUP))return null;var e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("ha-checkbox");return!e||e.checked}},{kind:"method",key:"_handleInstall",value:function(){var t={entity_id:this.stateObj.entity_id};this._shouldCreateBackup&&(t.backup=!0),(0,k.$)(this.stateObj,m.TY.SPECIFIC_VERSION)&&this.stateObj.attributes.latest_version&&(t.version=this.stateObj.attributes.latest_version),this.hass.callService("update","install",t)}},{kind:"method",key:"_handleSkip",value:function(){this.hass.callService("update","skip",{entity_id:this.stateObj.entity_id})}},{kind:"method",key:"_handleClearSkipped",value:function(){this.hass.callService("update","clear_skipped",{entity_id:this.stateObj.entity_id})}},{kind:"get",static:!0,key:"styles",value:function(){return(0,v.AH)(z||(z=(0,n.A)(["hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}ha-expansion-panel{margin:16px 0}.row{margin:0;display:flex;flex-direction:row;justify-content:space-between}.actions{border-top:1px solid var(--divider-color);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff));margin:8px 0 0;display:flex;flex-wrap:wrap;justify-content:center;position:sticky;bottom:0;padding:12px 0;margin-bottom:-24px;z-index:1}.actions mwc-button{margin:0 4px 4px}a{color:var(--primary-color)}.flex.center{display:flex;justify-content:center;align-items:center}mwc-linear-progress{margin-bottom:-8px;margin-top:4px}ha-markdown{direction:ltr}"])))}}]}}),v.WF),r(),t.next=41;break;case 38:t.prev=38,t.t2=t.catch(0),r(t.t2);case 41:case"end":return t.stop()}}),t,null,[[0,38]])})));return function(e,s){return t.apply(this,arguments)}}())}}]);
//# sourceMappingURL=82381.HM2fEEF6q-g.js.map