"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[36931],{81583:function(t,i,e){var n,a=e(64599),o=e(35806),r=e(71008),s=e(62193),c=e(2816),d=e(27927),l=(e(81027),e(72606),e(50289)),u=e(29818),h=e(34897),f=e(46092);e(47408),(0,d.A)([(0,u.EM)("configurator-notification-item")],(function(t,i){var e=function(i){function e(){var i;(0,r.A)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=(0,s.A)(this,e,[].concat(a)),t(i),i}return(0,c.A)(e,i),(0,o.A)(e)}(i);return{F:e,d:[{kind:"field",decorators:[(0,u.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,u.MZ)({attribute:!1})],key:"notification",value:void 0},{kind:"method",key:"render",value:function(){return this.hass&&this.notification?(0,l.qy)(n||(n=(0,a.A)([' <notification-item-template> <span slot="header"> '," </span> <div> ",' </div> <mwc-button slot="actions" @click="','"> '," </mwc-button> </notification-item-template> "])),(0,f.p$)(this.hass.localize,"configurator"),this.hass.localize("ui.notification_drawer.click_to_configure",{entity:this.notification.attributes.friendly_name}),this._handleClick,this.hass.formatEntityState(this.notification)):l.s6}},{kind:"method",key:"_handleClick",value:function(){(0,h.r)(this,"hass-more-info",{entityId:this.notification.entity_id})}}]}}),l.WF)},36931:function(t,i,e){var n=e(22858).A,a=e(33994).A;e.a(t,function(){var t=n(a().mark((function t(n,o){var r,s,c,d,l,u,h,f,v,p,m,k,y,g,b,w,A,_,x,D,M,z,C,q,F,E,N,Z,W,H,L;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.r(i),e.d(i,{HuiNotificationDrawer:function(){return L}}),r=e(64599),s=e(35806),c=e(71008),d=e(62193),l=e(2816),u=e(27927),h=e(35890),f=e(81027),v=e(13025),p=e(97741),m=e(33231),k=e(10507),y=e(39790),g=e(253),b=e(2075),w=e(16891),e(72606),A=e(50289),_=e(29818),x=e(34897),D=e(213),e(40462),M=e(77679),z=e(78693),e(79448),e(80594),C=e(40368),!(q=n([z])).then){t.next=47;break}return t.next=43,q;case 43:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=48;break;case 47:t.t0=q;case 48:z=t.t0[0],L=(0,u.A)([(0,_.EM)("notification-drawer")],(function(t,i){var e=function(i){function e(){var i;(0,c.A)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=(0,d.A)(this,e,[].concat(a)),t(i),i}return(0,l.A)(e,i),(0,s.A)(e)}(i);return{F:e,d:[{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_notifications",value:function(){return[]}},{kind:"field",decorators:[(0,_.wk)()],key:"_open",value:function(){return!1}},{kind:"field",decorators:[(0,_.P)("ha-drawer")],key:"_drawer",value:void 0},{kind:"field",key:"_unsubNotifications",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,h.A)(e,"connectedCallback",this,3)([]),window.addEventListener("location-changed",this.closeDialog)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,h.A)(e,"disconnectedCallback",this,3)([]),window.removeEventListener("location-changed",this.closeDialog)}},{kind:"method",key:"showDialog",value:function(t){var i=this,e=t.narrow;this._unsubNotifications=(0,M.V)(this.hass.connection,(function(t){!i._notifications.length||t.length?i._notifications=t:i.closeDialog()})),this.style.setProperty("--mdc-drawer-width",e?window.innerWidth+"px":"500px"),this._open=!0}},{kind:"field",key:"closeDialog",value:function(){var t=this;return function(){t._drawer&&(t._drawer.open=!1),t._unsubNotifications&&(t._unsubNotifications(),t._unsubNotifications=void 0),t._notifications=[],(0,x.r)(t,"dialog-closed",{dialog:t.localName})}}},{kind:"method",key:"render",value:function(){var t=this;if(!this._open)return A.s6;var i=Object.keys(this.hass.states).filter((function(t){return"configurator"===(0,D.m)(t)})).map((function(i){return t.hass.states[i]})),e=this._notifications.concat(i);return e.sort((function(t,i){var e=new Date(t.created_at),n=new Date(i.created_at);return e<n?1:e>n?-1:0})),(0,A.qy)(F||(F=(0,r.A)([' <ha-drawer type="modal" open @MDCDrawer:closed="','" .direction="','"> <ha-header-bar> <div slot="title"> ',' </div> <ha-icon-button-prev slot="actionItems" .hass="','" @click="','" .label="','"> </ha-icon-button-prev> </ha-header-bar> <div class="notifications"> '," </div> </ha-drawer> "])),this._dialogClosed,(0,C.Vc)(this.hass),this.hass.localize("ui.notification_drawer.title"),this.hass,this.closeDialog,this.hass.localize("ui.notification_drawer.close"),e.length?(0,A.qy)(E||(E=(0,r.A)([""," ",""])),e.map((function(i){return(0,A.qy)(N||(N=(0,r.A)(['<div class="notification"> <notification-item .hass="','" .notification="','"></notification-item> </div>'])),t.hass,i)})),this._notifications.length>1?(0,A.qy)(Z||(Z=(0,r.A)(['<div class="notification-actions"> <mwc-button raised @click="','"> '," </mwc-button> </div>"])),this._dismissAll,this.hass.localize("ui.notification_drawer.dismiss_all")):""):(0,A.qy)(W||(W=(0,r.A)([' <div class="empty"> '," <div></div> </div>"])),this.hass.localize("ui.notification_drawer.empty")))}},{kind:"method",key:"_dialogClosed",value:function(t){t.stopPropagation(),this._open=!1}},{kind:"method",key:"_dismissAll",value:function(){this.hass.callService("persistent_notification","dismiss_all"),this.closeDialog()}},{kind:"field",static:!0,key:"styles",value:function(){return(0,A.AH)(H||(H=(0,r.A)(["ha-header-bar{--mdc-theme-on-primary:var(--primary-text-color);--mdc-theme-primary:var(--primary-background-color);border-bottom:1px solid var(--divider-color);display:block}.notifications{overflow-y:auto;padding-top:16px;padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-inline-start:env(safe-area-inset-left);padding-inline-end:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);height:calc(100% - 1px - var(--header-height));box-sizing:border-box;background-color:var(--primary-background-color);color:var(--primary-text-color)}.notification{padding:0 16px 16px}.notification-actions{padding:0 16px 16px;text-align:center}.empty{padding:16px;text-align:center}"])))}}]}}),A.WF),o(),t.next=56;break;case 53:t.prev=53,t.t2=t.catch(0),o(t.t2);case 56:case"end":return t.stop()}}),t,null,[[0,53]])})));return function(i,e){return t.apply(this,arguments)}}())},47408:function(t,i,e){var n,a,o=e(64599),r=e(35806),s=e(71008),c=e(62193),d=e(2816),l=e(27927),u=(e(81027),e(50289)),h=e(29818);e(13082),(0,l.A)([(0,h.EM)("notification-item-template")],(function(t,i){var e=function(i){function e(){var i;(0,s.A)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=(0,c.A)(this,e,[].concat(a)),t(i),i}return(0,d.A)(e,i),(0,r.A)(e)}(i);return{F:e,d:[{kind:"method",key:"render",value:function(){return(0,u.qy)(n||(n=(0,o.A)([' <ha-card> <div class="header"><slot name="header"></slot></div> <div class="contents"><slot></slot></div> <div class="actions"><slot name="actions"></slot></div> </ha-card> '])))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,u.AH)(a||(a=(0,o.A)([".contents{padding:16px;-ms-user-select:text;-webkit-user-select:text;-moz-user-select:text;user-select:text}ha-card .header{font-family:Roboto,Noto,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px;color:var(--primary-text-color);padding:16px 16px 0}.actions{border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}::slotted(.primary){color:var(--primary-color)}"])))}}]}}),u.WF)},78693:function(t,i,e){var n=e(22858).A,a=e(33994).A;e.a(t,function(){var t=n(a().mark((function t(i,n){var o,r,s,c,d,l,u,h,f,v,p,m,k;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=e(64599),r=e(35806),s=e(71008),c=e(62193),d=e(2816),l=e(27927),u=e(81027),h=e(50289),f=e(29818),e(81583),v=e(86455),!(p=i([v])).then){t.next=21;break}return t.next=17,p;case 17:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=22;break;case 21:t.t0=p;case 22:v=t.t0[0],(0,l.A)([(0,f.EM)("notification-item")],(function(t,i){var e=function(i){function e(){var i;(0,s.A)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=(0,c.A)(this,e,[].concat(a)),t(i),i}return(0,d.A)(e,i),(0,r.A)(e)}(i);return{F:e,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"notification",value:void 0},{kind:"method",key:"shouldUpdate",value:function(t){return!(this.hass&&this.notification&&!t.has("notification"))}},{kind:"method",key:"render",value:function(){return this.hass&&this.notification?"entity_id"in this.notification?(0,h.qy)(m||(m=(0,o.A)([' <configurator-notification-item .hass="','" .notification="','"></configurator-notification-item> '])),this.hass,this.notification):(0,h.qy)(k||(k=(0,o.A)([' <persistent-notification-item .hass="','" .notification="','"></persistent-notification-item> '])),this.hass,this.notification):h.s6}}]}}),h.WF),n(),t.next=30;break;case 27:t.prev=27,t.t2=t.catch(0),n(t.t2);case 30:case"end":return t.stop()}}),t,null,[[0,27]])})));return function(i,e){return t.apply(this,arguments)}}())},86455:function(t,i,e){var n=e(22858).A,a=e(33994).A;e.a(t,function(){var t=n(a().mark((function t(i,n){var o,r,s,c,d,l,u,h,f,v,p,m,k,y,g;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=e(64599),r=e(35806),s=e(71008),c=e(62193),d=e(2816),l=e(27927),u=e(81027),e(72606),e(7986),h=e(50289),f=e(29818),v=e(8581),e(45649),p=e(13740),e(47408),!(m=i([v,p])).then){t.next=25;break}return t.next=21,m;case 21:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=26;break;case 25:t.t0=m;case 26:k=t.t0,v=k[0],p=k[1],(0,l.A)([(0,f.EM)("persistent-notification-item")],(function(t,i){var e=function(i){function e(){var i;(0,s.A)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=(0,c.A)(this,e,[].concat(a)),t(i),i}return(0,d.A)(e,i),(0,r.A)(e)}(i);return{F:e,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"notification",value:void 0},{kind:"method",key:"render",value:function(){return this.hass&&this.notification?(0,h.qy)(y||(y=(0,o.A)([' <notification-item-template> <span slot="header"> ',' </span> <ha-markdown breaks content="','"></ha-markdown> <div class="time"> <span> <ha-relative-time .hass="','" .datetime="','" capitalize></ha-relative-time> <simple-tooltip animation-delay="0"> ',' </simple-tooltip> </span> </div> <mwc-button slot="actions" @click="','">',"</mwc-button> </notification-item-template> "])),this.notification.title,this.notification.message,this.hass,this.notification.created_at,this._computeTooltip(this.hass,this.notification),this._handleDismiss,this.hass.localize("ui.card.persistent_notification.dismiss")):h.s6}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.AH)(g||(g=(0,o.A)([".time{display:flex;justify-content:flex-end;margin-top:6px}ha-relative-time{color:var(--secondary-text-color)}a{color:var(--primary-color)}ha-markdown{overflow-wrap:break-word}"])))}},{kind:"method",key:"_handleDismiss",value:function(){this.hass.callService("persistent_notification","dismiss",{notification_id:this.notification.notification_id})}},{kind:"method",key:"_computeTooltip",value:function(t,i){if(t&&i){var e=new Date(i.created_at);return(0,v.r6)(e,t.locale,t.config)}}}]}}),h.WF),n(),t.next=36;break;case 33:t.prev=33,t.t2=t.catch(0),n(t.t2);case 36:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(i,e){return t.apply(this,arguments)}}())}}]);
//# sourceMappingURL=36931.w6hjLij8jGQ.js.map