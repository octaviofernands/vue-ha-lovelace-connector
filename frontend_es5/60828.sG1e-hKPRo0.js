"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[60828],{60828:function(e,t,i){var a=i(22858).A,n=i(33994).A;i.a(e,function(){var e=a(n().mark((function e(a,r){var s,o,c,h,l,u,d,m,p,k,v,_,f,g,y,b,A,w,x,z,C;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i.r(t),s=i(64599),o=i(33994),c=i(22858),h=i(35806),l=i(71008),u=i(62193),d=i(2816),m=i(27927),p=i(81027),k=i(50693),v=i(79641),i(72606),_=i(50289),f=i(29818),g=i(34897),i(13292),y=i(29180),b=i(85288),i(24640),i(90431),A=i(55321),!(w=a([b])).then){e.next=34;break}return e.next=30,w;case 30:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=35;break;case 34:e.t0=w;case 35:b=e.t0[0],(0,m.A)([(0,f.EM)("dialog-category-registry-detail")],(function(e,t){var i,a,n=function(t){function i(){var t;(0,l.A)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=(0,u.A)(this,i,[].concat(n)),e(t),t}return(0,d.A)(i,t),(0,h.A)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_submitting",value:void 0},{kind:"method",key:"showDialog",value:(a=(0,c.A)((0,o.A)().mark((function e(t){return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._params=t,this._error=void 0,this._params.entry?(this._name=this._params.entry.name||"",this._icon=this._params.entry.icon||null):(this._name=this._params.suggestedName||"",this._icon=null),e.next=5,this.updateComplete;case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,g.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){if(!this._params)return _.s6;var e=this._params.entry,t=!this._isNameValid();return(0,_.qy)(x||(x=(0,s.A)([' <ha-dialog open @closed="','" .heading="','"> <div> ',' <div class="form"> <ha-textfield .value="','" @input="','" .label="','" .validationMessage="','" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="','" .value="','" @value-changed="','" .label="','"></ha-icon-picker> </div> </div> <mwc-button slot="secondaryAction" @click="','"> ',' </mwc-button> <mwc-button slot="primaryAction" @click="','" .disabled="','"> '," </mwc-button> </ha-dialog> "])),this.closeDialog,(0,y.l)(this.hass,e?this.hass.localize("ui.panel.config.category.editor.edit"):this.hass.localize("ui.panel.config.category.editor.create")),this._error?(0,_.qy)(z||(z=(0,s.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",this._name,this._nameChanged,this.hass.localize("ui.panel.config.category.editor.name"),this.hass.localize("ui.panel.config.category.editor.required_error_msg"),this.hass,this._icon,this._iconChanged,this.hass.localize("ui.panel.config.category.editor.icon"),this.closeDialog,this.hass.localize("ui.common.cancel"),this._updateEntry,t||this._submitting,e?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.add"))}},{kind:"method",key:"_isNameValid",value:function(){return""!==this._name.trim()}},{kind:"method",key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{kind:"method",key:"_iconChanged",value:function(e){this._error=void 0,this._icon=e.detail.value}},{kind:"method",key:"_updateEntry",value:(i=(0,c.A)((0,o.A)().mark((function e(){var t,i,a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!this._params.entry,this._submitting=!0,e.prev=2,a={name:this._name.trim(),icon:this._icon||(t?void 0:null)},!t){e.next=10;break}return e.next=7,this._params.createEntry(a);case 7:i=e.sent,e.next=13;break;case 10:return e.next=12,this._params.updateEntry(a);case 12:i=e.sent;case 13:this.closeDialog(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),this._error=e.t0.message||this.hass.localize("ui.panel.config.category.editor.unknown_error");case 19:return e.prev=19,this._submitting=!1,e.finish(19);case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,this,[[2,16,19,22]])}))),function(){return i.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[A.nA,(0,_.AH)(C||(C=(0,s.A)(["ha-icon-picker,ha-textfield{display:block;margin-bottom:16px}"])))]}}]}}),_.WF),r(),e.next=43;break;case 40:e.prev=40,e.t2=e.catch(0),r(e.t2);case 43:case"end":return e.stop()}}),e,null,[[0,40]])})));return function(t,i){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=60828.sG1e-hKPRo0.js.map