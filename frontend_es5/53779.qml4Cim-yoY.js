/*! For license information please see 53779.qml4Cim-yoY.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[53779],{57198:function(e,t,i){function a(e){return"strategy"in e}i.d(t,{R:function(){return a}})},57216:function(e,t,i){i.d(t,{A_:function(){return r},SJ:function(){return a},mQ:function(){return n},n6:function(){return s}});i(26098);var a=function(e){return e.callWS({type:"lovelace/dashboards/list"})},s=function(e,t){return e.callWS(Object.assign({type:"lovelace/dashboards/create"},t))},n=function(e,t,i){return e.callWS(Object.assign({type:"lovelace/dashboards/update",dashboard_id:t},i))},r=function(e,t){return e.callWS({type:"lovelace/dashboards/delete",dashboard_id:t})}},53779:function(e,t,i){i.r(t),i.d(t,{HuiDialogSelectView:function(){return j}});var a=i(33994),s=i(22858),n=i(64599),r=i(35806),o=i(71008),l=i(62193),c=i(2816),d=i(27927),h=(i(81027),i(97741),i(29193),i(39790),i(7760),i(253),i(16891),i(4525),i(72606),i(63893),i(67056),i(79192)),u=i(29818),f=i(43385),v=i(43389),_=i(35890),p=(i(12073),i(35351)),m=i(37749),g=(i(68365),function(e){function t(){return(0,o.A)(this,t),(0,l.A)(this,t,arguments)}return(0,c.A)(t,e),(0,r.A)(t)}(p.F));g.styles=[m.R],g=(0,h.__decorate)([(0,u.EM)("mwc-radio")],g);var k,w,y,b=i(50289),A=i(85323),x=i(10977),C=function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,l.A)(this,t,arguments)).left=!1,e.graphic="control",e._changeFromClick=!1,e}return(0,c.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e={"mdc-deprecated-list-item__graphic":this.left,"mdc-deprecated-list-item__meta":!this.left},t=this.renderText(),i=this.graphic&&"control"!==this.graphic&&!this.left?this.renderGraphic():(0,b.qy)(k||(k=(0,n.A)([""]))),a=this.hasMeta&&this.left?this.renderMeta():(0,b.qy)(w||(w=(0,n.A)([""]))),s=this.renderRipple();return(0,b.qy)(y||(y=(0,n.A)([" "," "," ",' <mwc-radio global class="','" tabindex="','" name="','" .checked="','" ?disabled="','" @checked="','"> </mwc-radio> '," ",""])),s,i,this.left?"":t,(0,A.H)(e),this.tabindex,(0,x.J)(null===this.group?void 0:this.group),this.selected,this.disabled,this.onChange,this.left?t:"",a)}},{key:"onClick",value:function(){this._changeFromClick=!0,(0,_.A)(t,"onClick",this,3)([])}},{key:"onChange",value:(i=(0,s.A)((0,a.A)().mark((function e(t){var i;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.target,this.selected===i.checked){e.next=9;break}return this._skipPropRequest=!0,this.selected=i.checked,e.next=7,this.updateComplete;case 7:this._skipPropRequest=!1,this._changeFromClick||this.fireRequestSelected(this.selected,"interaction");case 9:this._changeFromClick=!1;case 10:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}]);var i}(i(30116).J);(0,h.__decorate)([(0,u.P)("slot")],C.prototype,"slotElement",void 0),(0,h.__decorate)([(0,u.P)("mwc-radio")],C.prototype,"radioElement",void 0),(0,h.__decorate)([(0,u.MZ)({type:Boolean})],C.prototype,"left",void 0),(0,h.__decorate)([(0,u.MZ)({type:String,reflect:!0})],C.prototype,"graphic",void 0);var q=function(e){function t(){return(0,o.A)(this,t),(0,l.A)(this,t,arguments)}return(0,c.A)(t,e),(0,r.A)(t)}(C);q.styles=[v.R,f.R],q=(0,h.__decorate)([(0,u.EM)("mwc-radio-list-item")],q);var P,D,S,F,V,I,M,R=i(34897),z=i(79051),W=(i(13292),i(29180)),E=(i(33381),i(77312),i(50118)),J=i(57216),N=i(55321),H=i(57198),j=(0,d.A)([(0,u.EM)("hui-dialog-select-view")],(function(e,t){var i,d,h=function(t){function i(){var t;(0,o.A)(this,i);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return t=(0,l.A)(this,i,[].concat(s)),e(t),t}return(0,c.A)(i,t),(0,r.A)(i)}(t);return{F:h,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,u.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,u.wk)()],key:"_dashboards",value:function(){return[]}},{kind:"field",decorators:[(0,u.wk)()],key:"_urlPath",value:void 0},{kind:"field",decorators:[(0,u.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,u.wk)()],key:"_selectedViewIdx",value:function(){return 0}},{kind:"method",key:"showDialog",value:function(e){this._config=e.lovelaceConfig,this._urlPath=e.urlPath,this._params=e,this._params.allowDashboardChange&&this._getDashboards()}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,(0,R.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var e,t=this;return this._params?(0,b.qy)(P||(P=(0,n.A)([' <ha-dialog open @closed="','" .heading="','"> '," ",' <mwc-button slot="secondaryAction" @click="','" dialogInitialFocus> ',' </mwc-button> <mwc-button slot="primaryAction" .disabled="','" @click="','"> '," </mwc-button> </ha-dialog> "])),this.closeDialog,(0,W.l)(this.hass,this._params.header||this.hass.localize("ui.panel.lovelace.editor.select_view.header")),this._params.allowDashboardChange?(0,b.qy)(D||(D=(0,n.A)(['<ha-select .label="','" .disabled="','" .value="','" @selected="','" @closed="','" fixedMenuPosition naturalMenuWidth dialogInitialFocus> <mwc-list-item value="lovelace" .disabled="','"> Default </mwc-list-item> '," </ha-select>"])),this.hass.localize("ui.panel.lovelace.editor.select_view.dashboard_label"),!this._dashboards.length,this._urlPath||this.hass.defaultPanel,this._dashboardChanged,z.d,"yaml"===(null===(e=this.hass.panels.lovelace)||void 0===e||null===(e=e.config)||void 0===e?void 0:e.mode),this._dashboards.map((function(e){return!t.hass.user.is_admin&&e.require_admin?"":(0,b.qy)(S||(S=(0,n.A)([' <mwc-list-item .disabled="','" .value="','">',"</mwc-list-item> "])),"storage"!==e.mode,e.url_path,e.title)}))):"",!this._config||(this._config.views||[]).length<1?(0,b.qy)(F||(F=(0,n.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this.hass.localize(this._config?"ui.panel.lovelace.editor.select_view.no_views":"ui.panel.lovelace.editor.select_view.no_config")):this._config.views.length>1?(0,b.qy)(V||(V=(0,n.A)([" <mwc-list dialogInitialFocus> "," </mwc-list> "])),this._config.views.map((function(e,i){var a,s,r=(0,H.R)(e);return(0,b.qy)(I||(I=(0,n.A)([' <mwc-radio-list-item .graphic="','" @click="','" .value="','" .selected="','" .disabled="','"> <span> ',"",' </span> <ha-icon .icon="','" slot="graphic"></ha-icon> </mwc-radio-list-item> '])),null!==(a=t._config)&&void 0!==a&&a.views.some((function(e){return e.icon}))?"icon":b.s6,t._viewChanged,i.toString(),t._selectedViewIdx===i,r&&!(null!==(s=t._params)&&void 0!==s&&s.includeStrategyViews),e.title,r?" (".concat(t.hass.localize("ui.panel.lovelace.editor.select_view.strategy_type"),")"):b.s6,e.icon)}))):"",this.closeDialog,this.hass.localize("ui.common.cancel"),!this._config||(this._config.views||[]).length<1,this._selectView,this._params.actionLabel||this.hass.localize("ui.common.move")):b.s6}},{kind:"method",key:"_getDashboards",value:(d=(0,s.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._params.dashboards,e.t0){e.next=5;break}return e.next=4,(0,J.SJ)(this.hass);case 4:e.t0=e.sent;case 5:this._dashboards=e.t0;case 6:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{kind:"method",key:"_dashboardChanged",value:(i=(0,s.A)((0,a.A)().mark((function e(t){var i;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.target.value)!==this._urlPath){e.next=3;break}return e.abrupt("return");case 3:return"lovelace"===i&&(i=null),this._urlPath=i,this._selectedViewIdx=0,e.prev=6,e.next=9,(0,E.Dz)(this.hass.connection,i,!1);case 9:this._config=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),this._config=void 0;case 15:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return i.apply(this,arguments)})},{kind:"method",key:"_viewChanged",value:function(e){var t=Number(e.target.value);isNaN(t)||(this._selectedViewIdx=t)}},{kind:"method",key:"_selectView",value:function(){(0,R.r)(this,"view-selected",{view:this._selectedViewIdx}),this._params.viewSelectedCallback(this._urlPath,this._config,this._selectedViewIdx),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[N.nA,(0,b.AH)(M||(M=(0,n.A)(["ha-select{width:100%}mwc-radio-list-item{direction:ltr}"])))]}}]}}),b.WF)}}]);
//# sourceMappingURL=53779.qml4Cim-yoY.js.map