"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[93725],{93725:function(e,t,s){var n=s(22858).A,r=s(33994).A;s.a(e,function(){var e=n(r().mark((function e(n,i){var a,c,h,u,o,p,d,l,f,g,y,_,k,v,A,b,m,w,x,q,C,z,F,D,M,W,E,S,Z,j,B,H,N,R,T,U;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s.r(t),s.d(t,{EnergySetupWizard:function(){return U}}),a=s(33994),c=s(22858),h=s(64599),u=s(35806),o=s(71008),p=s(62193),d=s(2816),l=s(27927),f=s(81027),s(72606),g=s(50289),y=s(29818),_=s(34897),k=s(47076),v=s(6121),A=s(55321),b=s(42088),m=s(95005),w=s(97208),x=s(48039),q=s(77028),C=s(62206),!(z=n([k,b,m,w,x,q,C])).then){e.next=34;break}return e.next=30,z;case 30:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=35;break;case 34:e.t0=z;case 35:F=e.t0,k=F[0],b=F[1],m=F[2],w=F[3],x=F[4],q=F[5],C=F[6],U=(0,l.A)([(0,y.EM)("energy-setup-wizard-card")],(function(e,t){var s,n,r=function(t){function s(){var t;(0,o.A)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=(0,p.A)(this,s,[].concat(r)),e(t),t}return(0,d.A)(s,t),(0,u.A)(s)}(t);return{F:r,d:[{kind:"field",decorators:[(0,y.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,y.MZ)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,y.wk)()],key:"_info",value:void 0},{kind:"field",decorators:[(0,y.wk)()],key:"_step",value:function(){return 0}},{kind:"field",decorators:[(0,y.wk)()],key:"_preferences",value:function(){return{energy_sources:[],device_consumption:[]}}},{kind:"method",key:"getCardSize",value:function(){return 10}},{kind:"method",key:"setConfig",value:function(e){e.preferences&&(this._preferences=e.preferences)}},{kind:"method",key:"firstUpdated",value:function(){this.hass.loadFragmentTranslation("config"),this._fetchconfig()}},{kind:"method",key:"render",value:function(){return(0,g.qy)(D||(D=(0,h.A)([" <p> "," </p> ",' <div class="buttons"> '," "," </div> "])),this.hass.localize("ui.panel.energy.setup.step",{step:this._step+1,steps:6}),0===this._step?(0,g.qy)(M||(M=(0,h.A)(['<ha-energy-grid-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-grid-settings>'])),this.hass,this._preferences,this._prefsChanged):1===this._step?(0,g.qy)(W||(W=(0,h.A)(['<ha-energy-solar-settings .hass="','" .preferences="','" .info="','" @value-changed="','"></ha-energy-solar-settings>'])),this.hass,this._preferences,this._info,this._prefsChanged):2===this._step?(0,g.qy)(E||(E=(0,h.A)(['<ha-energy-battery-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-battery-settings>'])),this.hass,this._preferences,this._prefsChanged):3===this._step?(0,g.qy)(S||(S=(0,h.A)(['<ha-energy-gas-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-gas-settings>'])),this.hass,this._preferences,this._prefsChanged):4===this._step?(0,g.qy)(Z||(Z=(0,h.A)(['<ha-energy-water-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-water-settings>'])),this.hass,this._preferences,this._prefsChanged):(0,g.qy)(j||(j=(0,h.A)(['<ha-energy-device-settings .hass="','" .preferences="','" @value-changed="','"></ha-energy-device-settings>'])),this.hass,this._preferences,this._prefsChanged),this._step>0?(0,g.qy)(B||(B=(0,h.A)(['<mwc-button outlined @click="','">',"</mwc-button>"])),this._back,this.hass.localize("ui.panel.energy.setup.back")):(0,g.qy)(H||(H=(0,h.A)(["<div></div>"]))),this._step<4?(0,g.qy)(N||(N=(0,h.A)(['<mwc-button unelevated @click="','">',"</mwc-button>"])),this._next,this.hass.localize("ui.panel.energy.setup.next")):(0,g.qy)(R||(R=(0,h.A)(['<mwc-button unelevated @click="','"> '," </mwc-button>"])),this._setupDone,this.hass.localize("ui.panel.energy.setup.done")))}},{kind:"method",key:"_fetchconfig",value:(n=(0,c.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.BV)(this.hass);case 2:this._info=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"_prefsChanged",value:function(e){this._preferences=e.detail.value}},{kind:"method",key:"_back",value:function(){0!==this._step&&this._step--}},{kind:"method",key:"_next",value:function(){5!==this._step&&this._step++}},{kind:"method",key:"_setupDone",value:(s=(0,c.A)((0,a.A)().mark((function e(){return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._preferences){e.next=2;break}return e.abrupt("return");case 2:if(0!==this._preferences.device_consumption.length||0!==this._preferences.energy_sources.length){e.next=5;break}return(0,v.showAlertDialog)(this,{title:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_title"),text:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_description")}),e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,k.WN)(this.hass,this._preferences);case 8:this._preferences=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),(0,v.showAlertDialog)(this,{title:"Failed to save config: ".concat(e.t0.message)});case 14:(0,_.r)(this,"reload-energy-panel");case 15:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return s.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[A.RF,(0,g.AH)(T||(T=(0,h.A)([":host{display:block;padding:16px;max-width:700px;margin:0 auto}mwc-button{margin-top:8px}.buttons{display:flex;justify-content:space-between}"])))]}}]}}),g.WF),i(),e.next=50;break;case 47:e.prev=47,e.t2=e.catch(0),i(e.t2);case 50:case"end":return e.stop()}}),e,null,[[0,47]])})));return function(t,s){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=93725.O9dcx5xLYAU.js.map