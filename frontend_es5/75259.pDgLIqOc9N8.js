"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[75259],{75259:function(e,t,i){var n=i(22858).A,a=i(33994).A;i.a(e,function(){var e=n(a().mark((function e(n,r){var s,o,h,c,u,m,d,f,l,g,_,p,k,v,y,b,w,A,E,x,C,I,M,F,q,z,P,S,B;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i.r(t),s=i(64599),o=i(64782),h=i(33994),c=i(22858),u=i(35806),m=i(71008),d=i(62193),f=i(2816),l=i(27927),g=i(35890),_=i(71499),p=i(81027),k=i(95737),v=i(97741),y=i(39790),b=i(66457),w=i(99019),A=i(16891),E=i(96858),x=i(50289),C=i(29818),I=i(38962),M=i(213),i(13082),F=i(9755),q=i(18102),z=i(99280),!(P=n([z])).then){e.next=46;break}return e.next=42,P;case 42:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=47;break;case 46:e.t0=P;case 47:z=e.t0[0],(0,l.A)([(0,C.EM)("hui-picture-elements-card")],(function(e,t){var n,a=function(t){function i(){var t;(0,m.A)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=(0,d.A)(this,i,[].concat(a)),e(t),t}return(0,f.A)(i,t),(0,u.A)(i)}(t);return{F:a,d:[{kind:"method",static:!0,key:"getConfigElement",value:(n=(0,c.A)((0,h.A)().mark((function e(){return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.e(89053),i.e(70612),i.e(54581),i.e(85750)]).then(i.bind(i,85750));case 2:return e.abrupt("return",document.createElement("hui-picture-elements-card-editor"));case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"_elements",value:void 0},{kind:"method",static:!0,key:"getStubConfig",value:function(e,t,i){return{type:"picture-elements",elements:[{type:"state-badge",entity:(0,q.B)(e,1,t,i,["sensor","binary_sensor"])[0]||"",style:{top:"32%",left:"40%"}}],image:"https://demo.home-assistant.io/stub_config/floorplan.png"}}},{kind:"field",decorators:[(0,C.wk)()],key:"_config",value:void 0},{kind:"method",key:"getCardSize",value:function(){return 4}},{kind:"method",key:"setConfig",value:function(e){var t=this;if(!e)throw new Error("Invalid configuration");if(!(e.image||e.image_entity||e.camera_image||e.state_image)||e.state_image&&!e.entity)throw new Error("Image required");if(!Array.isArray(e.elements))throw new Error("Elements required");this._config=e,this._elements=e.elements.map((function(e){return t._createElement(e)}))}},{kind:"method",key:"updated",value:function(e){if((0,g.A)(a,"updated",this,3)([e]),this._config&&this.hass){if(this._elements&&e.has("hass")){var t,i=(0,o.A)(this._elements);try{for(i.s();!(t=i.n()).done;){t.value.hass=this.hass}}catch(s){i.e(s)}finally{i.f()}}var n=e.get("hass"),r=e.get("_config");n&&r&&n.themes===this.hass.themes&&r.theme===this._config.theme||(0,I.Q)(this,this.hass.themes,this._config.theme)}}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return x.s6;var e=this._config.image;if(this._config.image_entity){var t=this.hass.states[this._config.image_entity];switch((0,M.m)(this._config.image_entity)){case"image":e=(0,F.e)(t);break;case"person":t.attributes.entity_picture&&(e=t.attributes.entity_picture)}}return(0,x.qy)(S||(S=(0,s.A)([' <ha-card .header="','"> <div id="root"> <hui-image .hass="','" .image="','" .stateImage="','" .stateFilter="','" .cameraImage="','" .cameraView="','" .entity="','" .aspectRatio="','" .darkModeFilter="','" .darkModeImage="','"></hui-image> '," </div> </ha-card> "])),this._config.title,this.hass,e,this._config.state_image,this._config.state_filter,this._config.camera_image,this._config.camera_view,this._config.entity,this._config.aspect_ratio,this._config.dark_mode_filter,this._config.dark_mode_image,this._elements)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,x.AH)(B||(B=(0,s.A)(["#root{position:relative}.element{position:absolute;transform:translate(-50%,-50%)}ha-card{overflow:hidden;height:100%;box-sizing:border-box}"])))}},{kind:"method",key:"_createElement",value:function(e){var t=this,i=(0,z.M)(e);return this.hass&&(i.hass=this.hass),i.addEventListener("ll-rebuild",(function(n){n.stopPropagation(),t._rebuildElement(i,e)}),{once:!0}),i}},{kind:"method",key:"_rebuildElement",value:function(e,t){var i=this._createElement(t);e.parentElement&&e.parentElement.replaceChild(i,e),this._elements=this._elements.map((function(t){return t===e?i:t}))}}]}}),x.WF),r(),e.next=55;break;case 52:e.prev=52,e.t2=e.catch(0),r(e.t2);case 55:case"end":return e.stop()}}),e,null,[[0,52]])})));return function(t,i){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=75259.pDgLIqOc9N8.js.map