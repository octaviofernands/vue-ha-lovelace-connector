"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[75753],{14604:function(e,r,t){var n=t(22858).A,a=t(33994).A;t.a(e,function(){var e=n(a().mark((function e(n,o){var c,s,i,u,l,g,y,d,p,h,_,f,v,b,k,w,m,A,z,x,M,D,F,C;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.r(r),t.d(r,{EnergyViewStrategy:function(){return C}}),c=t(35806),s=t(71008),i=t(62193),u=t(2816),l=t(27927),g=t(33994),y=t(22858),d=t(81027),p=t(44124),h=t(95737),_=t(89655),f=t(39790),v=t(66457),b=t(99019),k=t(253),w=t(94438),m=t(4525),A=t(96858),z=t(50289),x=t(29818),M=t(47076),!(D=n([M])).then){e.next=43;break}return e.next=39,D;case 39:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=44;break;case 43:e.t0=D;case 44:M=e.t0[0],F=function(){var e=(0,y.A)((0,g.A)().mark((function e(){return(0,g.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(58587),t.e(93725)]).then(t.bind(t,93725));case 2:return e.abrupt("return",{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=(0,l.A)([(0,x.EM)("energy-view-strategy")],(function(e,r){var t,n=function(r){function t(){var r;(0,s.A)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=(0,i.A)(this,t,[].concat(a)),e(r),r}return(0,u.A)(t,r),(0,c.A)(t)}(r);return{F:n,d:[{kind:"method",static:!0,key:"generate",value:(t=(0,y.A)((0,g.A)().mark((function e(r,t){var n,a,o,c,s,i,u;return(0,g.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={cards:[]},e.prev=1,e.next=4,(0,M.bs)(t);case 4:a=e.sent,e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),"not_found"!==e.t0.code){e.next=11;break}return e.abrupt("return",F());case 11:return n.cards.push({type:"markdown",content:"An error occurred while fetching your energy preferences: ".concat(e.t0.message,".")}),e.abrupt("return",n);case 13:if(0!==a.device_consumption.length||0!==a.energy_sources.length){e.next=15;break}return e.abrupt("return",F());case 15:return n.type="sidebar",o=a.energy_sources.find((function(e){var r,t;return"grid"===e.type&&((null===(r=e.flow_from)||void 0===r?void 0:r.length)||(null===(t=e.flow_to)||void 0===t?void 0:t.length))})),c=o&&o.flow_to.length,s=a.energy_sources.some((function(e){return"solar"===e.type})),i=a.energy_sources.some((function(e){return"gas"===e.type})),u=a.energy_sources.some((function(e){return"water"===e.type})),n.cards.push({type:"energy-compare",collection_key:"energy_dashboard"}),o&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_usage_graph_title"),type:"energy-usage-graph",collection_key:"energy_dashboard"}),s&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_solar_graph_title"),type:"energy-solar-graph",collection_key:"energy_dashboard"}),i&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_gas_graph_title"),type:"energy-gas-graph",collection_key:"energy_dashboard"}),u&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_water_graph_title"),type:"energy-water-graph",collection_key:"energy_dashboard"}),o&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_distribution_title"),type:"energy-distribution",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),(o||s||i||u)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_sources_table_title"),type:"energy-sources-table",collection_key:"energy_dashboard"}),c&&n.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),s&&c&&(n.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),n.cards.push({type:"energy-self-sufficiency-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"})),o&&n.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),a.device_consumption.length&&(n.cards.push({title:t.localize("ui.panel.energy.cards.energy_devices_detail_graph_title"),type:"energy-devices-detail-graph",collection_key:"energy_dashboard"}),n.cards.push({title:t.localize("ui.panel.energy.cards.energy_devices_graph_title"),type:"energy-devices-graph",collection_key:"energy_dashboard"})),e.abrupt("return",n);case 33:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(e,r){return t.apply(this,arguments)})}]}}),z.mN),o(),e.next=53;break;case 50:e.prev=50,e.t2=e.catch(0),o(e.t2);case 53:case"end":return e.stop()}}),e,null,[[0,50]])})));return function(r,t){return e.apply(this,arguments)}}())},24226:function(e,r,t){t.d(r,{z:function(){return a}});var n=t(30429);function a(e,r){var t=(0,n.a)(e),a=(0,n.a)(r),o=t.getTime()-a.getTime();return o<0?-1:o>0?1:o}},72730:function(e,r,t){t.d(r,{W:function(){return s}});t(29193);var n=t(24226),a=t(30429);function o(e,r){var t=(0,a.a)(e),n=(0,a.a)(r);return 12*(t.getFullYear()-n.getFullYear())+(t.getMonth()-n.getMonth())}var c=t(91103);function s(e,r){var t,s=(0,a.a)(e),i=(0,a.a)(r),u=(0,n.z)(s,i),l=Math.abs(o(s,i));if(l<1)t=0;else{1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*l);var g=(0,n.z)(s,i)===-u;(0,c.c)((0,a.a)(e))&&1===l&&1===(0,n.z)(e,i)&&(g=!1),t=u*(l-Number(g))}return 0===t?0:t}},77301:function(e,r,t){t.d(r,{e:function(){return a}});var n=t(30429);function a(e){return 1===(0,n.a)(e).getDate()}},91103:function(e,r,t){t.d(r,{c:function(){return c}});var n=t(60132),a=t(12152),o=t(30429);function c(e){var r=(0,o.a)(e);return+(0,n.D)(r)==+(0,a.p)(r)}}}]);
//# sourceMappingURL=75753.vJkXFPDHzk8.js.map