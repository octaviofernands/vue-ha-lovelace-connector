"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[4792],{77153:function(e,t,a){var i=a(22858).A,n=a(33994).A;a.a(e,function(){var e=i(n().mark((function e(t,i){var o,r,c,l,s,u,d,h,v,f,p,g,m,k,_,y,b,A,q,j,x,Y,w,C,z,O,M,I,P,V,L,F,Z,K;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=a(14842),r=a(64599),c=a(35806),l=a(71008),s=a(62193),u=a(2816),d=a(27927),h=a(35890),v=a(81027),f=a(97741),p=a(50693),g=a(26098),m=a(16891),k=a(50289),_=a(29818),y=a(94100),b=a(34897),A=a(79051),q=a(12609),a(77661),j=a(76141),x=a(95113),!(Y=t([q,j,x])).then){e.next=36;break}return e.next=32,Y;case 32:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=37;break;case 36:e.t0=Y;case 37:w=e.t0,q=w[0],j=w[1],x=w[2],F=["more-info","toggle","navigate","url","perform-action","assist","none"],Z=[{name:"navigation_path",selector:{navigation:{}}}],K=[{type:"grid",name:"",schema:[{name:"pipeline_id",selector:{assist_pipeline:{include_last_used:!0}}},{name:"start_listening",selector:{boolean:{}}}]}],(0,d.A)([(0,_.EM)("hui-action-editor")],(function(e,t){var a=function(t){function a(){var t;(0,l.A)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=(0,s.A)(this,a,[].concat(n)),e(t),t}return(0,u.A)(a,t),(0,c.A)(a)}(t);return{F:a,d:[{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,_.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"actions",value:void 0},{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"defaultAction",value:void 0},{kind:"field",decorators:[(0,_.MZ)()],key:"tooltipText",value:void 0},{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,_.P)("ha-select")],key:"_select",value:void 0},{kind:"get",key:"_navigation_path",value:function(){var e=this.config;return(null==e?void 0:e.navigation_path)||""}},{kind:"get",key:"_url_path",value:function(){var e=this.config;return(null==e?void 0:e.url_path)||""}},{kind:"get",key:"_service",value:function(){var e=this.config;return(null==e?void 0:e.perform_action)||(null==e?void 0:e.service)||""}},{kind:"field",key:"_serviceAction",value:function(){var e=this;return(0,y.A)((function(t){var a;return Object.assign(Object.assign({action:e._service},t.data||t.service_data?{data:null!==(a=t.data)&&void 0!==a?a:t.service_data}:null),{},{target:t.target})}))}},{kind:"method",key:"updated",value:function(e){(0,h.A)(a,"updated",this,3)([e]),e.has("defaultAction")&&e.get("defaultAction")!==this.defaultAction&&this._select.layoutOptions()}},{kind:"method",key:"render",value:function(){var e,t,a,i,n,o,c,l,s=this;if(!this.hass)return k.s6;var u=null!==(e=this.actions)&&void 0!==e?e:F,d=(null===(t=this.config)||void 0===t?void 0:t.action)||"default";return"call-service"===d&&(d="perform-action"),(0,k.qy)(C||(C=(0,r.A)([' <div class="dropdown"> <ha-select .label="','" .configValue="','" @selected="','" .value="','" @closed="','" fixedMenuPosition naturalMenuWidt> <mwc-list-item value="default"> '," "," </mwc-list-item> "," </ha-select> "," </div> "," "," "," "," "])),this.label,"action",this._actionPicked,d,A.d,this.hass.localize("ui.panel.lovelace.editor.action-editor.actions.default_action"),this.defaultAction?" (".concat(this.hass.localize("ui.panel.lovelace.editor.action-editor.actions.".concat(this.defaultAction)).toLowerCase(),")"):k.s6,u.map((function(e){return(0,k.qy)(z||(z=(0,r.A)([' <mwc-list-item .value="','"> '," </mwc-list-item> "])),e,s.hass.localize("ui.panel.lovelace.editor.action-editor.actions.".concat(e)))})),this.tooltipText?(0,k.qy)(O||(O=(0,r.A)([' <ha-help-tooltip .label="','"></ha-help-tooltip> '])),this.tooltipText):k.s6,"navigate"===(null===(a=this.config)||void 0===a?void 0:a.action)?(0,k.qy)(M||(M=(0,r.A)([' <ha-form .hass="','" .schema="','" .data="','" .computeLabel="','" @value-changed="','"> </ha-form> '])),this.hass,Z,this.config,this._computeFormLabel,this._formValueChanged):k.s6,"url"===(null===(i=this.config)||void 0===i?void 0:i.action)?(0,k.qy)(I||(I=(0,r.A)([' <ha-textfield .label="','" .value="','" .configValue="','" @input="','"></ha-textfield> '])),this.hass.localize("ui.panel.lovelace.editor.action-editor.url_path"),this._url_path,"url_path",this._valueChanged):k.s6,"call-service"===(null===(n=this.config)||void 0===n?void 0:n.action)||"perform-action"===(null===(o=this.config)||void 0===o?void 0:o.action)?(0,k.qy)(P||(P=(0,r.A)([' <ha-service-control .hass="','" .value="','" .showAdvanced="','" narrow @value-changed="','"></ha-service-control> '])),this.hass,this._serviceAction(this.config),null===(c=this.hass.userData)||void 0===c?void 0:c.showAdvanced,this._serviceValueChanged):k.s6,"assist"===(null===(l=this.config)||void 0===l?void 0:l.action)?(0,k.qy)(V||(V=(0,r.A)([' <ha-form .hass="','" .schema="','" .data="','" .computeLabel="','" @value-changed="','"> </ha-form> '])),this.hass,K,this.config,this._computeFormLabel,this._formValueChanged):k.s6)}},{kind:"method",key:"_actionPicked",value:function(e){var t;if(e.stopPropagation(),this.hass){var a=null===(t=this.config)||void 0===t?void 0:t.action;"call-service"===a&&(a="perform-action");var i=e.target.value;if(a!==i)if("default"!==i){var n;switch(i){case"url":n={url_path:this._url_path};break;case"perform-action":n={perform_action:this._service};break;case"navigate":n={navigation_path:this._navigation_path}}(0,b.r)(this,"value-changed",{value:Object.assign({action:i},n)})}else(0,b.r)(this,"value-changed",{value:void 0})}}},{kind:"method",key:"_valueChanged",value:function(e){var t;if(e.stopPropagation(),this.hass){var a=e.target,i=null!==(t=e.target.value)&&void 0!==t?t:e.target.checked;this["_".concat(a.configValue)]!==i&&a.configValue&&(0,b.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},(0,o.A)({},a.configValue,i))})}}},{kind:"method",key:"_formValueChanged",value:function(e){e.stopPropagation();var t=e.detail.value;(0,b.r)(this,"value-changed",{value:t})}},{kind:"method",key:"_computeFormLabel",value:function(e){var t;return null===(t=this.hass)||void 0===t?void 0:t.localize("ui.panel.lovelace.editor.action-editor.".concat(e.name))}},{kind:"method",key:"_serviceValueChanged",value:function(e){e.stopPropagation();var t=Object.assign(Object.assign({},this.config),{},{action:"perform-action",perform_action:e.detail.value.action||"",data:e.detail.value.data,target:e.detail.value.target||{}});e.detail.value.data||delete t.data,"service_data"in t&&delete t.service_data,"service"in t&&delete t.service,(0,b.r)(this,"value-changed",{value:t})}},{kind:"get",static:!0,key:"styles",value:function(){return(0,k.AH)(L||(L=(0,r.A)([".dropdown{position:relative}ha-help-tooltip{position:absolute;right:40px;top:16px;inset-inline-start:initial;inset-inline-end:40px;direction:var(--direction)}ha-select,ha-textfield{width:100%}ha-form,ha-navigation-picker,ha-service-control{display:block}ha-form,ha-navigation-picker,ha-service-control,ha-textfield{margin-top:8px}ha-service-control{--service-control-padding:0}ha-formfield{display:flex;height:56px;align-items:center;--mdc-typography-body2-font-size:1em}"])))}}]}}),k.WF),i(),e.next=51;break;case 48:e.prev=48,e.t2=e.catch(0),i(e.t2);case 51:case"end":return e.stop()}}),e,null,[[0,48]])})));return function(t,a){return e.apply(this,arguments)}}())},4792:function(e,t,a){var i=a(22858).A,n=a(33994).A;a.a(e,function(){var e=i(n().mark((function e(i,o){var r,c,l,s,u,d,h,v,f,p,g,m,k,_,y,b,A,q,j,x;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.r(t),a.d(t,{HuiPictureCardEditor:function(){return x}}),r=a(64599),c=a(35806),l=a(71008),s=a(62193),u=a(2816),d=a(27927),h=a(81027),v=a(50693),f=a(50289),p=a(29818),g=a(66419),m=a(34897),a(52426),k=a(77153),_=a(76914),y=a(56124),!(b=i([k])).then){e.next=29;break}return e.next=25,b;case 25:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=30;break;case 29:e.t0=b;case 30:k=e.t0[0],q=(0,g.kp)(y.H,(0,g.Ik)({image:(0,g.lq)((0,g.Yj)()),image_entity:(0,g.lq)((0,g.Yj)()),tap_action:(0,g.lq)(_.k),hold_action:(0,g.lq)(_.k),theme:(0,g.lq)((0,g.Yj)()),alt_text:(0,g.lq)((0,g.Yj)())})),j=[{name:"image",selector:{image:{}}},{name:"image_entity",selector:{entity:{domain:["image","person"]}}},{name:"alt_text",selector:{text:{}}},{name:"theme",selector:{theme:{}}},{name:"tap_action",selector:{ui_action:{}}},{name:"hold_action",selector:{ui_action:{}}}],x=(0,d.A)([(0,p.EM)("hui-picture-card-editor")],(function(e,t){var a=function(t){function a(){var t;(0,l.A)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=(0,s.A)(this,a,[].concat(n)),e(t),t}return(0,u.A)(a,t),(0,c.A)(a)}(t);return{F:a,d:[{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){(0,g.vA)(e,q),this._config=e}},{kind:"method",key:"render",value:function(){return this.hass&&this._config?(0,f.qy)(A||(A=(0,r.A)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> '])),this.hass,this._config,j,this._computeLabelCallback,this._valueChanged):f.s6}},{kind:"method",key:"_valueChanged",value:function(e){(0,m.r)(this,"config-changed",{config:e.detail.value})}},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(t){return"theme"===t.name?"".concat(e.hass.localize("ui.panel.lovelace.editor.card.generic.theme")," (").concat(e.hass.localize("ui.panel.lovelace.editor.card.config.optional"),")"):e.hass.localize("ui.panel.lovelace.editor.card.picture-card.".concat(t.name))||e.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(t.name))}}}]}}),f.WF),o(),e.next=40;break;case 37:e.prev=37,e.t2=e.catch(0),o(e.t2);case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,a){return e.apply(this,arguments)}}())},76914:function(e,t,a){a.d(t,{k:function(){return h}});var i=a(91001),n=a(66419),o=(0,n.Ik)({user:(0,n.Yj)()}),r=(0,n.KC)([(0,n.zM)(),(0,n.Ik)({text:(0,n.lq)((0,n.Yj)()),excemptions:(0,n.lq)((0,n.YO)(o))})]),c=(0,n.Ik)({action:(0,n.eu)("url"),url_path:(0,n.Yj)(),confirmation:(0,n.lq)(r)}),l=(0,n.Ik)({action:(0,n.vP)(["call-service","perform-action"]),service:(0,n.lq)((0,n.Yj)()),perform_action:(0,n.lq)((0,n.Yj)()),service_data:(0,n.lq)((0,n.Ik)()),data:(0,n.lq)((0,n.Ik)()),target:(0,n.lq)((0,n.Ik)({entity_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())])),device_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())])),area_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())])),floor_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())])),label_id:(0,n.lq)((0,n.KC)([(0,n.Yj)(),(0,n.YO)((0,n.Yj)())]))})),confirmation:(0,n.lq)(r)}),s=(0,n.Ik)({action:(0,n.eu)("navigate"),navigation_path:(0,n.Yj)(),navigation_replace:(0,n.lq)((0,n.zM)()),confirmation:(0,n.lq)(r)}),u=(0,n.NW)({action:(0,n.eu)("assist"),pipeline_id:(0,n.lq)((0,n.Yj)()),start_listening:(0,n.lq)((0,n.zM)())}),d=(0,n.Ik)({action:(0,n.vP)(["none","toggle","more-info","call-service","perform-action","url","navigate","assist"]),confirmation:(0,n.lq)(r)}),h=(0,n.OR)((function(e){if(e&&"object"===(0,i.A)(e)&&"action"in e)switch(e.action){case"call-service":case"perform-action":return l;case"navigate":return s;case"url":return c;case"assist":return u}return d}))},56124:function(e,t,a){a.d(t,{H:function(){return n}});var i=a(66419),n=(0,i.Ik)({type:(0,i.Yj)(),view_layout:(0,i.bz)(),layout_options:(0,i.bz)(),visibility:(0,i.bz)()})}}]);
//# sourceMappingURL=4792.kVQptqLOeBw.js.map