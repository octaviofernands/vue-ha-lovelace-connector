"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[74247],{74247:function(i,e,a){var t=a(22858).A,n=a(33994).A;a.a(i,function(){var i=t(n().mark((function i(t,o){var s,r,c,l,h,d,u,p,m,f,g,_,k,v,w,y,b,A,x,C,D,z;return n().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,a.r(e),s=a(64599),r=a(35806),c=a(71008),l=a(62193),h=a(2816),d=a(27927),u=a(42942),p=a(48062),m=a(81027),f=a(50693),g=a(26098),a(72606),_=a(50289),k=a(29818),v=a(34897),a(13292),w=a(29180),a(59400),y=a(85288),a(45920),a(90431),b=a(55321),!(A=t([y])).then){i.next=37;break}return i.next=33,A;case 33:i.t1=i.sent,i.t0=(0,i.t1)(),i.next=38;break;case 37:i.t0=A;case 38:y=i.t0[0],(0,d.A)([(0,k.EM)("ha-dialog-automation-rename")],(function(i,e){var a=function(e){function a(){var e;(0,c.A)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=(0,l.A)(this,a,[].concat(n)),i(e),e}return(0,h.A)(a,e),(0,r.A)(a)}(e);return{F:a,d:[{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.wk)()],key:"_opened",value:function(){return!1}},{kind:"field",decorators:[(0,k.wk)()],key:"_error",value:void 0},{kind:"field",key:"_params",value:void 0},{kind:"field",key:"_newName",value:void 0},{kind:"field",key:"_newIcon",value:void 0},{kind:"field",key:"_newDescription",value:void 0},{kind:"method",key:"showDialog",value:function(i){this._opened=!0,this._params=i,this._newIcon="icon"in i.config?i.config.icon:void 0,this._newName=i.config.alias||this.hass.localize("ui.panel.config.automation.editor.default_name"),this._newDescription=i.config.description||""}},{kind:"method",key:"closeDialog",value:function(){this._params.onClose(),this._opened&&(0,v.r)(this,"dialog-closed",{dialog:this.localName}),this._opened=!1}},{kind:"method",key:"render",value:function(){return this._opened?(0,_.qy)(x||(x=(0,s.A)([' <ha-dialog open scrimClickAction @closed="','" .heading="','"> ',' <ha-textfield dialogInitialFocus .value="','" .placeholder="','" .label="','" required type="string" @input="','"></ha-textfield> ',' <ha-textarea .label="','" .placeholder="','" name="description" autogrow .value="','" @input="','"></ha-textarea> <mwc-button @click="','" slot="secondaryAction"> ',' </mwc-button> <mwc-button @click="','" slot="primaryAction"> '," </mwc-button> </ha-dialog> "])),this.closeDialog,(0,w.l)(this.hass,this.hass.localize(this._params.config.alias?"ui.panel.config.automation.editor.rename":"ui.panel.config.automation.editor.save")),this._error?(0,_.qy)(C||(C=(0,s.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this.hass.localize("ui.panel.config.automation.editor.missing_name")):"",this._newName,this.hass.localize("ui.panel.config.automation.editor.default_name"),this.hass.localize("ui.panel.config.automation.editor.alias"),this._valueChanged,"script"===this._params.domain?(0,_.qy)(D||(D=(0,s.A)([' <ha-icon-picker .hass="','" .label="','" .value="','" @value-changed="','"> <ha-domain-icon slot="fallback" domain="','" .hass="','"> </ha-domain-icon> </ha-icon-picker> '])),this.hass,this.hass.localize("ui.panel.config.automation.editor.icon"),this._newIcon,this._iconChanged,this._params.domain,this.hass):_.s6,this.hass.localize("ui.panel.config.automation.editor.description.label"),this.hass.localize("ui.panel.config.automation.editor.description.placeholder"),this._newDescription,this._valueChanged,this.closeDialog,this.hass.localize("ui.dialogs.generic.cancel"),this._save,this.hass.localize(this._params.config.alias?"ui.panel.config.automation.editor.rename":"ui.panel.config.automation.editor.save")):_.s6}},{kind:"method",key:"_iconChanged",value:function(i){i.stopPropagation(),this._newIcon=i.detail.value||void 0}},{kind:"method",key:"_valueChanged",value:function(i){i.stopPropagation();var e=i.target;"description"===e.name?this._newDescription=e.value:this._newName=e.value}},{kind:"method",key:"_save",value:function(){this._newName?("script"===this._params.domain?this._params.updateConfig(Object.assign(Object.assign({},this._params.config),{},{alias:this._newName,description:this._newDescription,icon:this._newIcon})):this._params.updateConfig(Object.assign(Object.assign({},this._params.config),{},{alias:this._newName,description:this._newDescription})),this.closeDialog()):this._error="Name is required"}},{kind:"get",static:!0,key:"styles",value:function(){return[b.RF,b.nA,(0,_.AH)(z||(z=(0,s.A)(["ha-icon-picker,ha-textarea,ha-textfield{display:block}ha-icon-picker{margin-top:16px}ha-alert{display:block;margin-bottom:16px}"])))]}}]}}),_.WF),o(),i.next=46;break;case 43:i.prev=43,i.t2=i.catch(0),o(i.t2);case 46:case"end":return i.stop()}}),i,null,[[0,43]])})));return function(e,a){return i.apply(this,arguments)}}())}}]);
//# sourceMappingURL=74247.vUqlR1qXmRg.js.map