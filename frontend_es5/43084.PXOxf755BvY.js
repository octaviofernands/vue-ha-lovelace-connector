"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[43084],{43084:function(e,i,n){n.r(i),n.d(i,{DialogDataTableSettings:function(){return H}});var t,a,o,l,s=n(658),d=n(41981),r=n(64599),u=n(35806),c=n(71008),h=n(62193),m=n(2816),f=n(27927),p=(n(81027),n(13025),n(82386),n(39805),n(97741),n(89655),n(46469),n(33231),n(97099),n(54774),n(26098),n(99471),n(10507),n(39790),n(36604),n(253),n(2075),n(54846),n(16891),n(37679),n(66555),n(63893),n(50289)),v=n(29818),g=n(85323),_=n(66066),k=n(94100),b=n(55321),y=n(29180),C=(n(13830),n(24260),n(77372),n(34897)),H=(0,f.A)([(0,v.EM)("dialog-data-table-settings")],(function(e,i){var n=function(i){function n(){var i;(0,c.A)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=(0,h.A)(this,n,[].concat(a)),e(i),i}return(0,m.A)(n,i),(0,u.A)(n)}(i);return{F:n,d:[{kind:"field",decorators:[(0,v.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,v.wk)()],key:"_columnOrder",value:void 0},{kind:"field",decorators:[(0,v.wk)()],key:"_hiddenColumns",value:void 0},{kind:"method",key:"showDialog",value:function(e){this._params=e,this._columnOrder=e.columnOrder,this._hiddenColumns=e.hiddenColumns}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,(0,C.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"field",key:"_sortedColumns",value:function(){return(0,k.A)((function(e,i,n){return Object.keys(e).filter((function(i){return!e[i].hidden})).sort((function(t,a){var o,l,s,d,r=null!==(o=null==i?void 0:i.indexOf(t))&&void 0!==o?o:-1,u=null!==(l=null==i?void 0:i.indexOf(a))&&void 0!==l?l:-1,c=null!==(s=null==n?void 0:n.includes(t))&&void 0!==s?s:Boolean(e[t].defaultHidden);if(c!==(null!==(d=null==n?void 0:n.includes(a))&&void 0!==d?d:Boolean(e[a].defaultHidden)))return c?1:-1;if(r!==u){if(-1===r)return 1;if(-1===u)return-1}return r-u})).reduce((function(i,n){return i.push(Object.assign({key:n},e[n])),i}),[])}))}},{kind:"method",key:"render",value:function(){var e=this;if(!this._params)return p.s6;var i=this._params.localizeFunc||this.hass.localize,n=this._sortedColumns(this._params.columns,this._columnOrder,this._hiddenColumns);return(0,p.qy)(t||(t=(0,r.A)([' <ha-dialog open @closed="','" .heading="','"> <ha-sortable @item-moved="','" draggable-selector=".draggable" handle-selector=".handle"> <mwc-list> ',' </mwc-list> </ha-sortable> <ha-button slot="secondaryAction" @click="','">','</ha-button> <ha-button slot="primaryAction" @click="','"> '," </ha-button> </ha-dialog> "])),this.closeDialog,(0,y.l)(this.hass,i("ui.components.data-table.settings.header")),this._columnMoved,(0,_.u)(n,(function(e){return e.key}),(function(i,n){var t,l,s=!i.main&&!1!==i.moveable,d=!i.main&&!1!==i.hideable,u=!(e._columnOrder&&e._columnOrder.includes(i.key)&&null!==(t=null===(l=e._hiddenColumns)||void 0===l?void 0:l.includes(i.key))&&void 0!==t?t:i.defaultHidden);return(0,p.qy)(a||(a=(0,r.A)(['<ha-list-item hasMeta class="','" graphic="icon" noninteractive>'," ",' <ha-icon-button tabindex="0" class="action" .disabled="','" .hidden="','" .path="','" slot="meta" .label="','" .column="','" @click="','"></ha-icon-button> </ha-list-item>'])),(0,g.H)({hidden:!u,draggable:s&&u}),i.title||i.label||i.key,s&&u?(0,p.qy)(o||(o=(0,r.A)(['<ha-svg-icon class="handle" .path="','" slot="graphic"></ha-svg-icon>'])),"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"):p.s6,!d,!u,u?"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z":"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",e.hass.localize("ui.components.data-table.settings.".concat(u?"hide":"show"),{title:"string"==typeof i.title?i.title:""}),i.key,e._toggle)})),this._reset,i("ui.components.data-table.settings.restore"),this.closeDialog,i("ui.components.data-table.settings.done"))}},{kind:"method",key:"_columnMoved",value:function(e){if(e.stopPropagation(),this._params){var i=e.detail,n=i.oldIndex,t=i.newIndex,a=this._sortedColumns(this._params.columns,this._columnOrder,this._hiddenColumns).map((function(e){return e.key})),o=a.splice(n,1)[0];a.splice(t,0,o),this._columnOrder=a,this._params.onUpdate(this._columnOrder,this._hiddenColumns)}}},{kind:"method",key:"_toggle",value:function(e){var i,n=this;if(this._params){var t=e.target.column,a=e.target.hidden,o=(0,d.A)(null!==(i=this._hiddenColumns)&&void 0!==i?i:Object.entries(this._params.columns).filter((function(e){var i=(0,s.A)(e,2);i[0];return i[1].defaultHidden})).map((function(e){return(0,s.A)(e,1)[0]})));a&&o.includes(t)?o.splice(o.indexOf(t),1):a||o.push(t);var l=this._sortedColumns(this._params.columns,this._columnOrder,o);if(this._columnOrder){var r=this._columnOrder.filter((function(e){return e!==t})),u=function(e,i){for(var n=e.length-1;n>=0;n--)if(i(e[n],n,e))return n;return-1}(r,(function(e){return e!==t&&!o.includes(e)&&!n._params.columns[e].main&&!1!==n._params.columns[e].moveable}));-1===u&&(u=r.length-1),l.forEach((function(e){r.includes(e.key)||(!1===e.moveable?r.unshift(e.key):r.splice(u+1,0,e.key),e.key!==t&&e.defaultHidden&&!o.includes(e.key)&&o.push(e.key))})),this._columnOrder=r}else this._columnOrder=l.map((function(e){return e.key}));this._hiddenColumns=o,this._params.onUpdate(this._columnOrder,this._hiddenColumns)}}},{kind:"method",key:"_reset",value:function(){this._columnOrder=void 0,this._hiddenColumns=void 0,this._params.onUpdate(this._columnOrder,this._hiddenColumns),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[b.nA,(0,p.AH)(l||(l=(0,r.A)(["ha-dialog{--mdc-dialog-max-width:500px;--dialog-z-index:10;--dialog-content-padding:0 8px}@media all and (max-width:451px){ha-dialog{--vertical-align-dialog:flex-start;--dialog-surface-margin-top:250px;--ha-dialog-border-radius:28px 28px 0 0;--mdc-dialog-min-height:calc(100% - 250px);--mdc-dialog-max-height:calc(100% - 250px)}}ha-list-item{--mdc-list-side-padding:12px;overflow:visible}.hidden{color:var(--disabled-text-color)}.handle{cursor:move;cursor:grab}.actions{display:flex;flex-direction:row}ha-icon-button{display:block;margin:-12px}"])))]}}]}}),p.WF)}}]);
//# sourceMappingURL=43084.PXOxf755BvY.js.map