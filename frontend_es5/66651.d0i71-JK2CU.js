"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[66651],{89032:function(i,e,t){t.r(e);var s,n,a,o,r,l=t(64599),d=t(33994),c=t(22858),h=t(35806),_=t(71008),u=t(62193),p=t(2816),g=t(27927),m=(t(81027),t(72606),t(50289)),y=t(29818),f=t(34897),b=(t(29180),t(24284),t(60203),t(31265)),k=t(55321),v=t(6121);(0,g.A)([(0,y.EM)("dialog-config-entry-system-options")],(function(i,e){var t,g,w=function(e){function t(){var e;(0,_.A)(this,t);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=(0,u.A)(this,t,[].concat(n)),i(e),e}return(0,p.A)(t,e),(0,h.A)(t)}(e);return{F:w,d:[{kind:"field",decorators:[(0,y.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,y.wk)()],key:"_disableNewEntities",value:void 0},{kind:"field",decorators:[(0,y.wk)()],key:"_disablePolling",value:void 0},{kind:"field",decorators:[(0,y.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,y.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,y.wk)()],key:"_submitting",value:function(){return!1}},{kind:"method",key:"showDialog",value:(g=(0,c.A)((0,d.A)().mark((function i(e){return(0,d.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this._params=e,this._error=void 0,this._disableNewEntities=e.entry.pref_disable_new_entities,this._disablePolling=e.entry.pref_disable_polling;case 4:case"end":return i.stop()}}),i,this)}))),function(i){return g.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,f.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return this._params?(0,m.qy)(s||(s=(0,l.A)([' <ha-dialog open @closed="','" .heading="','"> ',' <ha-formfield .label="','"> <ha-switch .checked="','" @change="','" .disabled="','" dialogInitialFocus></ha-switch> </ha-formfield> <ha-formfield .label="','"> <ha-switch .checked="','" @change="','" .disabled="','"></ha-switch> </ha-formfield> <mwc-button slot="secondaryAction" @click="','" .disabled="','"> ',' </mwc-button> <mwc-button slot="primaryAction" @click="','" .disabled="','"> '," </mwc-button> </ha-dialog> "])),this.closeDialog,this.hass.localize("ui.dialogs.config_entry_system_options.title",{integration:this.hass.localize("component.".concat(this._params.entry.domain,".title"))||this._params.entry.domain}),this._error?(0,m.qy)(n||(n=(0,l.A)([' <div class="error">',"</div> "])),this._error):"",(0,m.qy)(a||(a=(0,l.A)(["<p> ",' </p> <p class="secondary"> '," </p>"])),this.hass.localize("ui.dialogs.config_entry_system_options.enable_new_entities_label"),this.hass.localize("ui.dialogs.config_entry_system_options.enable_new_entities_description",{integration:this.hass.localize("component.".concat(this._params.entry.domain,".title"))||this._params.entry.domain})),!this._disableNewEntities,this._disableNewEntitiesChanged,this._submitting,(0,m.qy)(o||(o=(0,l.A)(["<p> ",' </p> <p class="secondary"> '," </p>"])),this.hass.localize("ui.dialogs.config_entry_system_options.enable_polling_label"),this.hass.localize("ui.dialogs.config_entry_system_options.enable_polling_description",{integration:this.hass.localize("component.".concat(this._params.entry.domain,".title"))||this._params.entry.domain})),!this._disablePolling,this._disablePollingChanged,this._submitting,this.closeDialog,this._submitting,this.hass.localize("ui.common.cancel"),this._updateEntry,this._submitting,this.hass.localize("ui.dialogs.config_entry_system_options.update")):m.s6}},{kind:"method",key:"_disableNewEntitiesChanged",value:function(i){this._error=void 0,this._disableNewEntities=!i.target.checked}},{kind:"method",key:"_disablePollingChanged",value:function(i){this._error=void 0,this._disablePolling=!i.target.checked}},{kind:"method",key:"_updateEntry",value:(t=(0,c.A)((0,d.A)().mark((function i(){var e;return(0,d.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this._submitting=!0,(e={pref_disable_new_entities:this._disableNewEntities}).pref_disable_polling=this._disablePolling,i.prev=3,i.next=6,(0,b.iH)(this.hass,this._params.entry.entry_id,e);case 6:if(!i.sent.require_restart){i.next=10;break}return i.next=10,(0,v.showAlertDialog)(this,{text:this.hass.localize("ui.dialogs.config_entry_system_options.restart_home_assistant")});case 10:this.closeDialog(),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(3),this._error=i.t0.message||"Unknown error";case 16:return i.prev=16,this._submitting=!1,i.finish(16);case 19:case"end":return i.stop()}}),i,this,[[3,13,16,19]])}))),function(){return t.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[k.nA,(0,m.AH)(r||(r=(0,l.A)([".error{color:var(--error-color)}"])))]}}]}}),m.WF)}}]);
//# sourceMappingURL=66651.d0i71-JK2CU.js.map