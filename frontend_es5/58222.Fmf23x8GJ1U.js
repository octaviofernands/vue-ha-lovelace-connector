"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[58222],{98041:function(n,e,o){o.d(e,{Al:function(){return c},KY:function(){return i},PN:function(){return d},RM:function(){return g},dG:function(){return p},jm:function(){return u},m7:function(){return k},sR:function(){return f},t1:function(){return l},t2:function(){return h},x:function(){return w},yu:function(){return m}});o(81027),o(50693),o(10507);var t=o(84280),r=o(18409),a=o(46092),i=["bluetooth","dhcp","discovery","hardware","hassio","homekit","integration_discovery","mqtt","ssdp","unignore","usb","zeroconf"],c=["reauth"],s={"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)},l=function(n,e,o){var t;return n.callApi("POST","config/config_entries/flow",{handler:e,show_advanced_options:Boolean(null===(t=n.userData)||void 0===t?void 0:t.showAdvanced),entry_id:o},s)},d=function(n,e){return n.callApi("GET","config/config_entries/flow/".concat(e),void 0,s)},u=function(n,e,o){return n.callApi("POST","config/config_entries/flow/".concat(e),o,s)},p=function(n,e,o){return n.callWS({type:"config_entries/ignore_flow",flow_id:e,title:o})},f=function(n,e){return n.callApi("DELETE","config/config_entries/flow/".concat(e))},m=function(n,e){return n.callApi("GET","config/config_entries/flow_handlers".concat(e?"?type=".concat(e):""))},h=function(n){return n.sendMessagePromise({type:"config_entries/flow/progress"})},_=function(n,e){return n.subscribeEvents((0,r.s)((function(){return h(n).then((function(n){return e.setState(n,!0)}))}),500,!0),"config_entry_discovered")},g=function(n){return(0,t.X)(n,"_configFlowProgress",h,_)},w=function(n,e){return g(n.connection).subscribe(e)},k=function(n,e){return e.context.title_placeholders&&0!==Object.keys(e.context.title_placeholders).length?n("component.".concat(e.handler,".config.flow_title"),e.context.title_placeholders)||("name"in e.context.title_placeholders?e.context.title_placeholders.name:(0,a.p$)(n,e.handler)):(0,a.p$)(n,e.handler)}},30581:function(n,e,o){o.d(e,{W:function(){return v}});var t,r,a,i,c,s,l,d,u,p=o(64599),f=o(33994),m=o(658),h=o(22858),_=(o(42942),o(48062),o(81027),o(95737),o(50693),o(39790),o(66457),o(99019),o(96858),o(50289)),g=o(98041),w=o(46092),k=o(41572),v=function(n,e){return(0,k.g)(n,e,{flowType:"config_flow",loadDevicesAndAreas:!0,createFlow:(v=(0,h.A)((0,f.A)().mark((function n(o,t){var r,a,i;return(0,f.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,g.t1)(o,t,e.entryId),o.loadFragmentTranslation("config"),o.loadBackendTranslation("config",t),o.loadBackendTranslation("selector",t),o.loadBackendTranslation("title",t)]);case 2:return r=n.sent,a=(0,m.A)(r,1),i=a[0],n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)}))),function(n,e){return v.apply(this,arguments)}),fetchFlow:(o=(0,h.A)((0,f.A)().mark((function n(e,o){var t;return(0,f.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.PN)(e,o);case 2:return t=n.sent,n.next=5,e.loadFragmentTranslation("config");case 5:return n.next=7,e.loadBackendTranslation("config",t.handler);case 7:return n.next=9,e.loadBackendTranslation("selector",t.handler);case 9:return n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)}))),function(n,e){return o.apply(this,arguments)}),handleFlowStep:g.jm,deleteFlow:g.sR,renderAbortDescription:function(n,e){var o=n.localize("component.".concat(e.translation_domain||e.handler,".config.abort.").concat(e.reason),e.description_placeholders);return o?(0,_.qy)(t||(t=(0,p.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),o):e.reason},renderShowFormStepHeader:function(n,e){return n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".title"),e.description_placeholders)||n.localize("component.".concat(e.handler,".title"))},renderShowFormStepDescription:function(n,e){var o=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".description"),e.description_placeholders);return o?(0,_.qy)(r||(r=(0,p.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),o):""},renderShowFormStepFieldLabel:function(n,e,o,t){var r;if("expandable"===o.type)return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".sections.").concat(o.name,".name"));var a=null!=t&&null!==(r=t.path)&&void 0!==r&&r[0]?"sections.".concat(t.path[0]):"";return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".").concat(a,"data.").concat(o.name))||o.name},renderShowFormStepFieldHelper:function(n,e,o,t){var r;if("expandable"===o.type)return n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".sections.").concat(o.name,".description"));var i=null!=t&&null!==(r=t.path)&&void 0!==r&&r[0]?"sections.".concat(t.path[0],"."):"",c=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".").concat(i,"data_description.").concat(o.name),e.description_placeholders);return c?(0,_.qy)(a||(a=(0,p.A)(['<ha-markdown breaks .content="','"></ha-markdown>'])),c):""},renderShowFormStepFieldError:function(n,e,o){return n.localize("component.".concat(e.translation_domain||e.translation_domain||e.handler,".config.error.").concat(o),e.description_placeholders)||o},renderShowFormStepFieldLocalizeValue:function(n,e,o){return n.localize("component.".concat(e.handler,".selector.").concat(o))},renderShowFormStepSubmitButton:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".submit"))||n.localize("ui.panel.config.integrations.config_flow.".concat(!1===e.last_step?"next":"submit"))},renderExternalStepHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("ui.panel.config.integrations.config_flow.external_step.open_site")},renderExternalStepDescription:function(n,e){var o=n.localize("component.".concat(e.translation_domain||e.handler,".config.").concat(e.step_id,".description"),e.description_placeholders);return(0,_.qy)(i||(i=(0,p.A)([" <p> "," </p> "," "])),n.localize("ui.panel.config.integrations.config_flow.external_step.description"),o?(0,_.qy)(c||(c=(0,p.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),o):"")},renderCreateEntryDescription:function(n,e){var o=n.localize("component.".concat(e.translation_domain||e.handler,".config.create_entry.").concat(e.description||"default"),e.description_placeholders);return(0,_.qy)(s||(s=(0,p.A)([" "," <p> "," </p> "])),o?(0,_.qy)(l||(l=(0,p.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),o):"",n.localize("ui.panel.config.integrations.config_flow.created_config",{name:e.title}))},renderShowFormProgressHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("component.".concat(e.handler,".title"))},renderShowFormProgressDescription:function(n,e){var o=n.localize("component.".concat(e.translation_domain||e.handler,".config.progress.").concat(e.progress_action),e.description_placeholders);return o?(0,_.qy)(d||(d=(0,p.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),o):""},renderMenuHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("component.".concat(e.handler,".title"))},renderMenuDescription:function(n,e){var o=n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".description"),e.description_placeholders);return o?(0,_.qy)(u||(u=(0,p.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),o):""},renderMenuOption:function(n,e,o){return n.localize("component.".concat(e.translation_domain||e.handler,".config.step.").concat(e.step_id,".menu_options.").concat(o),e.description_placeholders)},renderLoadingDescription:function(n,e,o,t){if("loading_flow"!==e&&"loading_step"!==e)return"";var r=(null==t?void 0:t.handler)||o;return n.localize("ui.panel.config.integrations.config_flow.loading.".concat(e),{integration:r?(0,w.p$)(n.localize,r):n.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}});var o,v}},58222:function(n,e,o){var t=o(22858).A,r=o(33994).A;o.a(n,function(){var n=t(r().mark((function n(e,t){var a,i,c,s,l,d,u,p,f,m,h,_,g,w,k,v,y,x,z,b,A,S,F,D,q,T,M,E;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,a=o(33994),i=o(22858),c=o(64599),s=o(35806),l=o(71008),d=o(62193),u=o(2816),p=o(27927),f=o(81027),m=o(97741),h=o(29193),_=o(16891),o(63893),g=o(50289),w=o(29818),k=o(30125),v=o(49281),o(13292),o(13082),o(13830),o(88400),y=o(46092),x=o(60724),z=o(51842),b=o(14256),A=o(5171),S=o(30581),!(F=e([k])).then){n.next=40;break}return n.next=36,F;case 36:n.t1=n.sent,n.t0=(0,n.t1)(),n.next=41;break;case 40:n.t0=F;case 41:k=n.t0[0],(0,p.A)([(0,w.EM)("ha-config-repairs")],(function(n,e){var o,t=function(e){function o(){var e;(0,l.A)(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=(0,d.A)(this,o,[].concat(r)),n(e),e}return(0,u.A)(o,e),(0,s.A)(o)}(e);return{F:t,d:[{kind:"field",decorators:[(0,w.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,w.MZ)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,w.MZ)({attribute:!1})],key:"repairsIssues",value:void 0},{kind:"field",decorators:[(0,w.MZ)({type:Number})],key:"total",value:void 0},{kind:"method",key:"render",value:function(){var n,e=this;if(null===(n=this.repairsIssues)||void 0===n||!n.length)return g.s6;var o=this.repairsIssues;return(0,g.qy)(D||(D=(0,c.A)([' <div class="title"> '," </div> <mwc-list> "," </mwc-list> "])),this.hass.localize("ui.panel.config.repairs.title",{count:this.total||this.repairsIssues.length}),o.map((function(n){var o;return(0,g.qy)(q||(q=(0,c.A)([' <ha-list-item twoline graphic="medium" .hasMeta="','" .issue="','" class="','" @click="','"> <img alt="','" loading="lazy" src="','" .title="','" crossorigin="anonymous" referrerpolicy="no-referrer" slot="graphic"> <span>','</span> <span slot="secondary" class="secondary"> '," "," "," "," </span> "," </ha-list-item> "])),!e.narrow,n,n.ignored?"ignored":"",e._openShowMoreDialog,(0,y.p$)(e.hass.localize,n.domain),(0,z.MR)({domain:n.issue_domain||n.domain,type:"icon",useFallback:!0,darkOptimized:null===(o=e.hass.themes)||void 0===o?void 0:o.darkMode}),(0,y.p$)(e.hass.localize,n.domain),e.hass.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".title"),n.translation_placeholders||{})||"".concat(n.domain,": ").concat(n.translation_key||n.issue_id),"critical"===n.severity||"error"===n.severity?(0,g.qy)(T||(T=(0,c.A)(['<span class="error">',"</span>"])),e.hass.localize("ui.panel.config.repairs.".concat(n.severity))):"","critical"!==n.severity&&"error"!==n.severity||!n.created?"":" - ",n.created?(0,v.Z)((0,k.K)(new Date(n.created),e.hass.locale)):"",n.ignored?" - ".concat(e.hass.localize("ui.panel.config.repairs.dialog.ignored_in_version_short",{version:n.dismissed_version})):"",e.narrow?"":(0,g.qy)(M||(M=(0,c.A)(['<ha-icon-next slot="meta"></ha-icon-next>']))))})))}},{kind:"method",key:"_openShowMoreDialog",value:(o=(0,i.A)((0,a.A)().mark((function n(e){var o,t;return(0,a.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(o=e.currentTarget.issue).is_fixable){n.next=5;break}(0,b.K)(this,o),n.next=13;break;case 5:if("homeassistant"!==o.domain||"config_entry_reauth"!==o.translation_key){n.next=12;break}return n.next=8,(0,x.AU)(this.hass.connection,o.domain,o.issue_id);case 8:"flow_id"in(t=n.sent).issue_data&&(0,S.W)(this,{continueFlowId:t.issue_data.flow_id}),n.next=13;break;case 12:(0,A.x)(this,{issue:o});case 13:case"end":return n.stop()}}),n,this)}))),function(n){return o.apply(this,arguments)})},{kind:"field",static:!0,key:"styles",value:function(){return(0,g.AH)(E||(E=(0,c.A)([":host{--mdc-list-vertical-padding:0}.title{font-size:16px;padding:16px;padding-bottom:0}.ignored{opacity:var(--light-secondary-opacity)}ha-list-item{--mdc-list-item-graphic-size:40px}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}ha-list-item{cursor:pointer;font-size:16px}.error{color:var(--error-color)}"])))}}]}}),g.WF),t(),n.next=49;break;case 46:n.prev=46,n.t2=n.catch(0),t(n.t2);case 49:case"end":return n.stop()}}),n,null,[[0,46]])})));return function(e,o){return n.apply(this,arguments)}}())},14256:function(n,e,o){o.d(e,{K:function(){return g}});var t,r,a,i,c,s,l=o(64599),d=o(33994),u=o(658),p=o(22858),f=(o(81027),o(95737),o(50693),o(39790),o(66457),o(99019),o(96858),o(50289)),m=o(46092),h=o(60724),_=o(41572),g=function(n,e,o){return(0,_.g)(n,{startFlowHandler:e.domain,domain:e.domain,dialogClosedCallback:o},{flowType:"repair_flow",loadDevicesAndAreas:!1,createFlow:(w=(0,p.A)((0,d.A)().mark((function n(o,t){var r,a,i;return(0,d.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,h.vR)(o,t,e.issue_id),o.loadBackendTranslation("issues",e.domain),o.loadBackendTranslation("selector",e.domain)]);case 2:return r=n.sent,a=(0,u.A)(r,1),i=a[0],n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)}))),function(n,e){return w.apply(this,arguments)}),fetchFlow:(g=(0,p.A)((0,d.A)().mark((function n(o,t){var r,a,i;return(0,d.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,h.ZF)(o,t),o.loadBackendTranslation("issues",e.domain),o.loadBackendTranslation("selector",e.domain)]);case 2:return r=n.sent,a=(0,u.A)(r,1),i=a[0],n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)}))),function(n,e){return g.apply(this,arguments)}),handleFlowStep:h.do,deleteFlow:h.UL,renderAbortDescription:function(n,o){var r=n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.abort.").concat(o.reason),o.description_placeholders);return r?(0,f.qy)(t||(t=(0,l.A)([' <ha-markdown breaks allowsvg .content="','"></ha-markdown> '])),r):o.reason},renderShowFormStepHeader:function(n,o){return n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.step.").concat(o.step_id,".title"),o.description_placeholders)||n.localize("ui.dialogs.repair_flow.form.header")},renderShowFormStepDescription:function(n,o){var t=n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.step.").concat(o.step_id,".description"),o.description_placeholders);return t?(0,f.qy)(r||(r=(0,l.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderShowFormStepFieldLabel:function(n,o,t,r){return n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.step.").concat(o.step_id,".").concat(null!=r&&r.prefix?"section.".concat(r.prefix[0],"."):"","data.").concat(t.name),o.description_placeholders)},renderShowFormStepFieldHelper:function(n,o,t,r){var i=n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.step.").concat(o.step_id,".").concat(null!=r&&r.prefix?"section.".concat(r.prefix[0],"."):"","data_description.").concat(t.name),o.description_placeholders);return i?(0,f.qy)(a||(a=(0,l.A)(['<ha-markdown breaks .content="','"></ha-markdown>'])),i):""},renderShowFormStepFieldError:function(n,o,t){return n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.error.").concat(t),o.description_placeholders)},renderShowFormStepFieldLocalizeValue:function(n,o,t){return n.localize("component.".concat(e.domain,".selector.").concat(t))},renderShowFormStepSubmitButton:function(n,o){return n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.step.").concat(o.step_id,".submit"))||n.localize("ui.panel.config.integrations.config_flow.".concat(!1===o.last_step?"next":"submit"))},renderExternalStepHeader:function(n,e){return""},renderExternalStepDescription:function(n,e){return""},renderCreateEntryDescription:function(n,e){return(0,f.qy)(i||(i=(0,l.A)([" <p>","</p> "])),n.localize("ui.dialogs.repair_flow.success.description"))},renderShowFormProgressHeader:function(n,o){return n.localize("component.".concat(e.domain,".issues.step.").concat(e.translation_key||e.issue_id,".fix_flow.").concat(o.step_id,".title"),o.description_placeholders)||n.localize("component.".concat(e.domain,".title"))},renderShowFormProgressDescription:function(n,o){var t=n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.progress.").concat(o.progress_action),o.description_placeholders);return t?(0,f.qy)(c||(c=(0,l.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderMenuHeader:function(n,o){return n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.step.").concat(o.step_id,".title"),o.description_placeholders)||n.localize("component.".concat(e.domain,".title"))},renderMenuDescription:function(n,o){var t=n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.step.").concat(o.step_id,".description"),o.description_placeholders);return t?(0,f.qy)(s||(s=(0,l.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderMenuOption:function(n,o,t){return n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.step.").concat(o.step_id,".menu_options.").concat(t),o.description_placeholders)},renderLoadingDescription:function(n,o){return n.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".fix_flow.loading"))||("loading_flow"===o||"loading_step"===o?n.localize("ui.dialogs.repair_flow.loading.".concat(o),{integration:(0,m.p$)(n.localize,e.domain)}):"")}});var g,w}},5171:function(n,e,o){o.d(e,{x:function(){return a}});o(95737),o(39790),o(66457),o(99019),o(96858);var t=o(34897),r=function(){return o.e(40872).then(o.bind(o,40872))},a=function(n,e){(0,t.r)(n,"show-dialog",{dialogTag:"dialog-repairs-issue",dialogImport:r,dialogParams:e})}}}]);
//# sourceMappingURL=58222.Fmf23x8GJ1U.js.map