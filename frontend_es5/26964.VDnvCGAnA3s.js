"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[26964],{26964:function(e,t,i){i.r(t),i.d(t,{HaFormMultiSelect:function(){return b}});var n,a,o,d,r,l=i(41981),s=i(64599),u=i(35806),h=i(71008),c=i(62193),f=i(2816),v=i(27927),p=(i(71522),i(81027),i(13025),i(44124),i(82386),i(79243),i(97741),i(99471),i(10507),i(39790),i(36604),i(253),i(2075),i(94438),i(16891),i(50289)),m=i(29818),k=i(34897);i(26790),i(35619),i(88725),i(24284),i(88400),i(90431);function g(e){return Array.isArray(e)?e[0]:e}function y(e){return Array.isArray(e)?e[1]||e[0]:e}var b=(0,v.A)([(0,m.EM)("ha-form-multi_select")],(function(e,t){var i=function(t){function i(){var t;(0,h.A)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=(0,c.A)(this,i,[].concat(a)),e(t),t}return(0,f.A)(i,t),(0,u.A)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,m.MZ)({attribute:!1})],key:"schema",value:void 0},{kind:"field",decorators:[(0,m.MZ)({attribute:!1})],key:"data",value:void 0},{kind:"field",decorators:[(0,m.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,m.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,m.wk)()],key:"_opened",value:function(){return!1}},{kind:"field",decorators:[(0,m.P)("ha-button-menu")],key:"_input",value:void 0},{kind:"method",key:"focus",value:function(){this._input&&this._input.focus()}},{kind:"method",key:"render",value:function(){var e=this,t=Array.isArray(this.schema.options)?this.schema.options:Object.entries(this.schema.options),i=this.data||[];return t.length<6?(0,p.qy)(n||(n=(0,s.A)(["<div> ",""," </div> "])),this.label,t.map((function(t){var n=g(t);return(0,p.qy)(a||(a=(0,s.A)([' <ha-formfield .label="','"> <ha-checkbox .checked="','" .value="','" .disabled="','" @change="','"></ha-checkbox> </ha-formfield> '])),y(t),i.includes(n),n,e.disabled,e._valueChanged)}))):(0,p.qy)(o||(o=(0,s.A)([' <ha-button-menu .disabled="','" fixed @opened="','" @closed="','" multi activatable> <ha-textfield slot="trigger" .label="','" .value="','" .disabled="','" tabindex="-1"></ha-textfield> <ha-svg-icon slot="trigger" .path="','"></ha-svg-icon> '," </ha-button-menu> "])),this.disabled,this._handleOpen,this._handleClose,this.label,i.map((function(e){return y(t.find((function(t){return g(t)===e})))||e})).join(", "),this.disabled,this._opened?"M7,15L12,10L17,15H7Z":"M7,10L12,15L17,10H7Z",t.map((function(t){var n=g(t),a=i.includes(n);return(0,p.qy)(d||(d=(0,s.A)(['<ha-check-list-item left .selected="','" .activated="','" @request-selected="','" .value="','" .disabled="','"> '," </ha-check-list-item>"])),a,a,e._selectedChanged,n,e.disabled,y(t))})))}},{kind:"method",key:"firstUpdated",value:function(){var e=this;this.updateComplete.then((function(){var t,i=(null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelector("ha-textfield"))||{},n=i.formElement,a=i.mdcRoot;n&&(n.style.textOverflow="ellipsis"),a&&(a.style.cursor="pointer")}))}},{kind:"method",key:"updated",value:function(e){e.has("schema")&&this.toggleAttribute("own-margin",Object.keys(this.schema.options).length>=6&&!!this.schema.required)}},{kind:"method",key:"_selectedChanged",value:function(e){e.stopPropagation(),"property"!==e.detail.source&&this._handleValueChanged(e.target.value,e.detail.selected)}},{kind:"method",key:"_valueChanged",value:function(e){var t=e.target,i=t.value,n=t.checked;this._handleValueChanged(i,n)}},{kind:"method",key:"_handleValueChanged",value:function(e,t){var i;if(t)if(this.data){if(this.data.includes(e))return;i=[].concat((0,l.A)(this.data),[e])}else i=[e];else{if(!this.data.includes(e))return;i=this.data.filter((function(t){return t!==e}))}(0,k.r)(this,"value-changed",{value:i})}},{kind:"method",key:"_handleOpen",value:function(e){e.stopPropagation(),this._opened=!0,this.toggleAttribute("opened",!0)}},{kind:"method",key:"_handleClose",value:function(e){e.stopPropagation(),this._opened=!1,this.toggleAttribute("opened",!1)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,p.AH)(r||(r=(0,s.A)([":host([own-margin]){margin-bottom:5px}ha-button-menu{display:block;cursor:pointer}ha-formfield{display:block;padding-right:16px;padding-inline-end:16px;padding-inline-start:initial;direction:var(--direction)}ha-textfield{display:block;pointer-events:none}ha-svg-icon{color:var(--input-dropdown-icon-color);position:absolute;right:1em;top:1em;cursor:pointer;inset-inline-end:1em;inset-inline-start:initial;direction:var(--direction)}:host([opened]) ha-svg-icon{color:var(--primary-color)}:host([opened]) ha-button-menu{--mdc-text-field-idle-line-color:var(--input-hover-line-color);--mdc-text-field-label-ink-color:var(--primary-color)}"])))}}]}}),p.WF)}}]);
//# sourceMappingURL=26964.VDnvCGAnA3s.js.map