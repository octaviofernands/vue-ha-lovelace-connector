"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[68137],{68137:function(i,s,e){e.r(s);var t,o,a,n,r,c,l=e(64599),d=e(33994),m=e(22858),h=e(35806),u=e(71008),p=e(62193),g=e(2816),_=e(27927),f=(e(81027),e(72606),e(50289)),v=e(29818),w=e(34897),k=(e(32885),e(29180)),y=(e(33209),e(46092)),x=e(96961),A=e(55321),b=e(51842),L=e(32920);(0,_.A)([(0,v.EM)("dialog-matter-open-commissioning-window")],(function(i,s){var e,_,z,P=function(s){function e(){var s;(0,u.A)(this,e);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return s=(0,p.A)(this,e,[].concat(o)),i(s),s}return(0,g.A)(e,s),(0,h.A)(e)}(s);return{F:P,d:[{kind:"field",decorators:[(0,v.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.wk)()],key:"device_id",value:void 0},{kind:"field",decorators:[(0,v.wk)()],key:"_status",value:void 0},{kind:"field",decorators:[(0,v.wk)()],key:"_commissionParams",value:void 0},{kind:"method",key:"showDialog",value:(z=(0,m.A)((0,d.A)().mark((function i(s){return(0,d.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.device_id=s.device_id;case 1:case"end":return i.stop()}}),i,this)}))),function(i){return z.apply(this,arguments)})},{kind:"method",key:"render",value:function(){var i;return this.device_id?(0,f.qy)(t||(t=(0,l.A)([' <ha-dialog open @closed="','" .heading="','"> '," </ha-dialog> "])),this.closeDialog,(0,k.l)(this.hass,this.hass.localize("ui.panel.config.matter.open_commissioning_window.title")),this._commissionParams?(0,f.qy)(o||(o=(0,l.A)([" <p> "," <br> ",' </p> <div class="sharing-code-container"> <div class="sharing-code"> <img crossorigin="anonymous" referrerpolicy="no-referrer" alt="','" src="','"> <ha-qr-code .data="','" errorCorrectionLevel="quartile" scale="6" margin="1"></ha-qr-code> <span class="code">',"-","-",'</span> </div> </div> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.success"),this.hass.localize("ui.panel.config.matter.open_commissioning_window.scan_code"),(0,y.p$)(this.hass.localize,"matter"),(0,b.MR)({domain:"matter",type:"logo",darkOptimized:null===(i=this.hass.themes)||void 0===i?void 0:i.darkMode}),this._commissionParams.setup_qr_code,this._commissionParams.setup_manual_code.substring(0,4),this._commissionParams.setup_manual_code.substring(4,7),this._commissionParams.setup_manual_code.substring(7),this._copyCode,this.hass.localize("ui.panel.config.matter.open_commissioning_window.copy_code")):"started"===this._status?(0,f.qy)(a||(a=(0,l.A)([' <div class="flex-container"> <ha-circular-progress indeterminate></ha-circular-progress> <div class="status"> <p> <b> ',' </b> </p> </div> </div> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.in_progress"),this.closeDialog,this.hass.localize("ui.common.close")):"failed"===this._status?(0,f.qy)(n||(n=(0,l.A)([' <div class="flex-container"> <ha-svg-icon .path="','" class="failed"></ha-svg-icon> <div class="status"> <p> ',' </p> </div> </div> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",this.hass.localize("ui.panel.config.matter.open_commissioning_window.failed"),this.closeDialog,this.hass.localize("ui.common.close")):(0,f.qy)(r||(r=(0,l.A)([" <p> ",' </p> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> "])),this.hass.localize("ui.panel.config.matter.open_commissioning_window.introduction"),this._start,this.hass.localize("ui.panel.config.matter.open_commissioning_window.start_commissioning"))):f.s6}},{kind:"method",key:"_start",value:(_=(0,m.A)((0,d.A)().mark((function i(){return(0,d.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.hass){i.next=2;break}return i.abrupt("return");case 2:return this._status="started",this._commissionParams=void 0,i.prev=4,i.next=7,(0,x.nc)(this.hass,this.device_id);case 7:this._commissionParams=i.sent,i.next=13;break;case 10:i.prev=10,i.t0=i.catch(4),this._status="failed";case 13:case"end":return i.stop()}}),i,this,[[4,10]])}))),function(){return _.apply(this,arguments)})},{kind:"method",key:"_copyCode",value:(e=(0,m.A)((0,d.A)().mark((function i(){return(0,d.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this._commissionParams){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,(0,L.l)(this._commissionParams.setup_manual_code);case 4:this.closeDialog();case 5:case"end":return i.stop()}}),i,this)}))),function(){return e.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this.device_id=void 0,this._status=void 0,this._commissionParams=void 0,(0,w.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"get",static:!0,key:"styles",value:function(){return[A.nA,(0,f.AH)(c||(c=(0,l.A)([".success{color:var(--success-color)}.failed{color:var(--error-color)}.flex-container{display:flex;align-items:center}.stages{margin-top:16px}.stage ha-svg-icon{width:16px;height:16px}.stage{padding:8px}ha-svg-icon{width:68px;height:48px}ha-qr-code{text-align:center}.flex-container ha-circular-progress,.flex-container ha-svg-icon{margin-right:20px}.sharing-code-container{display:flex;justify-content:center;padding-top:16px}.sharing-code{display:flex;flex-direction:column;align-items:center;border:2px solid;border-radius:16px;padding:16px}.sharing-code img{width:160px;margin-bottom:8px}.code{font-family:monospace}"])))]}}]}}),f.WF)}}]);
//# sourceMappingURL=68137.MR_HNOdLkPE.js.map