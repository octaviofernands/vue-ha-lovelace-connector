"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[77305],{77305:function(t,e,n){var a=n(22858).A,i=n(33994).A;n.a(t,function(){var t=a(i().mark((function t(a,s){var r,o,u,h,c,d,l,f,p,v,k,y,b,m,A,_,w,g,x,F,Z,E,M,S,z,B,C,U,j,q,H,I,O,R,W;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.r(e),r=n(64599),o=n(35806),u=n(71008),h=n(62193),c=n(2816),d=n(27927),l=n(35890),f=n(81027),p=n(13025),v=n(95737),k=n(89655),y=n(39790),b=n(9241),m=n(74268),A=n(24545),_=n(51855),w=n(82130),g=n(31743),x=n(22328),F=n(4959),Z=n(62435),E=n(99019),M=n(253),S=n(54846),z=n(66555),B=n(96858),C=n(50289),U=n(29818),j=n(65459),q=n(16312),n(4169),n(11804),n(94110),H=n(4712),I=n(55321),!(O=a([H])).then){t.next=64;break}return t.next=60,O;case 60:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=65;break;case 64:t.t0=O;case 65:H=t.t0[0],(0,d.A)([(0,U.EM)("ha-panel-map")],(function(t,e){var n=function(e){function n(){var e;(0,u.A)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=(0,h.A)(this,n,[].concat(i)),t(e),e}return(0,c.A)(n,e),(0,o.A)(n)}(e);return{F:n,d:[{kind:"field",decorators:[(0,U.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,U.MZ)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",key:"_entities",value:function(){return[]}},{kind:"method",key:"render",value:function(){return(0,C.qy)(R||(R=(0,r.A)([' <ha-top-app-bar-fixed> <ha-menu-button slot="navigationIcon" .hass="','" .narrow="','"></ha-menu-button> <div slot="title">',"</div> ",' <ha-map .hass="','" .entities="','" autoFit interactiveZones></ha-map> </ha-top-app-bar-fixed> '])),this.hass,this.narrow,this.hass.localize("panel.map"),"",this.hass,this._entities)}},{kind:"method",key:"_openZonesEditor",value:function(){(0,q.o)("/config/zone?historyBack=1")}},{kind:"method",key:"willUpdate",value:function(t){if((0,l.A)(n,"willUpdate",this,3)([t]),t.has("hass")){var e=t.get("hass");this._getStates(e)}}},{kind:"method",key:"_getStates",value:function(t){var e=!1,n=new Set,a=[];Object.values(this.hass.states).forEach((function(i){"home"!==i.state&&"latitude"in i.attributes&&"longitude"in i.attributes&&(a.push(i.entity_id),"person"===(0,j.t)(i)&&i.attributes.source&&n.add(i.attributes.source),(null==t?void 0:t.states[i.entity_id])!==i&&(e=!0))})),e&&(this._entities=a.filter((function(t){return!n.has(t)})))}},{kind:"get",static:!0,key:"styles",value:function(){return[I.RF,(0,C.AH)(W||(W=(0,r.A)(["ha-map{height:calc(100vh - var(--header-height))}"])))]}}]}}),C.WF),s(),t.next=74;break;case 71:t.prev=71,t.t2=t.catch(0),s(t.t2);case 74:case"end":return t.stop()}}),t,null,[[0,71]])})));return function(e,n){return t.apply(this,arguments)}}())}}]);
//# sourceMappingURL=77305.mfnFD4ZcjVI.js.map