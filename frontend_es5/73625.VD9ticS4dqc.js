"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[73625],{73625:function(t,e,i){i.r(e);var a,o,n=i(64599),s=i(33994),r=i(22858),l=i(35806),d=i(71008),h=i(62193),c=i(2816),u=i(27927),g=(i(81027),i(26098),i(50289)),f=i(29818),v=i(34897),m=i(79051),p=(i(77372),i(26790),i(29180),i(10900),i(4169),i(55321)),A=i(50157),k=(i(30728),i(84028));(0,u.A)([(0,f.EM)("dialog-dashboard-strategy-editor")],(function(t,e){var i,u,_=function(e){function i(){var e;(0,d.A)(this,i);for(var a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return e=(0,h.A)(this,i,[].concat(o)),t(e),e}return(0,c.A)(i,e),(0,l.A)(i)}(e);return{F:_,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_strategyConfig",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_GUImode",value:function(){return!0}},{kind:"field",decorators:[(0,f.wk)()],key:"_guiModeAvailable",value:function(){return!0}},{kind:"field",decorators:[(0,f.P)("hui-dashboard-strategy-element-editor")],key:"_strategyEditorEl",value:void 0},{kind:"method",key:"showDialog",value:(u=(0,r.A)((0,s.A)().mark((function t(e){return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._params=e,this._strategyConfig=e.config.strategy,t.next=4,this.updateComplete;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,this._strategyConfig=void 0,(0,v.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"_handleConfigChanged",value:function(t){t.stopPropagation(),this._guiModeAvailable=t.detail.guiModeAvailable,this._strategyConfig=t.detail.config}},{kind:"method",key:"_handleGUIModeChanged",value:function(t){t.stopPropagation(),this._GUImode=t.detail.guiMode,this._guiModeAvailable=t.detail.guiModeAvailable}},{kind:"method",key:"_toggleMode",value:function(){var t;null===(t=this._strategyEditorEl)||void 0===t||t.toggleMode()}},{kind:"method",key:"_opened",value:function(){var t;null===(t=this._strategyEditorEl)||void 0===t||t.focusYamlEditor()}},{kind:"method",key:"_save",value:(i=(0,r.A)((0,s.A)().mark((function t(){return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._params.saveConfig(Object.assign(Object.assign({},this._params.config),{},{strategy:this._strategyConfig}));case 2:(0,A.f)(this,this.hass),this.closeDialog();case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{kind:"method",key:"render",value:function(){if(!this._params||!this._strategyConfig)return g.s6;var t=(0,k._V)(this._strategyConfig),e=this.hass.localize("ui.panel.lovelace.editor.strategy-editor.header");return(0,g.qy)(a||(a=(0,n.A)([' <ha-dialog open @closed="','" scrimClickAction escapeKeyAction @opened="','" .heading="','"> <ha-dialog-header slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="','" .path="','"></ha-icon-button> <span slot="title" .title="','">','</span> <ha-button-menu corner="BOTTOM_END" menuCorner="END" slot="actionItems" @closed="','" fixed> <ha-icon-button slot="trigger" .label="','" .path="','"></ha-icon-button> <ha-list-item graphic="icon" @request-selected="','"> ',' <ha-svg-icon slot="graphic" .path="','"></ha-svg-icon> </ha-list-item> <ha-list-item graphic="icon" @request-selected="','"> ',' <ha-svg-icon slot="graphic" .path="','"></ha-svg-icon> </ha-list-item> </ha-button-menu> </ha-dialog-header> <div class="content"> <hui-dashboard-strategy-element-editor .hass="','" .lovelace="','" .value="','" @config-changed="','" @GUImode-changed="','" dialogInitialFocus></hui-dashboard-strategy-element-editor> </div> <ha-button slot="secondaryAction" @click="','" .disabled="','" class="gui-mode-button"> ',' </ha-button> <ha-button @click="','" slot="primaryAction"> '," </ha-button> </ha-dialog> "])),this.closeDialog,this._opened,e||"-",this.hass.localize("ui.common.close"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",e,e,m.d,this.hass.localize("ui.common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this._showRawConfigEditor,this.hass.localize("ui.panel.lovelace.editor.strategy-editor.raw_configuration_editor"),"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",this._takeControl,this.hass.localize("ui.panel.lovelace.editor.strategy-editor.take_control"),"M12,15C7.58,15 4,16.79 4,19V21H20V19C20,16.79 16.42,15 12,15M8,9A4,4 0 0,0 12,13A4,4 0 0,0 16,9M11.5,2C11.2,2 11,2.21 11,2.5V5.5H10V3C10,3 7.75,3.86 7.75,6.75C7.75,6.75 7,6.89 7,8H17C16.95,6.89 16.25,6.75 16.25,6.75C16.25,3.86 14,3 14,3V5.5H13V2.5C13,2.21 12.81,2 12.5,2H11.5Z",this.hass,this._params.config,t,this._handleConfigChanged,this._handleGUIModeChanged,this._toggleMode,!this._guiModeAvailable,this.hass.localize(!this._strategyEditorEl||this._GUImode?"ui.panel.lovelace.editor.strategy-editor.show_code_editor":"ui.panel.lovelace.editor.strategy-editor.show_visual_editor"),this._save,this.hass.localize("ui.common.save"))}},{kind:"method",key:"_takeControl",value:function(t){t.stopPropagation(),this._params.takeControl(),this.closeDialog()}},{kind:"method",key:"_showRawConfigEditor",value:function(t){t.stopPropagation(),this._params.showRawConfigEditor(),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[p.nA,(0,g.AH)(o||(o=(0,n.A)(["ha-dialog{--mdc-dialog-max-width:800px;--dialog-content-padding:0 24px}"])))]}}]}}),g.WF)},30728:function(t,e,i){var a=i(33994),o=i(22858),n=i(35806),s=i(71008),r=i(62193),l=i(2816),d=i(27927),h=(i(81027),i(29818)),c=i(71797),u=i(70612);(0,d.A)([(0,h.EM)("hui-dashboard-strategy-element-editor")],(function(t,e){var i,d=function(e){function i(){var e;(0,s.A)(this,i);for(var a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return e=(0,r.A)(this,i,[].concat(o)),t(e),e}return(0,l.A)(i,e),(0,n.A)(i)}(e);return{F:d,d:[{kind:"method",key:"getConfigElement",value:(i=(0,o.A)((0,a.A)().mark((function t(){var e;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.Nu)("dashboard",this.configElementType);case 2:if(!(e=t.sent)||!e.getConfigElement){t.next=5;break}return t.abrupt("return",e.getConfigElement());case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}]}}),u.m)},50157:function(t,e,i){i.d(e,{f:function(){return o}});var a=i(18589),o=function(t,e){return(0,a.P)(t,{message:e.localize("ui.common.successfully_saved")})}}}]);
//# sourceMappingURL=73625.VD9ticS4dqc.js.map