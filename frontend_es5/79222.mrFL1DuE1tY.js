"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[79222],{79222:function(e,t,r){var o=r(22858).A,n=r(33994).A;r.a(e,function(){var e=o(n().mark((function e(o,i){var l,a,u,c,s,d,v,h,f,_,p,k,m,b,g,y,A,C;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.r(t),r.d(t,{HaColorTempSelector:function(){return C}}),l=r(64599),a=r(35806),u=r(71008),c=r(62193),s=r(2816),d=r(27927),v=r(81027),h=r(29193),f=r(50289),_=r(29818),p=r(55165),k=r(94100),m=r(34897),r(59815),b=r(98339),g=r(59067),!(y=o([b])).then){e.next=29;break}return e.next=25,y;case 25:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=30;break;case 29:e.t0=y;case 30:b=e.t0[0],C=(0,d.A)([(0,_.EM)("ha-selector-color_temp")],(function(e,t){var r=function(t){function r(){var t;(0,u.A)(this,r);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=(0,c.A)(this,r,[].concat(n)),e(t),t}return(0,s.A)(r,t),(0,a.A)(r)}(t);return{F:r,d:[{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,_.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,_.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,_.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,_.MZ)({type:Boolean,reflect:!0})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,_.MZ)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"method",key:"render",value:function(){var e,t,r,o,n,i,a,u,c,s,d,v,h,_,k,m,b;if("kelvin"===(null===(e=this.selector.color_temp)||void 0===e?void 0:e.unit))m=null!==(t=null===(r=this.selector.color_temp)||void 0===r?void 0:r.min)&&void 0!==t?t:g.lt,b=null!==(o=null===(n=this.selector.color_temp)||void 0===n?void 0:n.max)&&void 0!==o?o:g.BO;else m=null!==(i=null!==(a=null===(u=this.selector.color_temp)||void 0===u?void 0:u.min)&&void 0!==a?a:null===(c=this.selector.color_temp)||void 0===c?void 0:c.min_mireds)&&void 0!==i?i:153,b=null!==(s=null!==(d=null===(v=this.selector.color_temp)||void 0===v?void 0:v.max)&&void 0!==d?d:null===(h=this.selector.color_temp)||void 0===h?void 0:h.max_mireds)&&void 0!==s?s:500;var y=this._generateTemperatureGradient(null!==(_=null===(k=this.selector.color_temp)||void 0===k?void 0:k.unit)&&void 0!==_?_:"mired",m,b);return(0,f.qy)(A||(A=(0,l.A)([' <ha-labeled-slider style="','" labeled icon="hass:thermometer" .caption="','" .min="','" .max="','" .value="','" .disabled="','" .helper="','" .required="','" @value-changed="','"></ha-labeled-slider> '])),(0,p.W)({"--ha-slider-background":"linear-gradient( to var(--float-end), ".concat(y,")")}),this.label||"",m,b,this.value,this.disabled,this.helper,this.required,this._valueChanged)}},{kind:"field",key:"_generateTemperatureGradient",value:function(){return(0,k.A)((function(e,t,r){var o;switch(e){case"kelvin":o=(0,b.J)(t,r);break;case"mired":o=(0,b.J)((0,g.P9)(t),(0,g.P9)(r))}return o}))}},{kind:"method",key:"_valueChanged",value:function(e){(0,m.r)(this,"value-changed",{value:Number(e.detail.value)})}}]}}),f.WF),i(),e.next=38;break;case 35:e.prev=35,e.t2=e.catch(0),i(e.t2);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,r){return e.apply(this,arguments)}}())},48750:function(e,t,r){r.d(t,{Aw:function(){return c},BD:function(){return v},F9:function(){return f},NC:function(){return i},c9:function(){return s},dh:function(){return _},n6:function(){return d},sq:function(){return n},ti:function(){return u}});r(81027),r(82386),r(89655),r(39790),r(36604),r(253),r(4525);var o=r(59067),n=function(e){return e[e.EFFECT=4]="EFFECT",e[e.FLASH=8]="FLASH",e[e.TRANSITION=32]="TRANSITION",e}({}),i=function(e){return e.UNKNOWN="unknown",e.ONOFF="onoff",e.BRIGHTNESS="brightness",e.COLOR_TEMP="color_temp",e.HS="hs",e.XY="xy",e.RGB="rgb",e.RGBW="rgbw",e.RGBWW="rgbww",e.WHITE="white",e}({}),l=[i.HS,i.XY,i.RGB,i.RGBW,i.RGBWW],a=[].concat(l,[i.COLOR_TEMP,i.BRIGHTNESS,i.WHITE]),u=function(e,t){var r;return(null===(r=e.attributes.supported_color_modes)||void 0===r?void 0:r.includes(t))||!1},c=function(e){var t;return(null===(t=e.attributes.supported_color_modes)||void 0===t?void 0:t.some((function(e){return l.includes(e)})))||!1},s=function(e){var t;return(null===(t=e.attributes.supported_color_modes)||void 0===t?void 0:t.some((function(e){return a.includes(e)})))||!1},d=function(e){return c(e)||u(e,i.COLOR_TEMP)},v=function(e){return e.attributes.color_mode===i.RGBWW?e.attributes.rgbww_color:e.attributes.color_mode===i.RGBW?e.attributes.rgbw_color:e.attributes.rgb_color},h=[{rgb_color:[127,172,255]},{rgb_color:[215,150,255]},{rgb_color:[255,158,243]},{rgb_color:[255,110,84]}],f=function(e){var t=[],r=u(e,i.COLOR_TEMP),n=c(e);if(r)for(var l=e.attributes.min_color_temp_kelvin,a=(e.attributes.max_color_temp_kelvin-l)/3,s=0;s<4;s++)t.push({color_temp_kelvin:Math.round(l+a*s)});else if(n)for(var d=0;d<4;d++)t.push({rgb_color:(0,o.Mn)(Math.round(2e3+1500*d))});return n&&t.push.apply(t,h),t},_=function(e){return"".concat(e," K")}},98339:function(e,t,r){var o=r(22858).A,n=r(33994).A;r.a(e,function(){var e=o(n().mark((function e(o,i){var l,a,u,c,s,d,v,h,f,_,p,k,m,b,g,y,A,C,O,x,T,M,w,N,R,P,W,B,E,S;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.d(t,{J:function(){return S}}),l=r(64599),a=r(35806),u=r(71008),c=r(62193),s=r(2816),d=r(27927),v=r(35890),h=r(658),f=r(81027),_=r(79243),p=r(97741),k=r(89655),m=r(26098),b=r(50289),g=r(29818),y=r(55165),A=r(94100),C=r(45253),O=r(59067),x=r(34897),T=r(95239),M=r(58034),w=r(42461),N=r(9883),R=r(48750),P=r(75795),!(W=o([w])).then){e.next=41;break}return e.next=37,W;case 37:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=42;break;case 41:e.t0=W;case 42:w=e.t0[0],S=function(e,t){for(var r=[],o=(t-e)/10,n=0;n<11;n++){var i=e+o*n,l=(0,C.v2)((0,O.Mn)(i));r.push([.1*n,l])}return r.map((function(e){var t=(0,h.A)(e,2),r=t[0],o=t[1];return"".concat(o," ").concat(100*r,"%")})).join(", ")},(0,d.A)([(0,g.EM)("light-color-temp-picker")],(function(e,t){var r=function(t){function r(){var t;(0,u.A)(this,r);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=(0,c.A)(this,r,[].concat(n)),e(t),t}return(0,s.A)(r,t),(0,a.A)(r)}(t);return{F:r,d:[{kind:"field",decorators:[(0,g.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,g.wk)()],key:"_ctPickerValue",value:void 0},{kind:"method",key:"render",value:function(){var e,t;if(!this.stateObj)return b.s6;var r=null!==(e=this.stateObj.attributes.min_color_temp_kelvin)&&void 0!==e?e:O.lt,o=null!==(t=this.stateObj.attributes.max_color_temp_kelvin)&&void 0!==t?t:O.BO,n=this._generateTemperatureGradient(r,o),i=(0,T.Se)(this.stateObj);return(0,b.qy)(B||(B=(0,l.A)([' <ha-control-slider touch-action="none" inverted vertical .value="','" .min="','" .max="','" mode="cursor" @value-changed="','" @slider-moved="','" .ariaLabel="','" style="','" .disabled="','" .unit="','" .locale="','"> </ha-control-slider> '])),this._ctPickerValue,r,o,this._ctColorChanged,this._ctColorCursorMoved,this.hass.localize("ui.dialogs.more_info_control.light.color_temp"),(0,y.W)({"--control-slider-color":i,"--gradient":n}),this.stateObj.state===N.Hh,P.rM.light.color_temp_kelvin,this.hass.locale)}},{kind:"field",key:"_generateTemperatureGradient",value:function(){return(0,A.A)((function(e,t){return S(e,t)}))}},{kind:"method",key:"_updateSliderValues",value:function(){var e=this.stateObj;"on"===e.state?this._ctPickerValue=e.attributes.color_mode===R.NC.COLOR_TEMP?e.attributes.color_temp_kelvin:void 0:this._ctPickerValue=void 0}},{kind:"method",key:"willUpdate",value:function(e){(0,v.A)(r,"willUpdate",this,3)([e]),e.has("stateObj")&&this._updateSliderValues()}},{kind:"method",key:"_ctColorCursorMoved",value:function(e){var t=e.detail.value;isNaN(t)||this._ctPickerValue===t||(this._ctPickerValue=t,(0,x.r)(this,"color-hovered",{color_temp_kelvin:t}),this._throttleUpdateColorTemp())}},{kind:"field",key:"_throttleUpdateColorTemp",value:function(){var e=this;return(0,M.n)((function(){e._updateColorTemp()}),500)}},{kind:"method",key:"_ctColorChanged",value:function(e){var t=e.detail.value;(0,x.r)(this,"color-hovered",void 0),isNaN(t)||this._ctPickerValue===t||(this._ctPickerValue=t,this._updateColorTemp())}},{kind:"method",key:"_updateColorTemp",value:function(){var e=this._ctPickerValue;this._applyColor({color_temp_kelvin:e})}},{kind:"method",key:"_applyColor",value:function(e,t){(0,x.r)(this,"color-changed",e),this.hass.callService("light","turn_on",Object.assign(Object.assign({entity_id:this.stateObj.entity_id},e),t))}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,b.AH)(E||(E=(0,l.A)([":host{display:flex;flex-direction:column}ha-control-slider{height:45vh;max-height:320px;min-height:200px;--control-slider-thickness:130px;--control-slider-border-radius:36px;--control-slider-color:var(--primary-color);--control-slider-background:-webkit-linear-gradient(\n            top,\n            var(--gradient)\n          );--control-slider-tooltip-font-size:20px;--control-slider-background-opacity:1}"])))]}}]}}),b.WF),i(),e.next=51;break;case 48:e.prev=48,e.t2=e.catch(0),i(e.t2);case 51:case"end":return e.stop()}}),e,null,[[0,48]])})));return function(t,r){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=79222.mrFL1DuE1tY.js.map