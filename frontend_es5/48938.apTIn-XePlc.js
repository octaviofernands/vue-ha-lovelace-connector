"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[48938],{28855:function(e,t,n){var a=n(22858).A,i=n(33994).A;n.a(e,function(){var e=a(i().mark((function e(a,r){var o,s,l,u,c,d,h,g,f,v,p,y,_,m,k,x,b,A,w,z,M,F,H,D,q,C,S,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.r(t),o=n(64599),s=n(35806),l=n(71008),u=n(62193),c=n(2816),d=n(27927),h=n(81027),g=n(44124),f=n(97741),v=n(39790),p=n(253),y=n(94438),_=n(16891),n(7986),m=n(50289),k=n(29818),x=n(57636),n(13082),b=n(43106),n(88400),A=n(47076),w=n(4826),z=n(20712),M=n(7934),!(F=a([x,b,A])).then){e.next=41;break}return e.next=37,F;case 37:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=42;break;case 41:e.t0=F;case 42:H=e.t0,x=H[0],b=H[1],A=H[2],T=[{level:-1,stroke:"var(--energy-grid-consumption-color)"},{level:0,stroke:"var(--energy-grid-return-color)"}],(0,d.A)([(0,k.EM)("hui-energy-grid-neutrality-gauge-card")],(function(e,t){var n=function(t){function n(){var t;(0,l.A)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=(0,u.A)(this,n,[].concat(i)),e(t),t}return(0,c.A)(n,t),(0,s.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,k.wk)()],key:"_data",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:function(){return["_config"]}},{kind:"method",key:"hassSubscribe",value:function(){var e,t=this;return[(0,A.tb)(this.hass,{key:null===(e=this._config)||void 0===e?void 0:e.collection_key}).subscribe((function(e){t._data=e}))]}},{kind:"method",key:"getCardSize",value:function(){return 4}},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"shouldUpdate",value:function(e){return(0,M.xP)(this,e)||e.size>1||!e.has("hass")}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return m.s6;if(!this._data)return(0,m.qy)(D||(D=(0,o.A)(["",""])),this.hass.localize("ui.panel.lovelace.cards.energy.loading"));var e,t=this._data.prefs.energy_sources.find((function(e){return"grid"===e.type}));if(!t)return m.s6;var n=(0,w.gF)(this._data.stats,t.flow_from.map((function(e){return e.stat_energy_from}))),a=(0,w.gF)(this._data.stats,t.flow_to.map((function(e){return e.stat_energy_to})));return null!==n&&null!==a&&(e=a>n?1-n/a:a<n?-1*(1-a/n):0),(0,m.qy)(q||(q=(0,o.A)([" <ha-card> "," </ha-card> "])),void 0!==e?(0,m.qy)(C||(C=(0,o.A)([' <ha-svg-icon id="info" .path="','"></ha-svg-icon> <simple-tooltip animation-delay="0" for="info" position="left"> <span> '," <br><br> ",' </span> </simple-tooltip> <ha-gauge min="-1" max="1" .value="','" .valueText="','" .locale="','" .levels="','" label="kWh" needle></ha-gauge> <div class="name"> '," </div> "])),"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",this.hass.localize("ui.panel.lovelace.cards.energy.grid_neutrality_gauge.energy_dependency"),this.hass.localize("ui.panel.lovelace.cards.energy.grid_neutrality_gauge.color_explain"),e,(0,x.ZV)(Math.abs(a-n),this.hass.locale,{maximumFractionDigits:2}),this.hass.locale,T,a>=n?this.hass.localize("ui.panel.lovelace.cards.energy.grid_neutrality_gauge.net_returned_grid"):this.hass.localize("ui.panel.lovelace.cards.energy.grid_neutrality_gauge.net_consumed_grid")):this.hass.localize("ui.panel.lovelace.cards.energy.grid_neutrality_gauge.grid_neutrality_not_calculated"))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,m.AH)(S||(S=(0,o.A)(["ha-card{height:100%;overflow:hidden;padding:16px;display:flex;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}ha-gauge{width:100%;max-width:250px;direction:ltr}.name{text-align:center;line-height:initial;color:var(--primary-text-color);width:100%;font-size:15px;margin-top:8px}ha-svg-icon{position:absolute;right:4px;inset-inline-end:4px;inset-inline-start:initial;top:4px;color:var(--secondary-text-color)}simple-tooltip>span{font-size:12px;line-height:12px}simple-tooltip{width:80%;max-width:250px;top:8px!important}"])))}}]}}),(0,z.E)(m.WF)),r(),e.next=55;break;case 52:e.prev=52,e.t2=e.catch(0),r(e.t2);case 55:case"end":return e.stop()}}),e,null,[[0,52]])})));return function(t,n){return e.apply(this,arguments)}}())},24226:function(e,t,n){n.d(t,{z:function(){return i}});var a=n(30429);function i(e,t){var n=(0,a.a)(e),i=(0,a.a)(t),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}},72730:function(e,t,n){n.d(t,{W:function(){return s}});n(29193);var a=n(24226),i=n(30429);function r(e,t){var n=(0,i.a)(e),a=(0,i.a)(t);return 12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth())}var o=n(91103);function s(e,t){var n,s=(0,i.a)(e),l=(0,i.a)(t),u=(0,a.z)(s,l),c=Math.abs(r(s,l));if(c<1)n=0;else{1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*c);var d=(0,a.z)(s,l)===-u;(0,o.c)((0,i.a)(e))&&1===c&&1===(0,a.z)(e,l)&&(d=!1),n=u*(c-Number(d))}return 0===n?0:n}},77301:function(e,t,n){n.d(t,{e:function(){return i}});var a=n(30429);function i(e){return 1===(0,a.a)(e).getDate()}},91103:function(e,t,n){n.d(t,{c:function(){return o}});var a=n(60132),i=n(12152),r=n(30429);function o(e){var t=(0,r.a)(e);return+(0,a.D)(t)==+(0,i.p)(t)}}}]);
//# sourceMappingURL=48938.apTIn-XePlc.js.map