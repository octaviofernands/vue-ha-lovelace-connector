"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[15416],{15416:function(e,i,t){t.r(i);var s,a,o,n,c,l=t(64599),r=t(33994),d=t(22858),h=t(35806),u=t(71008),k=t(62193),v=t(2816),g=t(27927),f=(t(81027),t(97741),t(16891),t(67056),t(50289)),_=t(29818),p=t(94100),m=t(34897),A=t(79051),w=(t(32885),t(77312),t(26025)),y=t(37266),x=t(6121),b=t(55321),D=t(88441),z=(0,p.A)((function(e){var i=""!==e.disk_life_time?30:10,t=1e3*e.disk_used/60/i,s=4*e.startup_time/60;return 10*Math.ceil((t+s)/10)}));(0,g.A)([(0,_.EM)("dialog-move-datadisk")],(function(e,i){var t,g,p=function(i){function t(){var i;(0,u.A)(this,t);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return i=(0,k.A)(this,t,[].concat(a)),e(i),i}return(0,v.A)(t,i),(0,h.A)(t)}(i);return{F:p,d:[{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_hostInfo",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_selectedDevice",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_disks",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_osInfo",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_moving",value:function(){return!1}},{kind:"method",key:"showDialog",value:(g=(0,d.A)((0,r.A)().mark((function e(i){var t;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._hostInfo=i.hostInfo,e.prev=1,e.next=4,(0,y.PB)(this.hass);case 4:return this._osInfo=e.sent,e.next=7,(0,y.xY)(this.hass);case 7:if(!((t=e.sent).devices.length>0)){e.next=12;break}this._disks=t.disks,e.next=15;break;case 12:return this.closeDialog(),e.next=15,(0,x.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.storage.datadisk.no_devices_title"),text:this.hass.localize("ui.panel.config.storage.datadisk.no_devices_text")});case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(1),this.closeDialog(),e.next=22,(0,x.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.hardware.available_hardware.failed_to_get"),text:(0,w.VR)(e.t0)});case 22:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(e){return g.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._selectedDevice=void 0,this._disks=void 0,this._moving=!1,this._hostInfo=void 0,this._osInfo=void 0,(0,m.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var e=this;return this._hostInfo&&this._osInfo&&this._disks?(0,f.qy)(s||(s=(0,l.A)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','" ?hideActions="','"> '," </ha-dialog> "])),this._moving?this.hass.localize("ui.panel.config.storage.datadisk.moving"):this.hass.localize("ui.panel.config.storage.datadisk.title"),this.closeDialog,this._moving,this._moving?(0,f.qy)(a||(a=(0,l.A)([' <ha-circular-progress aria-label="Moving" size="large" indeterminate> </ha-circular-progress> <p class="progress-text"> '," </p> "])),this.hass.localize("ui.panel.config.storage.datadisk.moving_desc")):(0,f.qy)(o||(o=(0,l.A)([" ",' <br><br> <ha-select .label="','" @selected="','" @closed="','" dialogInitialFocus fixedMenuPosition> ',' </ha-select> <mwc-button slot="secondaryAction" @click="','" dialogInitialFocus> ',' </mwc-button> <mwc-button .disabled="','" slot="primaryAction" @click="','"> '," </mwc-button> "])),this.hass.localize("ui.panel.config.storage.datadisk.description",{current_path:this._osInfo.data_disk,time:z(this._hostInfo)}),this.hass.localize("ui.panel.config.storage.datadisk.select_device"),this._select_device,A.d,this._disks.map((function(i){return(0,f.qy)(n||(n=(0,l.A)(['<mwc-list-item twoline .value="','"> <span>'," ",'</span> <span slot="secondary"> '," </span> </mwc-list-item>"])),i.id,i.vendor,i.model,e.hass.localize("ui.panel.config.storage.datadisk.extra_information",{size:(0,D.A)(i.size),serial:i.serial}))})),this.closeDialog,this.hass.localize("ui.panel.config.storage.datadisk.cancel"),!this._selectedDevice,this._moveDatadisk,this.hass.localize("ui.panel.config.storage.datadisk.move"))):f.s6}},{kind:"method",key:"_select_device",value:function(e){this._selectedDevice=e.target.value}},{kind:"method",key:"_moveDatadisk",value:(t=(0,d.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._moving=!0,e.prev=1,e.next=4,(0,y.v9)(this.hass,this._selectedDevice);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this.hass.connection.connected&&!(0,w.Tv)(e.t0)&&(0,x.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.storage.datadisk.failed_to_move"),text:(0,w.VR)(e.t0)});case 9:return e.prev=9,this.closeDialog(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])}))),function(){return t.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[b.RF,b.nA,(0,f.AH)(c||(c=(0,l.A)(["ha-select{width:100%}ha-circular-progress{display:block;margin:32px;text-align:center}.progress-text{text-align:center}"])))]}}]}}),f.WF)}}]);
//# sourceMappingURL=15416.3pLB66EfOAs.js.map