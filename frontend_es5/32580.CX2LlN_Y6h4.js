"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[32580],{32580:function(e,t,i){i.r(t),i.d(t,{HaLongLivedAccessTokenDialog:function(){return x}});var n,a,o,s,r=i(33994),c=i(22858),l=i(64599),d=i(35806),h=i(71008),u=i(62193),p=i(2816),k=i(27927),v=(i(81027),i(95737),i(50693),i(39790),i(66457),i(99019),i(96858),i(72606),i(50289)),_=i(29818),g=i(34897),m=i(29180),f=(i(90431),i(4169),i(55321)),A=i(32920),y=i(18589),x=(0,k.A)([(0,_.EM)("ha-long-lived-access-token-dialog")],(function(e,t){var k,x,w=function(t){function i(){var t;(0,h.A)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=(0,u.A)(this,i,[].concat(a)),e(t),t}return(0,p.A)(i,t),(0,d.A)(i)}(t);return{F:w,d:[{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_qrCode",value:void 0},{kind:"method",key:"showDialog",value:function(e){this._params=e}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,this._qrCode=void 0,(0,g.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return this._params&&this._params.token?(0,v.qy)(n||(n=(0,l.A)([' <ha-dialog open hideActions .heading="','" @closed="','"> <div> <ha-textfield dialogInitialFocus .value="','" .label="','" type="text" iconTrailing readOnly="readOnly"> <ha-icon-button @click="','" slot="trailingIcon" .path="','"></ha-icon-button> </ha-textfield> <div id="qr"> '," </div> </div> </ha-dialog> "])),(0,m.l)(this.hass,this._params.name),this.closeDialog,this._params.token,this.hass.localize("ui.panel.profile.long_lived_access_tokens.prompt_copy_token"),this._copyToken,"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",this._qrCode?this._qrCode:(0,v.qy)(a||(a=(0,l.A)([' <mwc-button @click="','"> '," </mwc-button> "])),this._generateQR,this.hass.localize("ui.panel.profile.long_lived_access_tokens.generate_qr_code"))):v.s6}},{kind:"method",key:"_copyToken",value:(x=(0,c.A)((0,r.A)().mark((function e(t){var i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.target.parentElement,e.next=3,(0,A.l)(i.value);case 3:(0,y.P)(this,{message:this.hass.localize("ui.common.copied_clipboard")});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{kind:"method",key:"_generateQR",value:(k=(0,c.A)((0,r.A)().mark((function e(){var t,n,a,s;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(i.t.bind(i,50240,19));case 2:return t=e.sent,e.next=5,t.toCanvas(this._params.token,{width:180,errorCorrectionLevel:"Q"});case 5:return n=e.sent,a=n.getContext("2d"),(s=new Image).src="/static/icons/favicon-192x192.png",e.next=11,new Promise((function(e){s.onload=e}));case 11:null==a||a.drawImage(s,n.width/3,n.height/3,n.width/3,n.height/3),this._qrCode=(0,v.qy)(o||(o=(0,l.A)(['<img alt="','" src="','">'])),this.hass.localize("ui.panel.profile.long_lived_access_tokens.qr_code_image",{name:this._params.name}),n.toDataURL());case 13:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[f.nA,(0,v.AH)(s||(s=(0,l.A)(["#qr{text-align:center}ha-textfield{display:block;--textfield-icon-trailing-padding:0}ha-textfield>ha-icon-button{position:relative;right:-8px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:-8px;direction:var(--direction)}"])))]}}]}}),v.WF)}}]);
//# sourceMappingURL=32580.CX2LlN_Y6h4.js.map