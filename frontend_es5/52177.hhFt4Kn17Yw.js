"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[52177],{52177:function(t,e,i){i.r(e);var n,a,s,o,r,h,c=i(64599),d=i(33994),u=i(22858),f=i(35806),g=i(71008),m=i(62193),l=i(2816),_=i(27927),p=i(35890),v=(i(71499),i(81027),i(82386),i(95737),i(50693),i(26098),i(39790),i(66457),i(99019),i(96858),i(50289)),y=i(29818),k=i(10977),w=i(38962),b=i(213),A=i(19244),x=(i(13082),i(9755)),C=i(25319),E=i(18102),q=i(63582),j=i(562),z=i(7934),F=(i(16204),i(46645));(0,_.A)([(0,y.EM)("hui-picture-entity-card")],(function(t,e){var _,H=function(e){function i(){var e;(0,g.A)(this,i);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=(0,m.A)(this,i,[].concat(a)),t(e),e}return(0,l.A)(i,e),(0,f.A)(i)}(e);return{F:H,d:[{kind:"method",static:!0,key:"getConfigElement",value:(_=(0,u.A)((0,d.A)().mark((function t(){return(0,d.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(97912).then(i.bind(i,97912));case 2:return t.abrupt("return",document.createElement("hui-picture-entity-card-editor"));case 3:case"end":return t.stop()}}),t)}))),function(){return _.apply(this,arguments)})},{kind:"method",static:!0,key:"getStubConfig",value:function(t,e,i){return{type:"picture-entity",entity:(0,E.B)(t,1,e,i,["light","switch"])[0]||"",image:"https://demo.home-assistant.io/stub_config/bedroom.png"}}},{kind:"field",decorators:[(0,y.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,y.wk)()],key:"_config",value:void 0},{kind:"method",key:"getCardSize",value:function(){return 3}},{kind:"method",key:"setConfig",value:function(t){if(!t||!t.entity)throw new Error("Entity must be specified");if(!(["camera","image","person"].includes((0,b.m)(t.entity))||t.image||t.state_image||t.camera_image))throw new Error("No image source configured");this._config=Object.assign({show_name:!0,show_state:!0},t)}},{kind:"method",key:"shouldUpdate",value:function(t){return(0,z.LX)(this,t)}},{kind:"method",key:"updated",value:function(t){if((0,p.A)(H,"updated",this,3)([t]),this._config&&this.hass){var e=t.get("hass"),i=t.get("_config");e&&i&&e.themes===this.hass.themes&&i.theme===this._config.theme||(0,w.Q)(this,this.hass.themes,this._config.theme)}}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return v.s6;var t=this.hass.states[this._config.entity];if(!t)return(0,v.qy)(n||(n=(0,c.A)([" <hui-warning> "," </hui-warning> "])),(0,F.j)(this.hass,this._config.entity));var e=this._config.name||(0,A.u)(t),i=this.hass.formatEntityState(t),h="";this._config.show_name&&this._config.show_state?h=(0,v.qy)(a||(a=(0,c.A)([' <div class="footer both"> <div>',"</div> <div>","</div> </div> "])),e,i):this._config.show_name?h=(0,v.qy)(s||(s=(0,c.A)(['<div class="footer single">',"</div>"])),e):this._config.show_state&&(h=(0,v.qy)(o||(o=(0,c.A)(['<div class="footer single">',"</div>"])),i));var d=(0,b.m)(this._config.entity),u=this._config.image;switch(d){case"image":u=(0,x.e)(t);break;case"person":t.attributes.entity_picture&&(u=t.attributes.entity_picture)}return(0,v.qy)(r||(r=(0,c.A)([' <ha-card> <hui-image .hass="','" .image="','" .stateImage="','" .stateFilter="','" .cameraImage="','" .cameraView="','" .entity="','" .aspectRatio="','" .fitMode="','" @action="','" .actionHandler="','" tabindex="','"></hui-image> '," </ha-card> "])),this.hass,u,this._config.state_image,this._config.state_filter,"camera"===d?this._config.entity:this._config.camera_image,this._config.camera_view,this._config.entity,this._config.aspect_ratio,this._config.fit_mode,this._handleAction,(0,C.T)({hasHold:(0,j.h)(this._config.hold_action),hasDoubleClick:(0,j.h)(this._config.double_tap_action)}),(0,k.J)((0,j.h)(this._config.tap_action)||this._config.entity?"0":void 0),h)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,v.AH)(h||(h=(0,c.A)(["ha-card{min-height:75px;overflow:hidden;position:relative;height:100%;box-sizing:border-box}hui-image{cursor:pointer;height:100%}.footer{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:absolute;left:0;right:0;bottom:0;background-color:var(--ha-picture-card-background-color,rgba(0,0,0,.3));padding:16px;font-size:16px;line-height:16px;color:var(--ha-picture-card-text-color,#fff);pointer-events:none}.both{display:flex;justify-content:space-between}.single{text-align:center}"])))}},{kind:"method",key:"_handleAction",value:function(t){(0,q.$)(this,this.hass,this._config,t.detail.action)}}]}}),v.WF)}}]);
//# sourceMappingURL=52177.hhFt4Kn17Yw.js.map